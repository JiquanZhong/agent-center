(this["webpackJsonpMyLibrary"]=this["webpackJsonpMyLibrary"]||[]).push([["chunk-74d39355"],{"9fbb8":function(e,t,s){"use strict";s.r(t);var i=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:"选择人员",visible:e.visible,okText:"确定",cancelText:"取消",width:"1000px",centered:""},on:{"update:visible":function(t){e.visible=t},ok:e.handleOk,cancel:e.handleCancel}},[t("SystemList",{ref:"persList",attrs:{columns:e.persColumns,render:e.$bpmSystemProServices.persService.selectPersList,params:e.persParams,searchItems:e.searchItems,pagination:e.pagination,type:"checkbox",defaultLoad:!0},on:{"update:pagination":function(t){e.pagination=t},change:e.onPersChange}})],1)},r=[],a=(s("a15b"),s("d8b8")),n={name:"Categories",props:{visible:{type:Boolean,default:!1,required:!0},roleId:{type:String,required:!0}},mounted:function(){},data:function(){return{persParams:{roleId:this.roleId},persColumns:[{title:"序号",width:"15%",align:"center",customRender:function(e,t,s){return"".concat(s+1)}},{title:"部门名称",dataIndex:"depname",width:"30%",align:"center",ellipsis:!0,sorter:!1},{title:"帐号",dataIndex:"loginName",width:"20%",align:"center",sorter:!1},{title:"姓名",dataIndex:"name",width:"20%",align:"center",sorter:!1},{title:"备注",dataIndex:"remark",width:"15%",ellipsis:!0}],searchItems:[{id:"loginName",label:"账号",type:"input"},{id:"name",label:"姓名",type:"input"}],pagination:{pageIndex:1,pageSize:20,total:0},selectedRows:[],selectedRowKeys:[]}},methods:{onPersChange:function(e,t,s,i){i.currentDataSource;this.pagination.pageIndex=e.current,this.persParams.sortField=s.field,this.persParams.sortOrder=s.order,this.$refs.persList.getListData()},handleOk:function(){var e=this,t=this.$refs.persList.getSelectedKeys();this.$bpmSystemProServices.persService.addUserToRole({userIds:t.join(","),roleId:this.roleId}).then((function(t){t?(e.$message.success("保存成功"),e.$emit("update:visible",!1),e.$emit("submit")):e.$message.error("保存失败"),e.$refs.persList.clearSelected()}))},handleCancel:function(){this.$emit("update:visible",!1),this.$refs.persList.clearSelected()}},watch:{roleId:function(e){this.persParams.roleId=e},visible:function(e){var t=this;e?this.$nextTick((function(){t.$refs.persList.getListData()})):(this.selectedRowKeys=[],this.selectedRows=[])}},components:{SystemList:a["a"]}},l=n,o=s("2877"),c=Object(o["a"])(l,i,r,!1,null,null,null);t["default"]=c.exports}}]);