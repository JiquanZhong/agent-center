(this["webpackJsonpMyLibrary"]=this["webpackJsonpMyLibrary"]||[]).push([["system","chunk-773554b9","chunk-34e01a39","chunk-2d0ac93f","chunk-2d0ac93f","chunk-2d0ac93f"],{"07e1":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"counter-container"},[t("SystemList",{ref:"counterList",attrs:{title:"计数器管理",rowKey:"counterNumeric",columns:e.counterColumns,render:e.$bpmSystemProServices.systemService.getCounterList,params:e.counterParams,pagination:e.pagination,buttons:e.counterButtons,type:"checkbox",scroll:{y:e.scrollY}},on:{"update:pagination":function(t){e.pagination=t},change:e.onCounterListChange,rowClick:e.onRowClick,rowDbClick:e.onRowDbclick}},[t("template",{slot:"search-box"},[t("a-form",{attrs:{layout:"inline"}},[t("a-form-item",[t("a-input-search",{attrs:{placeholder:"请输入计数器名称","enter-button":"",allowClear:""},on:{search:e.onSearch},model:{value:e.counterParams.counterName,callback:function(t){e.$set(e.counterParams,"counterName",t)},expression:"counterParams.counterName"}})],1)],1)],1)],2),t("AddCounter",{attrs:{visible:e.addVisible,editData:e.editData,type:e.openType},on:{"update:visible":function(t){e.addVisible=t},"update:editData":function(t){e.editData=t},"update:edit-data":function(t){e.editData=t},submit:e.onCounterSubmit}})],1)},r=[],a=n("c14f"),s=n("1da1"),o=(n("4de4"),n("a15b"),n("b0c0"),n("d3b7"),n("d8b8")),c=n("2a8a"),u={name:"Counter",created:function(){this.getResetStrategies(),this.getScrollY()},data:function(){var e=this,t=this;return{scrollY:null,addVisible:!1,editData:{},openType:"",counterParams:{counterName:""},selectedRows:[],selectedRowKeys:[],pagination:{pageIndex:1,pageSize:20,total:0},counterColumns:[{title:"计数器名称",dataIndex:"counterName",ellipsis:!0,width:"220px"},{title:"初始值",dataIndex:"initialValue",align:"center",width:"120px"},{title:"当前值",dataIndex:"currentValue",align:"center",width:"120px"},{title:"步长",dataIndex:"stepLength",align:"center",width:"120px"},{title:"清零规则",dataIndex:"resetStrategy",align:"center",ellipsis:!0,customRender:function(t){var n=e.resetStrategies.filter((function(e){return e.code===t}));return n.length>0?n[0].name:""}},{title:"创建时间",dataIndex:"currenttime",align:"center",ellipsis:!0,width:"220px"},{title:"备注",dataIndex:"description",ellipsis:!0}],counterButtons:[{id:1,text:"新增",icon:"iconfont-New",click:function(){t.editData={},t.openType="",t.addVisible=!0}},{id:2,text:"编辑",icon:"iconfont-Editor",click:function(){var e=t.$refs.counterList.getSelecteds();e&&e.length>1?t.$message.warning("请选择一条数据"):(t.editData=t.$refs.counterList.getSelected(),t.editData?(t.openType="edit",t.addVisible=!0):t.$message.warning("请选择要编辑的计数器"))}},{id:3,text:"删除",icon:"iconfont-Delete",click:function(){var e=t.$refs.counterList.getSelectedKeys();e&&e.length>0?t.$confirm({title:"提示",content:"确定删除记录?",okText:"确认",cancelText:"取消",onOk:function(){t.$bpmSystemProServices.systemService.deleteCounter({ids:e.join(",")}).then((function(e){e?(t.$message.success("删除成功"),t.$refs.counterList.clearSelected(),t.onSearch()):t.$message.error("删除失败")}))},onCancel:function(){}}):t.$message.warning("请选择要删除的计数器")}}]}},methods:{getScrollY:function(){var e=this;this.$nextTick((function(){var t=e.$refs.counterList.$el.querySelector(".ant-table-wrapper");e.scrollY=t.offsetHeight-115}))},getResetStrategies:function(){var e=this;return Object(s["a"])(Object(a["a"])().m((function t(){var n;return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.$bpmSystemProServices.systemService.getDictByCode("QLGZ");case 1:n=t.v,e.resetStrategies=n;case 2:return t.a(2)}}),t)})))()},onCounterListChange:function(e,t,n,i){i.currentDataSource;this.pagination.pageIndex=e.current,this.onSearch()},onSearch:function(){var e=this;return Object(s["a"])(Object(a["a"])().m((function t(){return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:return t.a(2,new Promise(function(){var t=Object(s["a"])(Object(a["a"])().m((function t(n,i){return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.$refs.counterList.getListData();case 1:n();case 2:return t.a(2)}}),t)})));return function(e,n){return t.apply(this,arguments)}}()))}}),t)})))()},onRowClick:function(e){this.editData=e},onRowDbclick:function(e){this.editData=e,this.openType="edit",this.addVisible=!0},onCounterSubmit:function(e){var t=this;return Object(s["a"])(Object(a["a"])().m((function n(){return Object(a["a"])().w((function(n){while(1)switch(n.n){case 0:return n.n=1,t.onSearch();case 1:e&&t.$refs.counterList.setSelectedRow(e);case 2:return n.a(2)}}),n)})))()}},components:{SystemList:o["a"],AddCounter:c["default"]}},l=u,d=(n("fa68"),n("2877")),f=Object(d["a"])(l,i,r,!1,null,"0f07d7f9",null);t["default"]=f.exports},"160f":function(e,t,n){},"19ab":function(e,t,n){!function(t,n){e.exports=n()}(0,(function(){return function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,i){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:i})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/dist/",t(t.s=7)}([function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var i={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(i[a]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&i[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(e,t){e.exports=function(e,t,n,i){var r,a=e=e||{},s=typeof e.default;"object"!==s&&"function"!==s||(r=e,a=e.default);var o="function"==typeof a?a.options:a;if(t&&(o.render=t.render,o.staticRenderFns=t.staticRenderFns),n&&(o._scopeId=n),i){var c=Object.create(o.computed||null);Object.keys(i).forEach((function(e){var t=i[e];c[e]=function(){return t}})),o.computed=c}return{esModule:r,exports:a,options:o}}},function(e,t,n){function i(e){for(var t=0;t<e.length;t++){var n=e[t],i=l[n.id];if(i){i.refs++;for(var r=0;r<i.parts.length;r++)i.parts[r](n.parts[r]);for(;r<n.parts.length;r++)i.parts.push(a(n.parts[r]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var s=[];for(r=0;r<n.parts.length;r++)s.push(a(n.parts[r]));l[n.id]={id:n.id,refs:1,parts:s}}}}function r(){var e=document.createElement("style");return e.type="text/css",d.appendChild(e),e}function a(e){var t,n,i=document.querySelector('style[data-vue-ssr-id~="'+e.id+'"]');if(i){if(m)return h;i.parentNode.removeChild(i)}if(v){var a=p++;i=f||(f=r()),t=s.bind(null,i,a,!1),n=s.bind(null,i,a,!0)}else i=r(),t=o.bind(null,i),n=function(){i.parentNode.removeChild(i)};return t(e),function(i){if(i){if(i.css===e.css&&i.media===e.media&&i.sourceMap===e.sourceMap)return;t(e=i)}else n()}}function s(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=g(t,r);else{var a=document.createTextNode(r),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(a,s[t]):e.appendChild(a)}}function o(e,t){var n=t.css,i=t.media,r=t.sourceMap;if(i&&e.setAttribute("media",i),r&&(n+="\n/*# sourceURL="+r.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var c="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!c)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var u=n(19),l={},d=c&&(document.head||document.getElementsByTagName("head")[0]),f=null,p=0,m=!1,h=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());e.exports=function(e,t,n){m=n;var r=u(e,t);return i(r),function(t){for(var n=[],a=0;a<r.length;a++){var s=r[a],o=l[s.id];o.refs--,n.push(o)}t?(r=u(e,t),i(r)):r=[];for(a=0;a<n.length;a++){o=n[a];if(0===o.refs){for(var c=0;c<o.parts.length;c++)o.parts[c]();delete l[o.id]}}}};var g=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},function(e,t,n){n(17);var i=n(1)(n(4),n(14),"data-v-566a42b8",null);e.exports=i.exports},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),a=i(r),s=n(11),o=i(s);t.default={name:"splitPane",components:{Resizer:a.default,Pane:o.default},props:{minPercent:{type:Number,default:10},defaultPercent:{type:Number,default:50},split:{validator:function(e){return["vertical","horizontal"].indexOf(e)>=0},required:!0},className:String},computed:{userSelect:function(){return this.active?"none":""},cursor:function(){return this.active?"vertical"===this.split?"col-resize":"row-resize":""}},watch:{defaultPercent:function(e,t){this.percent=e}},data:function(){return{active:!1,hasMoved:!1,height:null,percent:this.defaultPercent,type:"vertical"===this.split?"width":"height",resizeType:"vertical"===this.split?"left":"top"}},methods:{onClick:function(){this.hasMoved||(this.percent=50,this.$emit("resize",this.percent))},onMouseDown:function(){this.active=!0,this.hasMoved=!1},onMouseUp:function(){this.active=!1},onMouseMove:function(e){if(0!==e.buttons&&0!==e.which||(this.active=!1),this.active){var t=0,n=e.currentTarget;if("vertical"===this.split)for(;n;)t+=n.offsetLeft,n=n.offsetParent;else for(;n;)t+=n.offsetTop,n=n.offsetParent;var i="vertical"===this.split?e.pageX:e.pageY,r="vertical"===this.split?e.currentTarget.offsetWidth:e.currentTarget.offsetHeight,a=Math.floor((i-t)/r*1e4)/100;a>this.minPercent&&a<100-this.minPercent&&(this.percent=a),this.$emit("resize",this.percent),this.hasMoved=!0}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"Pane",props:{className:String},data:function(){return{classes:[this.$parent.split,this.className].join(" "),percent:50}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{split:{validator:function(e){return["vertical","horizontal"].indexOf(e)>=0},required:!0},className:String},computed:{classes:function(){return["splitter-pane-resizer",this.split,this.className].join(" ")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),r=function(e){return e&&e.__esModule?e:{default:e}}(i);t.default=r.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("split-pane",r.default)},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".splitter-pane-resizer[data-v-212fa2a4]{box-sizing:border-box;background:#000;position:absolute;opacity:.2;z-index:1;background-clip:padding-box}.splitter-pane-resizer.horizontal[data-v-212fa2a4]{height:11px;margin:-5px 0;border-top:5px solid hsla(0,0%,100%,0);border-bottom:5px solid hsla(0,0%,100%,0);cursor:row-resize;width:100%}.splitter-pane-resizer.vertical[data-v-212fa2a4]{width:11px;height:100%;margin-left:-5px;border-left:5px solid hsla(0,0%,100%,0);border-right:5px solid hsla(0,0%,100%,0);cursor:col-resize}",""])},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,'.clearfix[data-v-566a42b8]:after{visibility:hidden;display:block;font-size:0;content:" ";clear:both;height:0}.vue-splitter-container[data-v-566a42b8]{height:100%;position:relative}.vue-splitter-container-mask[data-v-566a42b8]{z-index:9999;width:100%;height:100%;position:absolute;top:0;left:0}',""])},function(e,t,n){t=e.exports=n(0)(),t.push([e.i,".splitter-pane.vertical.splitter-paneL[data-v-815c801c]{position:absolute;left:0;height:100%;padding-right:3px}.splitter-pane.vertical.splitter-paneR[data-v-815c801c]{position:absolute;right:0;height:100%;padding-left:3px}.splitter-pane.horizontal.splitter-paneL[data-v-815c801c]{position:absolute;top:0;width:100%}.splitter-pane.horizontal.splitter-paneR[data-v-815c801c]{position:absolute;bottom:0;width:100%;padding-top:3px}",""])},function(e,t,n){n(18);var i=n(1)(n(5),n(15),"data-v-815c801c",null);e.exports=i.exports},function(e,t,n){n(16);var i=n(1)(n(6),n(13),"data-v-212fa2a4",null);e.exports=i.exports},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.classes})},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e,t,n,i=this,r=i.$createElement,a=i._self._c||r;return a("div",{staticClass:"vue-splitter-container clearfix",style:{cursor:i.cursor,userSelect:i.userSelect},on:{mouseup:i.onMouseUp,mousemove:i.onMouseMove}},[a("pane",{staticClass:"splitter-pane splitter-paneL",style:(e={},e[i.type]=i.percent+"%",e),attrs:{split:i.split}},[i._t("paneL")],2),i._v(" "),a("resizer",{style:(t={},t[i.resizeType]=i.percent+"%",t),attrs:{className:i.className,split:i.split},nativeOn:{mousedown:function(e){return i.onMouseDown(e)},click:function(e){return i.onClick(e)}}}),i._v(" "),a("pane",{staticClass:"splitter-pane splitter-paneR",style:(n={},n[i.type]=100-i.percent+"%",n),attrs:{split:i.split}},[i._t("paneR")],2),i._v(" "),i.active?a("div",{staticClass:"vue-splitter-container-mask"}):i._e()],1)},staticRenderFns:[]}},function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{class:e.classes},[e._t("default")],2)},staticRenderFns:[]}},function(e,t,n){var i=n(8);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(2)("a82a4610",i,!0)},function(e,t,n){var i=n(9);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(2)("033d59ad",i,!0)},function(e,t,n){var i=n(10);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals),n(2)("6816c93c",i,!0)},function(e,t){e.exports=function(e,t){for(var n=[],i={},r=0;r<t.length;r++){var a=t[r],s=a[0],o=a[1],c=a[2],u=a[3],l={id:e+":"+r,css:o,media:c,sourceMap:u};i[s]?i[s].parts.push(l):n.push(i[s]={id:s,parts:[l]})}return n}}])}))},"260d":function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"menus-container"},[t("SystemList",{ref:"menuList",attrs:{title:"菜单管理",columns:e.menuColumns,render:e.$bpmSystemProServices.systemService.getMenuList,buttons:e.menuButtons,scroll:{y:e.scrollY},pagination:!1,showAsTree:!0,defaultExpandAllRows:!0,expandIconColumnIndex:1},on:{rowClick:e.onRowClick,rowDbClick:e.onRowDbClick,datachange:e.getKey}}),t("AddMenu",{attrs:{visible:e.addVisible,editData:e.editData,type:e.openType,menus:e.menus},on:{"update:visible":function(t){e.addVisible=t},"update:editData":function(t){e.editData=t},"update:edit-data":function(t){e.editData=t},submit:e.onSearch}})],1)},r=[],a=n("c14f"),s=n("1da1"),o=n("2909"),c=(n("99af"),n("4de4"),n("c740"),n("b64b"),n("d3b7"),n("159b"),n("d8b8")),u=n("a18c6"),l={name:"Menus",mounted:function(){},data:function(){var e=this;return{scrollY:null,menus:[],addVisible:!1,editData:{},openType:"",currentRow:{},changeRow:{},menuItem:{},menuColumns:[{title:"序号",customRender:function(e,t,n){return"".concat(n+1)},width:40,align:"center"},{title:"显示名称",dataIndex:"name",ellipsis:!0,width:120},{title:"配置名称",dataIndex:"confName",ellipsis:!0,width:120},{title:"菜单标识",dataIndex:"code",ellipsis:!0,width:80},{title:"菜单路径",dataIndex:"url",ellipsis:!0,width:300},{title:"顺序号",dataIndex:"sortNum",ellipsis:!0,width:50,align:"center"},{title:"菜单图标",dataIndex:"icon",ellipsis:!0,width:50,align:"center",scopedSlots:{customRender:"icon"}}],menuButtons:[{id:1,text:"新增",icon:"iconfont-New",click:function(){e.editData={pid:e.editData.id},e.openType="",e.menus=JSON.parse(JSON.stringify(e.$refs.menuList.getData())),e.addVisible=!0}},{id:2,text:"编辑",icon:"iconfont-Editor",click:function(){e.openType="edit",e.menus=JSON.parse(JSON.stringify(e.$refs.menuList.getData())),e.addVisible=!0}},{id:3,text:"删除",icon:"iconfont-Delete",click:function(){e.$confirm({title:"提示",content:"确定删除记录?",okText:"确认",cancelText:"取消",onOk:function(){e.$bpmSystemProServices.systemService.deleteMenu({resourceId:e.editData.id}).then((function(){e.onSearch()}))},onCancel:function(){}})}},{id:4,text:"上移",icon:"iconfont-up",click:function(){e.menuItem=e.$refs.menuList.getSelected()||{},0===Object.keys(e.menuItem).length&&e.$message.warning("请选择一条记录！");var t=e.$refs.menuList.getData(),n=[],i=null;if(e.menuItem.pid){var r=function(e){return e.forEach((function(t,n){t.children&&(e=[].concat(Object(o["a"])(e),Object(o["a"])(r(t.children))))})),e};n=r(t);var a=n.filter((function(t){return t.id===e.menuItem.pid})),s=a[0].children;if(i=s.findIndex((function(t){return t.id===e.menuItem.id})),0===i)return void e.$message.warning("不能上移");e.currentRow=e.menuItem,e.changeRow=s[i-1]}else{var c=t.findIndex((function(t){return t.id===e.menuItem.id}));if(0===c)return void e.$message.warning("不能上移");e.currentRow=e.menuItem,e.changeRow=t[c-1]}e.updateList("sy")}},{id:5,text:"下移",icon:"iconfont-down",click:function(){e.menuItem=e.$refs.menuList.getSelected()||{},0===Object.keys(e.menuItem).length&&e.$message.warning("请选择一条记录！");var t=e.$refs.menuList.getData(),n=[],i=null;if(e.menuItem.pid){var r=function(e){return e.forEach((function(t,n){t.children&&(e=[].concat(Object(o["a"])(e),Object(o["a"])(r(t.children))))})),e};n=r(t);var a=n.filter((function(t){return t.id===e.menuItem.pid})),s=a[0].children;if(i=s.findIndex((function(t){return t.id===e.menuItem.id})),i===s.length-1)return void e.$message.warning("不能下移");e.currentRow=e.menuItem,e.changeRow=s[i+1]}else{if(i=t.findIndex((function(t){return t.id===e.menuItem.id})),i===t.length-1)return void e.$message.warning("不能下移");e.currentRow=e.menuItem,e.changeRow=t[i+1]}e.updateList("xy")}},{id:6,text:"刷新",icon:"iconfont-Refresh",click:function(){e.onSearch()}}]}},provide:function(){return{getList:this.getList}},methods:{getScrollY:function(){var e=this;this.$nextTick((function(){var t=e.$refs.menuList.$el.querySelector(".ant-table-wrapper");e.scrollY=t.offsetHeight-50}))},getList:function(){return JSON.parse(JSON.stringify(this.$refs.menuList.getData()))},onSearch:function(){this.$refs.menuList.getListData()},onRowClick:function(e){this.editData=e},onRowDbClick:function(e){this.editData=e,this.menus=JSON.parse(JSON.stringify(this.$refs.menuList.getData())),this.openType="edit",this.addVisible=!0},updateList:function(e){var t=this;return Object(s["a"])(Object(a["a"])().m((function n(){var i;return Object(a["a"])().w((function(n){while(1)switch(n.n){case 0:if(t.currentRow.sortNum&&t.changeRow.sortNum){n.n=1;break}return"sy"===e?t.$message.error("选中的菜单和其上方的菜单的顺序号均不能为空！"):t.$message.error("选中的菜单和其下方的菜单的顺序号均不能为空！"),n.a(2);case 1:i=t.currentRow.sortNum,t.currentRow.sortNum=t.changeRow.sortNum,t.changeRow.sortNum=i,t.$bpmSystemProServices.systemService.updateMenu(t.changeRow).then((function(e){e||t.$message.error("更新失败")})),t.$bpmSystemProServices.systemService.updateMenu(t.currentRow).then((function(e){e?t.onSearch():t.$message.error("更新失败")}));case 2:return n.a(2)}}),n)})))()},getKey:function(){this.$refs.menuList.setSelectedRow(this.currentRow.id)}},created:function(){this.getScrollY()},components:{SystemList:c["a"],AddMenu:u["default"]}},d=l,f=(n("a5ef"),n("2877")),p=Object(f["a"])(d,i,r,!1,null,"8417a0be",null);t["default"]=p.exports},"2a8a":function(e,t,n){"use strict";n.r(t);n("a4d3"),n("e01a"),n("b0c0");var i=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:e.title,visible:e.visible,okText:"确定",cancelText:"取消",centered:""},on:{"update:visible":function(t){e.visible=t},ok:e.handleOk,cancel:e.handleCancel}},[t("a-form-model",{ref:"form",attrs:{model:e.formData,layout:"horizontal","label-col":{span:4},"wrapper-col":{span:20}}},[t("a-form-model-item",{attrs:{label:"计数器名称",prop:"counterName"}},[t("a-input",{model:{value:e.formData.counterName,callback:function(t){e.$set(e.formData,"counterName",t)},expression:"formData.counterName"}})],1),t("a-form-model-item",{attrs:{label:"初始值",prop:"initialValue"}},[t("a-input-number",{model:{value:e.formData.initialValue,callback:function(t){e.$set(e.formData,"initialValue",t)},expression:"formData.initialValue"}})],1),t("a-form-model-item",{attrs:{label:"当前值",prop:"currentValue"}},[t("a-input-number",{model:{value:e.formData.currentValue,callback:function(t){e.$set(e.formData,"currentValue",t)},expression:"formData.currentValue"}})],1),t("a-form-model-item",{attrs:{label:"步长",prop:"stepLength"}},[t("a-input-number",{model:{value:e.formData.stepLength,callback:function(t){e.$set(e.formData,"stepLength",t)},expression:"formData.stepLength"}})],1),t("a-form-model-item",{attrs:{label:"清零规则",prop:"resetStrategy"}},[t("a-select",{model:{value:e.formData.resetStrategy,callback:function(t){e.$set(e.formData,"resetStrategy",t)},expression:"formData.resetStrategy"}},e._l(e.resetStrategies,(function(n){return t("a-select-option",{key:n.id,attrs:{value:n.code}},[e._v(" "+e._s(n.name)+" ")])})),1)],1),t("a-form-model-item",{attrs:{label:"备注",prop:"description"}},[t("a-textarea",{attrs:{placeholder:"备注","auto-size":{minRows:3,maxRows:5}},model:{value:e.formData.description,callback:function(t){e.$set(e.formData,"description",t)},expression:"formData.description"}})],1)],1)],1)},r=[],a=n("c14f"),s=n("1da1"),o={name:"AddCounter",props:{visible:{type:Boolean,default:!1,required:!0},editData:{type:Object,required:!1,default:function(){return{}}},type:{type:String,default:"",required:!1}},mounted:function(){this.getResetStrategies()},data:function(){return{resetStrategies:[],formData:{counterNumeric:"",counterName:"",initialValue:"",currentValue:"",stepLength:"",resetStrategy:"",description:""}}},computed:{title:function(){var e="新增";return"edit"===this.type&&(e="编辑"),"".concat(e,"计数器")}},watch:{visible:function(e){var t=this;e?this.$nextTick((function(){t.resetFormData(),"edit"===t.type&&(t.formData=Object.assign(t.formData,t.editData))})):this.resetFormData()}},methods:{getResetStrategies:function(){var e=this;return Object(s["a"])(Object(a["a"])().m((function t(){var n;return Object(a["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.$bpmSystemProServices.systemService.getDictByCode("QLGZ");case 1:n=t.v,e.resetStrategies=n;case 2:return t.a(2)}}),t)})))()},resetFormData:function(){for(var e in this.formData)this.formData[e]=""},handleOk:function(){var e=this;this.$bpmSystemProServices.systemService.saveCounter(this.formData).then((function(t){t?(e.$message.success("保存成功"),e.$emit("submit",e.formData.counterNumeric)):e.$message.error("保存失败"),e.$emit("update:visible",!1)}))},handleCancel:function(){this.$emit("update:visible",!1)}}},c=o,u=n("2877"),l=Object(u["a"])(c,i,r,!1,null,null,null);t["default"]=l.exports},a5ef:function(e,t,n){"use strict";n("ccfc")},ccfc:function(e,t,n){},fa68:function(e,t,n){"use strict";n("160f")}}]);