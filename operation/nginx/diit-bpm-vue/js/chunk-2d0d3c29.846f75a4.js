(this["webpackJsonpMyLibrary"]=this["webpackJsonpMyLibrary"]||[]).push([["chunk-2d0d3c29"],{"5dae":function(e,t,s){"use strict";s.r(t);var n=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:"选择人员",visible:e.visible,okText:"确定",cancelText:"取消",width:"1000px",centered:""},on:{"update:visible":function(t){e.visible=t},ok:e.handleOk,cancel:e.handleCancel}},[t("SystemList",{ref:"persList",attrs:{columns:e.persColumns,render:e.$bpmSystemProServices.persService.getNotExistsDepartmentIdPage,params:{departmentId:e.editData.departmentId},searchItems:e.searchItems,pagination:e.pagination,type:"checkbox",defaultLoad:!1},on:{"update:pagination":function(t){e.pagination=t},change:e.onPersChange}})],1)},a=[],i=s("c7eb"),r=s("1da1"),c=(s("4de4"),s("a15b"),s("b0c0"),s("d3b7"),s("d8b8")),o={name:"Categories",props:{visible:{type:Boolean,default:!1,required:!0},editData:{type:Object,required:!0}},mounted:function(){},data:function(){var e=this;return{persColumns:[{title:"序号",width:"15%",align:"center",customRender:function(e,t,s){return"".concat(s+1)}},{title:"账号名",dataIndex:"loginName",width:"30%",align:"center",sorter:!1},{title:"真实姓名",dataIndex:"name",width:"25%",align:"center",sorter:!1},{title:"用户状态",dataIndex:"status",align:"center",width:"30%",customRender:function(t){var s=e.persStatus.filter((function(e){return e.code===t}));return s.length>0?s[0].name:""}}],searchItems:[{id:"loginName",label:"账号",type:"input"},{id:"name",label:"姓名",type:"input"}],pagination:{pageIndex:1,pageSize:20,total:0},selectedRows:[],selectedRowKeys:[],persStatus:[]}},created:function(){this.getPersStatus()},methods:{getPersStatus:function(){var e=this;return Object(r["a"])(Object(i["a"])().mark((function t(){var s;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$bpmSystemProServices.systemService.getDictByCode("YHZT");case 2:s=t.sent,e.persStatus=s;case 4:case"end":return t.stop()}}),t)})))()},onPersChange:function(e,t,s,n){n.currentDataSource;this.pagination.pageIndex=e.current,this.persParams.sortField=s.field,this.persParams.sortOrder=s.order,this.$refs.persList.getListData()},handleOk:function(){var e=this,t=this.$refs.persList.getSelectedKeys();this.$bpmSystemProServices.persService.commonPostRequest("/user/addUserToDepartment",{userIds:t.join(","),departmentId:this.editData.departmentId}).then((function(t){t?(e.$message.success("保存成功"),e.$emit("update:visible",!1),e.$emit("submit")):e.$message.error("保存失败"),e.$refs.persList.clearSelected()}))},handleCancel:function(){this.$emit("update:visible",!1),this.$refs.persList.clearSelected()}},watch:{visible:function(e){var t=this;e?this.$nextTick((function(){t.$refs.persList.getListData()})):(this.selectedRowKeys=[],this.selectedRows=[])}},components:{SystemList:c["a"]}},d=o,u=s("2877"),l=Object(u["a"])(d,n,a,!1,null,null,null);t["default"]=l.exports}}]);