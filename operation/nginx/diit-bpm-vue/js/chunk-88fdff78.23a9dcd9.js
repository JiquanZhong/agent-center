(this["webpackJsonpMyLibrary"]=this["webpackJsonpMyLibrary"]||[]).push([["chunk-88fdff78","chunk-112c9d34"],{"1da1":function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("d3b7");function a(e,t,r,a,n,o,i){try{var c=e[o](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(a,n)}function n(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function c(e){a(i,n,o,c,s,"next",e)}function s(e){a(i,n,o,c,s,"throw",e)}c(void 0)}))}}},c14f:function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));r("a4d3"),r("e01a"),r("3410"),r("131a"),r("d3b7");function a(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}a=function(e,t,r,n){if(t)o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r;else{var i=function(t,r){a(e,t,(function(e){return this._invoke(t,r,e)}))};i("next",0),i("throw",1),i("return",2)}},a(e,t,r,n)}function n(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/babel/babel/blob/main/packages/babel-helpers/LICENSE */
var e,t,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.toStringTag||"@@toStringTag";function c(r,n,o,i){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return a(l,"_invoke",function(r,a,n){var o,i,c,u=0,l=n||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return o=t,i=0,c=e,d.n=r,s}};function p(r,a){for(i=r,c=a,t=0;!f&&u&&!n&&t<l.length;t++){var n,o=l[t],p=d.p,m=o[2];r>3?(n=m===a)&&(c=o[(i=o[4])?5:(i=3,3)],o[4]=o[5]=e):o[0]<=p&&((n=r<2&&p<o[1])?(i=0,d.v=a,d.n=o[1]):p<m&&(n=r<3||o[0]>a||a>m)&&(o[4]=r,o[5]=a,d.n=m,i=0))}if(n||r>1)return s;throw f=!0,a}return function(n,l,m){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,m),i=l,c=m;(t=i<2?e:c)||!f;){o||(i?i<3?(i>1&&(d.n=-1),p(i,c)):d.n=c:d.v=c);try{if(u=2,o){if(i||(n="next"),t=o[n]){if(!(t=t.call(o,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,i<2&&(i=0)}else 1===i&&(t=o["return"])&&t.call(o),i<2&&(c=TypeError("The iterator does not provide a '"+n+"' method"),i=1);o=e}else if((t=(f=d.n<0)?c:r.call(a,d))!==s)break}catch(t){o=e,i=1,c=t}finally{u=1}}return{value:t,done:f}}}(r,o,i),!0),l}var s={};function u(){}function l(){}function f(){}t=Object.getPrototypeOf;var d=[][o]?t(t([][o]())):(a(t={},o,(function(){return this})),t),p=f.prototype=u.prototype=Object.create(d);function m(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,a(e,i,"GeneratorFunction")),e.prototype=Object.create(p),e}return l.prototype=f,a(p,"constructor",f),a(f,"constructor",l),l.displayName="GeneratorFunction",a(f,i,"GeneratorFunction"),a(p),a(p,i,"Generator"),a(p,o,(function(){return this})),a(p,"toString",(function(){return"[object Generator]"})),(n=function(){return{w:c,m:m}})()}},f5ac:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e._self._c;return t("a-modal",{attrs:{title:"设置分管领导",visible:e.visible,okText:"确定",cancelText:"取消",centered:"",width:"500px"},on:{"update:visible":function(t){e.visible=t},ok:e.handleOk,cancel:e.handleCancel}},[t("a-form-model",{ref:"form",attrs:{model:e.formData,rules:e.rules,layout:"horizontal","label-col":{span:8},"wrapper-col":{span:16}}},[t("a-row",{attrs:{gutter:16}},[t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"部门","label-col":{span:4},"wrapper-col":{span:20},prop:"deptName"}},[t("a-input",{attrs:{disabled:""},model:{value:e.formData.deptName,callback:function(t){e.$set(e.formData,"deptName",t)},expression:"formData.deptName"}})],1)],1)],1),t("a-row",{attrs:{gutter:16}},[t("a-col",{attrs:{span:24}},[t("a-form-model-item",{attrs:{label:"选择人员","label-col":{span:4},"wrapper-col":{span:20},prop:"userId"}},[t("a-tree-select",{attrs:{treeCheckable:!1,treeData:e.rolesTreeData,treeNodeFilterProp:"title",replaceFields:e.replaceFields,"dropdown-style":{maxHeight:"400px",overflow:"auto"},allowClear:!0,"tree-default-expand-all":""},on:{change:e.handleChange},model:{value:e.formData.userId,callback:function(t){e.$set(e.formData,"userId",t)},expression:"formData.userId"}})],1)],1)],1)],1)],1)},n=[],o=r("c14f"),i=r("1da1"),c=(r("4de4"),r("b0c0"),r("d3b7"),r("ca00")),s={name:"AddPers",props:{visible:{type:Boolean,default:!1,required:!0},editData:{type:Object,required:!1,default:function(){return{}}},type:{type:String,default:"",required:!1}},created:function(){},computed:{replaceFields:function(){return{children:"children",title:"name",key:"id",value:"id"}}},data:function(){return{persStatus:[],sf:[],zw:[],gender:[],rolesTreeData:[],deptData:[],formData:{deptId:"",deptName:"",userId:""},rules:{userId:[{required:!0,message:"请选择人员名称"}]}}},watch:{visible:function(e){var t=this;e?(this.getDeptTree(),this.$nextTick((function(){t.resetFormData(),t.editData.deptName=t.editData.name,t.editData.deptId=t.editData.id,t.editData.userId=t.editData.ssld,t.formData=Object.assign(t.formData,t.editData)}))):this.resetFormData()}},methods:{getDeptTree:function(){var e=this;return Object(i["a"])(Object(o["a"])().m((function t(){var r,a;return Object(o["a"])().w((function(t){while(1)switch(t.n){case 0:return t.n=1,e.$bpmSystemProServices.flowService.getParticipantTree({});case 1:r=t.v,e.deptData=r,a=e.deptData.filter((function(e){return!e.pid||""===e.pid})),Object(c["b"])(a,e.deptData,!0),e.rolesTreeData=a;case 2:return t.a(2)}}),t)})))()},resetFormData:function(){for(var e in this.$refs.form&&this.$refs.form.resetFields(),this.formData)this.formData[e]=""},handleOk:function(){var e=this;this.$refs.form.validate((function(t){if(!t)return!1;e.handleSubmit()}))},handleSubmit:function(){var e=this,t={};t=this.formData,this.$bpmSystemProServices.persService.updateSsld(t).then((function(t){t?(e.$message.success("设置成功"),e.$emit("submit"),e.$emit("update:visible",!1)):e.$message.success("设置失败")}))},handleCancel:function(){this.$emit("update:visible",!1)},handleChange:function(e){var t=this.deptData.filter((function(t){return t.id===e}));"user"!==t[0].type&&(this.formData.userId="")}}},u=s,l=r("2877"),f=Object(l["a"])(u,a,n,!1,null,null,null);t["default"]=f.exports}}]);