import{g as h}from"./index-BfUSGbfi.js";import{_ as m,a as u}from"./index-DMNcVszy.js";import{u as d}from"./vue-router-2RbTs74B.js";import{o as g,U as C,S as _,R as y}from"./@vue-CFjPwn9D.js";import"./axios-upsvKRUO.js";import"./pinia-BYoSazbl.js";import"./dayjs-DoMtMbyJ.js";import"./@babel-CuAkI3ff.js";import"./ant-design-vue-N94YJPlZ.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./@ant-design-DyEdRgPf.js";import"./@ctrl-3cdSgQbg.js";import"./lodash-es-mOee43Rj.js";import"./vue-types-B67A5qzE.js";const l={__name:"index",setup(v){const t=u(),r=d();g(()=>{p()});const p=()=>{var e=h();e||alert("未获取正确的appId，请于提供方确认");var a=window.appsConfig.find(function(i){return i.appId=e});if(t.userId&&t.apiKey){var o=document.querySelector("#ai-chat");a.chatConfig.apiConfig.user=t.userId,a.chatConfig.apiConfig.company=t.company,o.chatConfig=a.chatConfig;debugger;r.query.chooseKey&&o.switchChatSessions(r.query.chooseKey)}else{window.DiitAiChat.register("ai-chat","/lib/chatTheme.css");var o=document.querySelector("#ai-chat"),n="abc-123",c="test";a.chatConfig.apiConfig.user=n,a.chatConfig.apiConfig.company=c,o.chatConfig=a.chatConfig,t.setCredentials({userId:n,apiKey:a.chatConfig.apiConfig.apiKey,company:c})}window.addEventListener("message",function(i){var s=i.data.userId,f=i.data.company;a.chatConfig.apiConfig.user=s,a.chatConfig.apiConfig.company=f,o.chatConfig=a.chatConfig})};return(e,a)=>{const o=y("ai-chat");return _(),C(o,{id:"ai-chat",style:{width:"100%"}})}}},F=m(l,[["__scopeId","data-v-76926856"]]);export{F as default};
