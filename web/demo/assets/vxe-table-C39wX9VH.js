import{X as s}from"./xe-utils-BVyeMf_3.js";import{V as ge}from"./@vxe-ui-BUzpPuXs.js";import{w as Rt,a as fl,h as g,d as Wo,i as Io,r as je,o as Ul,n as ue,k as Zl,q as On,e as tt,b as ze,m as _a,Q as Wa,_ as qa,y as Xa,p as Gl,Z as Ka}from"./@vue-CaiV6rcx.js";import{D as Ti}from"./dom-zindex-DlWB42XF.js";import{n as Ya}from"./@babel-Dd5QU_Ri.js";function gt(e){return e&&e.enabled!==!1}function bs(e){return e==null||e===""}function Fi(e){const l=e.name,i=s.lastIndexOf(l,"."),u=l.substring(i+1,l.length).toLowerCase();return{filename:l.substring(0,i),type:u}}function Ii(){return Ti.getNext()}function ki(){return Ti.getCurrent()}function Cn(e){return e&&e.children&&e.children.length>0}function gl(e,l){if(e){const i=ge.getConfig().translate;return s.toValueString(i?i(""+e,l):e)}return""}function wo(e,l){return""+(bs(e)?l?ge.getConfig().emptyCell:"":e)}function pl(e){return e===""||s.eqNull(e)}const Ai="4.12.2";ge.version=Ai;ge.tableVersion=Ai;ge.setConfig({emptyCell:"　",table:{fit:!0,showHeader:!0,animat:!0,delayHover:250,autoResize:!0,minHeight:144,resizeConfig:{},resizableConfig:{dragMode:"auto",showDragTip:!0,isSyncAutoHeight:!0,isSyncAutoWidth:!0,minHeight:18},radioConfig:{strict:!0},rowDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},columnDragConfig:{showIcon:!0,animation:!0,showGuidesStatus:!0,showDragTip:!0},checkboxConfig:{strict:!0},tooltipConfig:{enterable:!0},validConfig:{showMessage:!0,autoClear:!0,autoPos:!0,message:"inline",msgMode:"single",theme:"beautify"},columnConfig:{maxFixedSize:4},cellConfig:{padding:!0},headerCellConfig:{height:"unset"},footerCellConfig:{height:"unset"},customConfig:{allowVisible:!0,allowResizable:!0,allowFixed:!0,allowSort:!0,showFooter:!0,placement:"top-right",modalOptions:{showMaximize:!0,mask:!0,lockView:!0,resize:!0,escClosable:!0},drawerOptions:{mask:!0,lockView:!0,escClosable:!0,resize:!0}},sortConfig:{showIcon:!0,allowClear:!0,allowBtn:!0,iconLayout:"vertical"},filterConfig:{showIcon:!0},treeConfig:{rowField:"id",parentField:"parentId",childrenField:"children",hasChildField:"hasChild",mapChildrenField:"_X_ROW_CHILD",indent:20,showIcon:!0},expandConfig:{showIcon:!0,mode:"fixed"},editConfig:{showIcon:!0,showAsterisk:!0,autoFocus:!0},importConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},exportConfig:{_typeMaps:{csv:1,html:1,xml:1,txt:1}},printConfig:{},mouseConfig:{extension:!0},keyboardConfig:{isEsc:!0},areaConfig:{autoClear:!0,selectCellByHeader:!0,selectCellByBody:!0,extendDirection:{top:!0,left:!0,bottom:!0,right:!0}},clipConfig:{isCopy:!0,isCut:!0,isPaste:!0},fnrConfig:{isFind:!0,isReplace:!0},virtualXConfig:{enabled:!0,gt:60,preSize:1,oSize:0},virtualYConfig:{enabled:!0,gt:100,preSize:1,oSize:0},scrollbarConfig:{}},grid:{formConfig:{enabled:!0},pagerConfig:{enabled:!0},toolbarConfig:{enabled:!0},proxyConfig:{enabled:!0,autoLoad:!0,showResponseMsg:!0,showActiveMsg:!0,props:{list:null,result:"result",total:"page.total",message:"message"}}},toolbar:{}});const Tt="vxe-table-icon-";ge.setIcon({TABLE_SORT_ASC:Tt+"caret-up",TABLE_SORT_DESC:Tt+"caret-down",TABLE_FILTER_NONE:Tt+"funnel",TABLE_FILTER_MATCH:Tt+"funnel",TABLE_EDIT:Tt+"edit",TABLE_TITLE_PREFIX:Tt+"question-circle-fill",TABLE_TITLE_SUFFIX:Tt+"question-circle-fill",TABLE_TREE_LOADED:Tt+"spinner roll",TABLE_TREE_OPEN:Tt+"caret-right rotate90",TABLE_TREE_CLOSE:Tt+"caret-right",TABLE_EXPAND_LOADED:Tt+"spinner roll",TABLE_EXPAND_OPEN:Tt+"arrow-right rotate90",TABLE_EXPAND_CLOSE:Tt+"arrow-right",TABLE_CHECKBOX_CHECKED:Tt+"checkbox-checked-fill",TABLE_CHECKBOX_UNCHECKED:Tt+"checkbox-unchecked",TABLE_CHECKBOX_INDETERMINATE:Tt+"checkbox-indeterminate-fill",TABLE_RADIO_CHECKED:Tt+"radio-checked-fill",TABLE_RADIO_UNCHECKED:Tt+"radio-unchecked",TABLE_CUSTOM_SORT:Tt+"drag-handle",TABLE_MENU_OPTIONS:Tt+"arrow-right",TABLE_DRAG_ROW:Tt+"drag-handle",TABLE_DRAG_COLUMN:Tt+"drag-handle",TABLE_DRAG_STATUS_ROW:Tt+"sort",TABLE_DRAG_STATUS_SUB_ROW:Tt+"add-sub",TABLE_DRAG_STATUS_COLUMN:Tt+"swap",TABLE_DRAG_DISABLED:Tt+"no-drop",TOOLBAR_TOOLS_REFRESH:Tt+"repeat",TOOLBAR_TOOLS_REFRESH_LOADING:Tt+"repeat roll",TOOLBAR_TOOLS_IMPORT:Tt+"upload",TOOLBAR_TOOLS_EXPORT:Tt+"download",TOOLBAR_TOOLS_PRINT:Tt+"print",TOOLBAR_TOOLS_FULLSCREEN:Tt+"fullscreen",TOOLBAR_TOOLS_MINIMIZE:Tt+"minimize",TOOLBAR_TOOLS_CUSTOM:Tt+"custom-column",TOOLBAR_TOOLS_FIXED_LEFT:Tt+"fixed-left",TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:Tt+"fixed-left-fill",TOOLBAR_TOOLS_FIXED_RIGHT:Tt+"fixed-right",TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:Tt+"fixed-right-fill"});ge.setTheme;ge.getTheme;ge.setConfig;ge.getConfig;ge.setIcon;ge.getIcon;ge.setLanguage;ge.setI18n;ge.getI18n;ge.globalEvents;ge.globalResize;ge.renderer;ge.validators;ge.menus;ge.formats;ge.commands;ge.interceptor;ge.clipboard;ge.log;ge.hooks;ge.use;const Ga=e=>ge.setConfig(e);ge.setup=Ga;const Ua=e=>ge.setConfig(e);ge.config=Ua;const Za=(e,l)=>ge.getI18n(e,l);ge.t=Za;const Qa=(e,l)=>gl(e,l);ge._t=Qa;const os={};let wn;function Li(){return wn||(wn=new Image,wn.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII="),wn}function fs(){return wn||Li()}function Tl(e,l){return e?s.isFunction(e)?e(l):e:""}function Hi(e){return os[e]||(os[e]=new RegExp(`(?:^|\\s)${e}(?!\\S)`,"g")),os[e]}function Pi(e,l,i){if(e){const u=e.parentNode;if(i.top+=e.offsetTop,i.left+=e.offsetLeft,u&&u!==document.documentElement&&u!==document.body&&(i.top-=u.scrollTop,i.left-=u.scrollLeft),!(l&&(e===l||e.offsetParent===l))&&e.offsetParent)return Pi(e.offsetParent,l,i)}return i}function ps(e){return e&&/^\d+(px)?$/.test(e)}function xn(e){return e&&/^\d+%$/.test(e)}function hl(e,l){return e&&e.className&&e.className.match&&e.className.match(Hi(l))}function Po(e,l){e&&hl(e,l)&&(e.className=e.className.replace(Hi(l),""))}function ol(e,l){e&&!hl(e,l)&&(Po(e,l),e.className=`${e.className} ${l}`)}function hs(e,l="px"){return s.isNumber(e)||/^\d+$/.test(`${e}`)?`${e}${l}`:`${e||""}`}function Ir(){const e=document.documentElement,l=document.body;return{scrollTop:e.scrollTop||l.scrollTop,scrollLeft:e.scrollLeft||l.scrollLeft,visibleHeight:e.clientHeight||l.clientHeight,visibleWidth:e.clientWidth||l.clientWidth}}function zn(e){return e?e.offsetHeight:0}function gs(e){if(e){const l=getComputedStyle(e),i=s.toNumber(l.paddingTop),u=s.toNumber(l.paddingBottom);return i+u}return 0}function Yt(e,l){e&&(e.scrollTop=l)}function Ut(e,l){e&&(e.scrollLeft=l)}function xs(e,l){const i=l.type==="html"?e.innerText:e.textContent;e.getAttribute("title")!==i&&e.setAttribute("title",i)}function Ft(e,l,i,u){let C,b=e.target.shadowRoot&&e.composed&&e.composedPath()[0]||e.target;for(;b&&b.nodeType&&b!==document;){if(i&&hl(b,i)&&(!u||u(b)))C=b;else if(b===l)return{flag:i?!!C:!0,container:l,targetElem:C};b=b.parentNode}return{flag:!1}}function Ja(e,l){return Pi(e,l,{left:0,top:0})}function yr(e){const l=e.getBoundingClientRect(),i=l.top,u=l.left,{scrollTop:C,scrollLeft:b,visibleHeight:E,visibleWidth:M}=Ir();return{boundingTop:i,top:C+i,boundingLeft:u,left:b+u,visibleHeight:E,visibleWidth:M}}const _s="scrollIntoViewIfNeeded",Ws="scrollIntoView";function ec(e){e&&(e[_s]?e[_s]():e[Ws]&&e[Ws]())}function tc(e,l){e&&e.dispatchEvent(new Event(l))}const{log:Bi}=ge,$i="table v4.12.2",St=Bi.create("warn",$i),Qe=Bi.create("error",$i),{getI18n:oc,formats:qs}=ge;class ms{constructor(l,i,{renderHeader:u,renderCell:C,renderFooter:b,renderData:E}={}){const M=l.props,$=l.xeGrid,le=i.formatter,p=s.isBoolean(i.visible)?i.visible:!0,d=["seq","checkbox","radio","expand","html"];if(i.type&&d.indexOf(i.type)===-1&&St("vxe.error.errProp",[`type=${i.type}`,d.join(", ")]),(s.isBoolean(i.cellRender)||i.cellRender&&!s.isObject(i.cellRender))&&St("vxe.error.errProp",[`column.cell-render=${i.cellRender}`,"column.cell-render={}"]),(s.isBoolean(i.editRender)||i.editRender&&!s.isObject(i.editRender))&&St("vxe.error.errProp",[`column.edit-render=${i.editRender}`,"column.edit-render={}"]),i.type==="expand"){const{treeConfig:S}=M,{computeTreeOpts:q}=l.getComputeMaps(),I=q.value;S&&(I.showLine||I.line)&&Qe("vxe.error.errConflicts",["tree-config.showLine","column.type=expand"])}if(le){if(s.isString(le)){const S=qs.get(le)||s[le];(!S||!s.isFunction(S.tableCellFormatMethod||S.cellFormatMethod))&&Qe("vxe.error.notFormats",[le])}else if(s.isArray(le)){const S=qs.get(le[0])||s[le[0]];(!S||!s.isFunction(S.tableCellFormatMethod||S.cellFormatMethod))&&Qe("vxe.error.notFormats",[le[0]])}}if(Object.assign(this,{type:i.type,property:i.field,field:i.field,title:i.title,width:i.width,minWidth:i.minWidth,maxWidth:i.maxWidth,resizable:i.resizable,fixed:i.fixed,align:i.align,headerAlign:i.headerAlign,footerAlign:i.footerAlign,showOverflow:i.showOverflow,showHeaderOverflow:i.showHeaderOverflow,showFooterOverflow:i.showFooterOverflow,className:i.className,headerClassName:i.headerClassName,footerClassName:i.footerClassName,formatter:le,footerFormatter:i.footerFormatter,padding:i.padding,verticalAlign:i.verticalAlign,sortable:i.sortable,sortBy:i.sortBy,sortType:i.sortType,filters:Ni(i.filters),filterMultiple:s.isBoolean(i.filterMultiple)?i.filterMultiple:!0,filterMethod:i.filterMethod,filterResetMethod:i.filterResetMethod,filterRecoverMethod:i.filterRecoverMethod,filterRender:i.filterRender,treeNode:i.treeNode,dragSort:i.dragSort,rowResize:i.rowResize,cellType:i.cellType,cellRender:i.cellRender,editRender:i.editRender,contentRender:i.contentRender,headerExportMethod:i.headerExportMethod,exportMethod:i.exportMethod,footerExportMethod:i.footerExportMethod,titleHelp:i.titleHelp,titlePrefix:i.titlePrefix,titleSuffix:i.titleSuffix,params:i.params,id:i.colId||s.uniqueId("col_"),parentId:null,visible:p,halfVisible:!1,defaultVisible:p,defaultFixed:i.fixed,checked:!1,halfChecked:!1,disabled:!1,level:1,rowSpan:1,colSpan:1,order:null,sortTime:0,sortNumber:0,renderSortNumber:0,renderFixed:"",renderVisible:!1,renderWidth:0,renderHeight:0,renderResizeWidth:0,renderAutoWidth:0,resizeWidth:0,renderLeft:0,renderArgs:[],model:{},renderHeader:u||i.renderHeader,renderCell:C||i.renderCell,renderFooter:b||i.renderFooter,renderData:E,slots:i.slots}),$){const{computeProxyOpts:S}=$.getComputeMaps(),q=S.value;q.beforeColumn&&q.beforeColumn({$grid:$,column:this})}}getTitle(){return gl(this.title||(this.type==="seq"?oc("vxe.table.seqTitle"):""))}getKey(){const{type:l}=this;return this.field||(l?`type=${l}`:null)}update(l,i){l!=="filters"&&(l==="field"&&(this.property=i),this[l]=i)}}const Vi=(e,l)=>{const i=[];return e.forEach(u=>{u.parentId=l?l.id:null,u.visible&&(u.children&&u.children.length&&u.children.some(C=>C.visible)?(i.push(u),i.push(...Vi(u.children,u))):i.push(u))}),i},lc=e=>{let l=1;const i=(b,E)=>{if(E&&(b.level=E.level+1,l<b.level&&(l=b.level)),b.children&&b.children.length&&b.children.some(M=>M.visible)){let M=0;b.children.forEach($=>{$.visible&&(i($,b),M+=$.colSpan)}),b.colSpan=M}else b.colSpan=1};e.forEach(b=>{b.level=1,i(b)});const u=[];for(let b=0;b<l;b++)u.push([]);return Vi(e).forEach(b=>{b.children&&b.children.length&&b.children.some(E=>E.visible)?b.rowSpan=1:b.rowSpan=l-b.level+1,u[b.level-1].push(b)}),u};function ls(e,l,i){const u=e.internalData;return e.clearScroll().then(()=>{if(l||i)return u.lastScrollLeft=0,u.lastScrollTop=0,u.intoRunScroll=!1,u.inVirtualScroll=!1,u.inWheelScroll=!1,u.inHeaderScroll=!1,u.inBodyScroll=!1,u.inFooterScroll=!1,u.scrollRenderType="",e.scrollTo(l,i)})}function vs(){return s.uniqueId("row_")}function El(e){const{props:l}=e,{computeRowOpts:i}=e.getComputeMaps(),u=i.value;return`${l.rowId||u.keyField||"_X_ROW_KEY"}`}function Pe(e,l){const i=s.get(l,El(e));return nc(i)}function Xs(e){const l=El(e),u=l.indexOf(".")>-1?rc:sc;return{rowKey:l,handleUpdateRowId(C){return C?u(C,l):null}}}function fo(e){const l=El(e),u=l.indexOf(".")>-1?zi:ji;return{rowKey:l,handleGetRowId(C){return C?u(C,l):null}}}function nc(e){return s.eqNull(e)?"":encodeURIComponent(e)}function zi(e,l){return s.get(e,l)}function rc(e,l){let i=zi(e,l);return pl(i)&&(i=vs(),s.set(e,l,i)),i}function ji(e,l){return e[l]}function sc(e,l){let i=ji(e,l);return pl(i)&&(i=vs(),e[l]=i),i}const ao=(e,l)=>l?s.isString(l)||s.isNumber(l)?e.getColumnByField(`${l}`):l:null,Ks=(e,l)=>{if(l){const i=s.isString(l)||s.isNumber(l)?l:Pe(e,l);return e.getRowById(i)}return null};function ur(e){if(e){const l=getComputedStyle(e),i=s.toNumber(l.paddingLeft),u=s.toNumber(l.paddingRight);return i+u}return 0}function dn(e){if(e){const l=getComputedStyle(e),i=s.toNumber(l.marginLeft),u=s.toNumber(l.marginRight);return e.offsetWidth+i+u}return 0}function Cl(e,l){return e.querySelector(".vxe-cell"+l)}function Ni(e){return e&&s.isArray(e)?e.map(({label:l,value:i,data:u,resetValue:C,checked:b})=>({label:l,value:i,data:u,resetValue:C,checked:!!b,_checked:!!b})):e}function ic(e){return e.map((l,i)=>i%2===0?Number(l)+1:".").join("")}function Eo(e,l){return s.get(e,l.field)}function dl(e,l,i){return s.set(e,l.field,i)}function ot(e){if(e){const l=e.value;if(l)return l.$el||l}return null}function _i(e){return e==="unset"?0:e||0}function Ys(e){const{$table:l,column:i,cell:u}=e,C=l.props,b=l.internalData,{computeResizableOpts:E}=l.getComputeMaps(),M=E.value,{minWidth:$}=M;if($){const ce=s.isFunction($)?$(e):$;if(ce!=="auto")return Math.max(1,s.toNumber(ce))}const{elemStore:le}=b,{showHeaderOverflow:p}=C,{showHeaderOverflow:d,minWidth:S}=i,q=s.isUndefined(d)||s.isNull(d)?p:d,L=q==="title"||(q===!0||q==="tooltip")||q==="ellipsis",k=s.floor((s.toNumber(getComputedStyle(u).fontSize)||14)*1.6),_=ur(u)+ur(Cl(u,""));let te=k+_;if(L){const ce=ur(Cl(u,">.vxe-cell--drag-handle")),V=ur(Cl(u,">.vxe-cell--checkbox")),w=dn(Cl(u,">.vxe-cell--required-icon")),y=dn(Cl(u,">.vxe-cell--edit-icon")),j=dn(Cl(u,">.vxe-cell-title-prefix-icon")),U=dn(Cl(u,">.vxe-cell-title-suffix-icon")),ne=dn(Cl(u,">.vxe-cell--sort")),F=dn(Cl(u,">.vxe-cell--filter"));te+=ce+V+w+y+j+U+F+ne}if(S){const ce=ot(le["main-body-scroll"]);if(ce){if(xn(S)){const w=(ce.clientWidth-1)/100;return Math.max(te,Math.floor(s.toInteger(S)*w))}else if(ps(S))return Math.max(te,s.toInteger(S))}}return te}function Rr(e){return e&&(e.constructor===ms||e instanceof ms)}function ac(e,l,i){return Rr(l)?l:fl(new ms(e,l,i))}function Wi(e,l,i){Object.keys(l).forEach(u=>{Rt(()=>l[u],C=>{i.update(u,C),e&&(u==="filters"?(e.setFilter(i,C),e.handleUpdateDataQueue()):["visible","fixed","width","minWidth","maxWidth"].includes(u)&&e.handleRefreshColumnQueue())})})}function qi(e,l,i,u){const{reactData:C}=e,{staticColumns:b}=C,E=l.parentNode,M=u?u.columnConfig:null,$=M?M.children:b;E&&$&&($.splice(s.arrayIndexOf(E.children,l),0,i),C.staticColumns=b.slice(0))}function Xi(e,l){const{reactData:i}=e,{staticColumns:u}=i,C=s.findTree(u,b=>b.id===l.id,{children:"children"});C&&C.items.splice(C.index,1),i.staticColumns=u.slice(0)}function Gs(e,l){const{internalData:i}=e,{fullColumnIdData:u}=i;if(!l)return null;let C=l.parentId;for(;u[C];){const b=u[C].column;if(C=b.parentId,!C)return b}return l}const cc={mini:3,small:2,medium:1},Ki=(e,l)=>{let i=1;if(!e)return i;const{$table:u}=l,{computeTreeOpts:C}=u.getComputeMaps(),b=C.value,{transform:E,mapChildrenField:M}=b,$=b.children||b.childrenField,le=e[E?M:$];if(le&&u.isTreeExpandByRow(e))for(let p=0;p<le.length;p++)i+=Ki(le[p],l);return i},Yi=e=>{const{computeSize:l}=e.getComputeMaps(),i=l.value;return i&&cc[i]||0};function dc(e,l){const{$table:i,row:u}=e,C=i.props,b=i.reactData,E=i.internalData,{showOverflow:M}=C,{scrollYLoad:$}=b,{fullAllDataRowIdData:le}=E,{computeRowOpts:p,computeCellOpts:d,computeDefaultRowHeight:S}=i.getComputeMaps(),q=p.value,I=d.value,B=S.value,oe=Pe(i,u),L=le[oe],k=L.resizeHeight||I.height||q.height||L.height||B;let _=1;l&&(_=Ki(l,e));let te=k;const ce=L.height;return $&&(M||(te=ce||k)),te*_-(l?1:12-Yi(i))}function Gi(e,l,i){for(let u=0;u<e.length;u++){const{row:C,col:b,rowspan:E,colspan:M}=e[u];if(b>-1&&C>-1&&E&&M){if(C===l&&b===i)return{rowspan:E,colspan:M};if(l>=C&&l<C+E&&i>=b&&i<b+M)return{rowspan:0,colspan:0}}}}function uc(e){const{props:l,internalData:i}=e;return i.initStatus=!1,e.clearSort(),e.clearCurrentRow(),e.clearCurrentColumn(),e.clearRadioRow(),e.clearRadioReserve(),e.clearCheckboxRow(),e.clearCheckboxReserve(),e.clearRowExpand(),e.clearTreeExpand(),e.clearTreeExpandReserve(),e.clearPendingRow(),e.clearFilter&&e.clearFilter(),e.clearSelected&&(l.keyboardConfig||l.mouseConfig)&&e.clearSelected(),e.clearCellAreas&&l.mouseConfig&&(e.clearCellAreas(),e.clearCopyCellArea()),e.clearScroll()}function fc(e){return e.clearFilter&&e.clearFilter(),uc(e)}function Us(e,l){const i=e.props,u=e.reactData,C=e.internalData,{computeLeftFixedWidth:b,computeRightFixedWidth:E,computeRowOpts:M,computeCellOpts:$,computeDefaultRowHeight:le}=e.getComputeMaps(),{showOverflow:p}=i,{scrollYLoad:d}=u,{elemStore:S,afterFullData:q,fullAllDataRowIdData:I,isResizeCellHeight:B}=C,oe=M.value,L=$.value,k=le.value,_=b.value,te=E.value,ce=ot(S["main-body-scroll"]),V=Pe(e,l);if(ce){const w=ce.clientHeight,y=ce.scrollTop,j=ce.querySelector(`[rowid="${V}"]`);if(j){const U=j.offsetParent,ne=j.offsetTop+(U?U.offsetTop:0),F=j.clientHeight;if(ne<y||ne>y+w)return e.scrollTo(null,ne);if(ne+F>=w+y)return e.scrollTo(null,y+F)}else if(d){if(!(B||L.height||oe.height)&&p)return e.scrollTo(null,(e.findRowIndexOf(q,l)-1)*k);let ne=0;const F=I[V]||{},W=F.resizeHeight||L.height||oe.height||F.height||k;for(let he=0;he<q.length;he++){const Se=q[he],Ee=Pe(e,Se);if(Se===l||Ee===V)break;const be=I[Ee]||{};ne+=be.resizeHeight||L.height||oe.height||be.height||k}return ne<y?e.scrollTo(null,ne-_-1):e.scrollTo(null,ne+W-(w-te-1))}}return Promise.resolve()}function Zs(e,l,i){const u=e.reactData,C=e.internalData,{computeLeftFixedWidth:b,computeRightFixedWidth:E}=e.getComputeMaps(),{scrollXLoad:M}=u,{elemStore:$,visibleColumn:le}=C,p=b.value,d=E.value,S=ot($["main-body-scroll"]);if(l.fixed)return Promise.resolve();if(S){const q=S.clientWidth,I=S.scrollLeft;let B=null;if(i){const oe=Pe(e,i);B=S.querySelector(`[rowid="${oe}"] .${l.id}`)}if(B||(B=S.querySelector(`.${l.id}`)),B){const oe=B.offsetParent,L=B.offsetLeft+(oe?oe.offsetLeft:0),k=B.clientWidth;if(L<I+p)return e.scrollTo(L-p-1);if(L+k-I>q-d)return e.scrollTo(L+k-(q-d-1))}else if(M){let oe=0;const L=l.renderWidth;for(let k=0;k<le.length;k++){const _=le[k];if(_===l||_.id===l.id)break;oe+=_.renderWidth}return oe<I?e.scrollTo(oe-p-1):e.scrollTo(oe+L-(q-d-1))}}return Promise.resolve()}function Fl(e){return"on"+e.substring(0,1).toLocaleUpperCase()+e.substring(1)}function Ui(e){switch(e.name){case"input":case"textarea":return"input";case"select":return"change"}return"update:modelValue"}function Zi(e){switch(e.name){case"input":case"textarea":case"VxeInput":case"VxeNumberInput":case"VxeTextarea":case"$input":case"$textarea":return"input"}return"change"}function To(e){return e==null?[]:s.isArray(e)?e:[e]}const{getI18n:fr,getIcon:lo,renderer:Xn,formats:Qs,renderEmptyElement:Yl}=ge;function pc(e){const{$table:l,column:i}=e,u=i.titlePrefix||i.titleHelp;return u?g("i",{class:["vxe-cell-title-prefix-icon",u.icon||lo().TABLE_TITLE_PREFIX],onMouseenter(C){l.triggerHeaderTitleEvent(C,u,e)},onMouseleave(C){l.handleTargetLeaveEvent(C)}}):Yl(l)}function hc(e){const{$table:l,column:i}=e,u=i.titleSuffix;return u?g("i",{class:["vxe-cell-title-suffix-icon",u.icon||lo().TABLE_TITLE_SUFFIX],onMouseenter(C){l.triggerHeaderTitleEvent(C,u,e)},onMouseleave(C){l.handleTargetLeaveEvent(C)}}):Yl(l)}function Js(e){const{$table:l,column:i}=e,{context:u}=l,C=u.slots,b=l.props,{slots:E}=i,{dragConfig:M}=b,{computeRowDragOpts:$}=l.getComputeMaps(),le=$.value,{icon:p,trigger:d,disabledMethod:S}=le,q=S||(M?M.rowDisabledMethod:null),I=q&&q(e),B=(E?E.rowDragIcon||E["row-drag-icon"]:null)||C.rowDragIcon||C["row-drag-icon"],oe={};return d!=="cell"&&(oe.onMousedown=L=>{I||l.handleCellDragMousedownEvent(L,e)},oe.onMouseup=l.handleCellDragMouseupEvent),g("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":I}]},oe),B?l.callSlot(B,e):[g("i",{class:p||(M?M.rowIcon:"")||lo().TABLE_DRAG_ROW})])}function Do(e,l){const{$table:i,column:u,level:C}=e,{dragSort:b}=u,E=i.props,{treeConfig:M,dragConfig:$}=E,{computeRowOpts:le,computeRowDragOpts:p,computeTreeOpts:d}=i.getComputeMaps(),S=le.value,q=p.value,I=d.value,{showIcon:B,isPeerDrag:oe,isCrossDrag:L,visibleMethod:k}=q,_=k||($?$.rowVisibleMethod:null),te=s.isArray(l)?l:[l];return b&&S.drag&&(B||$&&$.showRowIcon)&&(!_||_(e))&&(M?I.transform&&(oe||L||!C)&&te.unshift(Js(e)):te.unshift(Js(e))),te}function gc(e){const{$table:l,column:i}=e,{context:u}=l,C=u.slots,{slots:b}=i,{computeColumnOpts:E,computeColumnDragOpts:M}=l.getComputeMaps(),$=E.value,le=M.value,{showIcon:p,icon:d,trigger:S,isPeerDrag:q,isCrossDrag:I,visibleMethod:B,disabledMethod:oe}=le;if($.drag&&p&&(!B||B(e))&&!i.fixed&&(q||I||!i.parentId)){const L=oe&&oe(e),k=(b?b.columnDragIcon||b["column-drag-icon"]:null)||C.columnDragIcon||C["column-drag-icon"],_={};return S!=="cell"&&(_.onMousedown=te=>{L||l.handleHeaderCellDragMousedownEvent(te,e)},_.onMouseup=l.handleHeaderCellDragMouseupEvent),g("span",Object.assign({key:"dg",class:["vxe-cell--drag-handle",{"is--disabled":L}]},_),k?l.callSlot(k,e):[g("i",{class:d||lo().TABLE_DRAG_COLUMN})])}return Yl(l)}function sl(e,l){return[pc(e),gc(e),...s.isArray(l)?l:[l],hc(e)]}function Dl(e,l){const{$table:i,column:u}=e,C=i.props,b=i.reactData,{computeTooltipOpts:E}=i.getComputeMaps(),{showHeaderOverflow:M}=C,{type:$,showHeaderOverflow:le}=u,d=E.value.showAll,S=s.isUndefined(le)||s.isNull(le)?M:le,q=S==="title",I=S===!0||S==="tooltip",B={};return(q||I||d)&&(B.onMouseenter=oe=>{b.isDragResize||(q?xs(oe.currentTarget,u):(I||d)&&i.triggerHeaderTooltipEvent(oe,e))}),(I||d)&&(B.onMouseleave=oe=>{b.isDragResize||(I||d)&&i.handleTargetLeaveEvent(oe)}),[$==="html"&&s.isString(l)?g("span",Object.assign({class:"vxe-cell--title",innerHTML:l},B)):g("span",Object.assign({class:"vxe-cell--title"},B),To(l))]}function mc(e){const{$table:l,column:i,_columnIndex:u,items:C,row:b}=e,{slots:E,editRender:M,cellRender:$,footerFormatter:le}=i,p=M||$,d=E?E.footer:null;if(d)return l.callSlot(d,e);let S="";s.isArray(C)?S=C[u]:S=s.get(b,i.field);const q=Object.assign(e,{itemValue:S});if(le){if(s.isFunction(le))return[g("span",{class:"vxe-cell--label"},`${le(q)}`)];const I=s.isArray(le),B=I?Qs.get(le[0]):Qs.get(le),oe=B?B.tableFooterCellFormatMethod:null;return oe?[g("span",{class:"vxe-cell--label"},`${I?oe(q,...le.slice(1)):oe(q)}`)]:[g("span",{class:"vxe-cell--label"},"")]}if(p){const I=Xn.get(p.name);if(I){const B=I.renderTableFooter||I.renderFooter;if(B)return To(B(p,q))}}return[g("span",{class:"vxe-cell--label"},wo(S,1))]}function ei(e){const{$table:l,row:i,column:u}=e;return wo(l.getCellLabel(i,u),1)}function bc(e){const{column:l,$table:i}=e,u=i.props,{editConfig:C}=u,{type:b,treeNode:E,editRender:M}=l,{computeEditOpts:$,computeCheckboxOpts:le}=i.getComputeMaps(),p=le.value,d=$.value;switch(b){case"seq":return E?dt.renderTreeIndexCell(e):dt.renderSeqCell(e);case"radio":return E?dt.renderTreeRadioCell(e):dt.renderRadioCell(e);case"checkbox":return p.checkField?E?dt.renderTreeSelectionCellByProp(e):dt.renderCheckboxCellByProp(e):E?dt.renderTreeSelectionCell(e):dt.renderCheckboxCell(e);case"expand":return dt.renderExpandCell(e);case"html":return E?dt.renderTreeHTMLCell(e):dt.renderHTMLCell(e)}return gt(C)&&M?d.mode==="cell"?E?dt.renderTreeCellEdit(e):dt.renderCellEdit(e):E?dt.renderTreeRowEdit(e):dt.renderRowEdit(e):E?dt.renderTreeCell(e):dt.renderDefaultCell(e)}function xc(e){const{column:l,$table:i}=e,u=i.props,{editConfig:C}=u,{type:b,filters:E,sortable:M,editRender:$}=l;switch(b){case"seq":return dt.renderSeqHeader(e);case"radio":return dt.renderRadioHeader(e);case"checkbox":return dt.renderCheckboxHeader(e);case"html":if(E&&M)return dt.renderSortAndFilterHeader(e);if(M)return dt.renderSortHeader(e);if(E)return dt.renderFilterHeader(e);break}return C&&$?dt.renderEditHeader(e):E&&M?dt.renderSortAndFilterHeader(e):M?dt.renderSortHeader(e):E?dt.renderFilterHeader(e):dt.renderDefaultHeader(e)}function vc(e){return dt.renderDefaultFooter(e)}const dt={createColumn(e,l){const{type:i}=l,u={renderHeader:xc,renderCell:bc,renderFooter:vc};return i==="expand"&&(u.renderData=dt.renderExpandData),ac(e,l,u)},renderHeaderTitle(e){const{$table:l,column:i}=e,{slots:u,editRender:C,cellRender:b}=i,E=C||b,M=u?u.header:null;if(M)return Dl(e,l.callSlot(M,e));if(E){const $=Xn.get(E.name);if($){const le=$.renderTableHeader||$.renderHeader;if(le)return Dl(e,To(le(E,e)))}}return Dl(e,wo(i.getTitle(),1))},renderDefaultHeader(e){return sl(e,dt.renderHeaderTitle(e))},renderDefaultCell(e){const{$table:l,row:i,column:u}=e,{slots:C,editRender:b,cellRender:E}=u,M=b||E,$=C?C.default:null;if($)return Do(e,l.callSlot($,e));if(M){const d=Xn.get(M.name);if(d){const S=d.renderTableCell||d.renderCell,q=d.renderTableDefault||d.renderDefault,I=b?S:q;if(I)return Do(e,To(I(M,Object.assign({$type:b?"edit":"cell"},e))))}}const le=l.getCellLabel(i,u),p=b?b.placeholder:"";return Do(e,[g("span",{class:"vxe-cell--label"},[b&&pl(le)?g("span",{class:"vxe-cell--placeholder"},wo(gl(p),1)):g("span",wo(le,1))])])},renderTreeCell(e){return dt.renderTreeIcon(e,dt.renderDefaultCell(e))},renderDefaultFooter(e){return mc(e)},renderTreeIcon(e,l){const{$table:i,isHidden:u}=e,C=i.reactData,b=i.internalData,{computeTreeOpts:E}=i.getComputeMaps(),{treeExpandedFlag:M}=C,{fullAllDataRowIdData:$,treeExpandedMaps:le,treeExpandLazyLoadedMaps:p}=b,d=E.value,{row:S,column:q,level:I}=e,{slots:B}=q,{indent:oe,lazy:L,trigger:k,iconLoaded:_,showIcon:te,iconOpen:ce,iconClose:V}=d,w=d.children||d.childrenField,y=d.hasChild||d.hasChildField,j=S[w],U=j&&j.length,ne=B?B.icon:null;let F=!1,W=!1,he=!1,Se=!1;const Ee={};if(ne)return i.callSlot(ne,e);if(!u){const be=Pe(i,S);if(W=!!M&&!!le[be],L){const Oe=$[be];he=!!p[be],F=S[y],Se=!!Oe.treeLoaded}}return(!k||k==="default")&&(Ee.onClick=be=>{i.triggerTreeExpandEvent(be,e)}),[g("div",{class:["vxe-cell--tree-node",{"is--active":W}],style:{paddingLeft:`${I*oe}px`}},[te&&(L?Se?U:U||F:U)?[g("div",Object.assign({class:"vxe-tree--btn-wrapper"},Ee),[g("i",{class:["vxe-tree--node-btn",he?_||lo().TABLE_TREE_LOADED:W?ce||lo().TABLE_TREE_OPEN:V||lo().TABLE_TREE_CLOSE]})])]:null,g("div",{class:"vxe-tree-cell"},l)])]},renderSeqHeader(e){const{$table:l,column:i}=e,{slots:u}=i,C=u?u.header:null;return sl(e,Dl(e,C?l.callSlot(C,e):wo(i.getTitle(),1)))},renderSeqCell(e){const{$table:l,column:i}=e,u=l.props,{treeConfig:C}=u,{computeSeqOpts:b}=l.getComputeMaps(),E=b.value,{slots:M}=i,$=M?M.default:null;if($)return Do(e,l.callSlot($,e));const{seq:le}=e,p=E.seqMethod;return Do(e,[g("span",`${wo(p?p(e):C?le:(E.startIndex||0)+le,1)}`)])},renderTreeIndexCell(e){return dt.renderTreeIcon(e,dt.renderSeqCell(e))},renderRadioHeader(e){const{$table:l,column:i}=e,{slots:u}=i,C=u?u.header:null,b=u?u.title:null;return sl(e,Dl(e,C?l.callSlot(C,e):[g("span",{class:"vxe-radio--label"},b?l.callSlot(b,e):wo(i.getTitle(),1))]))},renderRadioCell(e){const{$table:l,column:i,isHidden:u}=e,C=l.reactData,{computeRadioOpts:b}=l.getComputeMaps(),{selectRadioRow:E}=C,M=b.value,{slots:$}=i,{labelField:le,checkMethod:p,visibleMethod:d}=M,{row:S}=e,q=$?$.default:null,I=$?$.radio:null,B=l.eqRow(S,E),oe=!d||d({row:S});let L=!!p,k;u||(k={onClick(ce){!L&&oe&&l.triggerRadioRowEvent(ce,e)}},p&&(L=!p({row:S})));const _=Object.assign(Object.assign({},e),{checked:B,disabled:L,visible:oe});if(I)return Do(e,l.callSlot(I,_));const te=[];return oe&&te.push(g("span",{class:["vxe-radio--icon",B?lo().TABLE_RADIO_CHECKED:lo().TABLE_RADIO_UNCHECKED]})),(q||le)&&te.push(g("span",{class:"vxe-radio--label"},q?l.callSlot(q,_):s.get(S,le))),Do(e,[g("span",Object.assign({class:["vxe-cell--radio",{"is--checked":B,"is--disabled":L}]},k),te)])},renderTreeRadioCell(e){return dt.renderTreeIcon(e,dt.renderRadioCell(e))},renderCheckboxHeader(e){const{$table:l,column:i,isHidden:u}=e,C=l.reactData,{computeIsAllCheckboxDisabled:b,computeCheckboxOpts:E}=l.getComputeMaps(),{isAllSelected:M,isIndeterminate:$}=C,le=b.value,{slots:p}=i,d=p?p.header:null,S=p?p.title:null,q=E.value,{checkStrictly:I,showHeader:B,headerTitle:oe}=q,L=i.getTitle(),k={};u||(k.onClick=te=>{le||l.triggerCheckAllEvent(te,!M)});const _=Object.assign(Object.assign({},e),{checked:M,disabled:le,indeterminate:$});return d?sl(e,Dl(_,l.callSlot(d,_))):(I?!B:B===!1)?sl(e,Dl(_,[g("span",{class:"vxe-checkbox--label"},S?l.callSlot(S,_):L)])):sl(e,Dl(_,[g("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":M,"is--disabled":le,"is--indeterminate":$}],title:s.eqNull(oe)?fr("vxe.table.allTitle"):`${oe||""}`},k),[g("span",{class:["vxe-checkbox--icon",$?lo().TABLE_CHECKBOX_INDETERMINATE:M?lo().TABLE_CHECKBOX_CHECKED:lo().TABLE_CHECKBOX_UNCHECKED]})].concat(S||L?[g("span",{class:"vxe-checkbox--label"},S?l.callSlot(S,_):L)]:[]))]))},renderCheckboxCell(e){const{$table:l,row:i,column:u,isHidden:C}=e,b=l.props,E=l.reactData,M=l.internalData,{treeConfig:$}=b,{updateCheckboxFlag:le}=E,{selectCheckboxMaps:p,treeIndeterminateRowMaps:d}=M,{computeCheckboxOpts:S}=l.getComputeMaps(),q=S.value,{labelField:I,checkMethod:B,visibleMethod:oe}=q,{slots:L}=u,k=L?L.default:null,_=L?L.checkbox:null;let te=!1,ce=!1;const V=!oe||oe({row:i});let w=!!B;const y={};if(!C){const ne=Pe(l,i);ce=!!le&&!!p[ne],y.onClick=F=>{!w&&V&&l.triggerCheckRowEvent(F,e,!ce)},B&&(w=!B({row:i})),$&&(te=!!d[ne])}const j=Object.assign(Object.assign({},e),{checked:ce,disabled:w,visible:V,indeterminate:te});if(_)return Do(e,l.callSlot(_,j));const U=[];return V&&U.push(g("span",{class:["vxe-checkbox--icon",te?lo().TABLE_CHECKBOX_INDETERMINATE:ce?lo().TABLE_CHECKBOX_CHECKED:lo().TABLE_CHECKBOX_UNCHECKED]})),(k||I)&&U.push(g("span",{class:"vxe-checkbox--label"},k?l.callSlot(k,j):s.get(i,I))),Do(e,[g("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":ce,"is--disabled":w,"is--indeterminate":te,"is--hidden":!V}]},y),U)])},renderTreeSelectionCell(e){return dt.renderTreeIcon(e,dt.renderCheckboxCell(e))},renderCheckboxCellByProp(e){const{$table:l,row:i,column:u,isHidden:C}=e,b=l.props,E=l.reactData,M=l.internalData,{treeConfig:$}=b,{updateCheckboxFlag:le}=E,{treeIndeterminateRowMaps:p}=M,{computeCheckboxOpts:d}=l.getComputeMaps(),S=d.value,{labelField:q,checkField:I,checkMethod:B,visibleMethod:oe}=S,L=S.indeterminateField||S.halfField,{slots:k}=u,_=k?k.default:null,te=k?k.checkbox:null;let ce=!1,V=!1;const w=!oe||oe({row:i});let y=!!B;const j={};if(!C){const F=Pe(l,i);V=!!le&&s.get(i,I),j.onClick=W=>{!y&&w&&l.triggerCheckRowEvent(W,e,!V)},B&&(y=!B({row:i})),$&&(ce=!!p[F])}const U=Object.assign(Object.assign({},e),{checked:V,disabled:y,visible:w,indeterminate:ce});if(te)return Do(e,l.callSlot(te,U));const ne=[];return w&&(ne.push(g("span",{class:["vxe-checkbox--icon",ce?lo().TABLE_CHECKBOX_INDETERMINATE:V?lo().TABLE_CHECKBOX_CHECKED:lo().TABLE_CHECKBOX_UNCHECKED]})),(_||q)&&ne.push(g("span",{class:"vxe-checkbox--label"},_?l.callSlot(_,U):s.get(i,q)))),Do(e,[g("span",Object.assign({class:["vxe-cell--checkbox",{"is--checked":V,"is--disabled":y,"is--indeterminate":L&&!V?i[L]:ce,"is--hidden":!w}]},j),ne)])},renderTreeSelectionCellByProp(e){return dt.renderTreeIcon(e,dt.renderCheckboxCellByProp(e))},renderExpandCell(e){const{$table:l,isHidden:i,row:u,column:C}=e,b=l.internalData,{rowExpandedMaps:E,rowExpandLazyLoadedMaps:M}=b,{computeExpandOpts:$}=l.getComputeMaps(),le=$.value,{lazy:p,labelField:d,iconLoaded:S,showIcon:q,iconOpen:I,iconClose:B,visibleMethod:oe}=le,{slots:L}=C,k=L?L.default:null,_=L?L.icon:null;let te=!1,ce=!1;if(_)return Do(e,l.callSlot(_,e));if(!i){const V=Pe(l,u);te=!!E[V],p&&(ce=!!M[V])}return Do(e,[q&&(!oe||oe(e))?g("span",{class:["vxe-table--expanded",{"is--active":te}],onMousedown(V){V.stopPropagation()},onClick(V){l.triggerRowExpandEvent(V,e)}},[g("i",{class:["vxe-table--expand-btn",ce?S||lo().TABLE_EXPAND_LOADED:te?I||lo().TABLE_EXPAND_OPEN:B||lo().TABLE_EXPAND_CLOSE]})]):Yl(l),k||d?g("span",{class:"vxe-table--expand-label"},k?l.callSlot(k,e):s.get(u,d)):Yl(l)])},renderExpandData(e){const{$table:l,column:i}=e,{slots:u,contentRender:C}=i,b=u?u.content:null;if(b)return l.callSlot(b,e);if(C){const E=Xn.get(C.name);if(E){const M=E.renderTableExpand||E.renderExpand;if(M)return To(M(C,e))}}return[]},renderHTMLCell(e){const{$table:l,column:i}=e,{slots:u}=i,C=u?u.default:null;return C?Do(e,l.callSlot(C,e)):Do(e,[g("span",{class:"vxe-cell--html",innerHTML:ei(e)})])},renderTreeHTMLCell(e){return dt.renderTreeIcon(e,dt.renderHTMLCell(e))},renderSortAndFilterHeader(e){return sl(e,dt.renderHeaderTitle(e).concat(dt.renderSortIcon(e).concat(dt.renderFilterIcon(e))))},renderSortHeader(e){return sl(e,dt.renderHeaderTitle(e).concat(dt.renderSortIcon(e)))},renderSortIcon(e){const{$table:l,column:i}=e,{computeSortOpts:u}=l.getComputeMaps(),C=u.value,{showIcon:b,allowBtn:E,ascTitle:M,descTitle:$,iconLayout:le,iconAsc:p,iconDesc:d,iconVisibleMethod:S}=C,{order:q}=i;return b&&(!S||S(e))?[g("span",{class:["vxe-cell--sort",`vxe-cell--sort-${le}-layout`]},[g("i",{class:["vxe-sort--asc-btn",p||lo().TABLE_SORT_ASC,{"sort--active":q==="asc"}],title:s.eqNull(M)?fr("vxe.table.sortAsc"):`${M||""}`,onClick:E?I=>{I.stopPropagation(),l.triggerSortEvent(I,i,"asc")}:void 0}),g("i",{class:["vxe-sort--desc-btn",d||lo().TABLE_SORT_DESC,{"sort--active":q==="desc"}],title:s.eqNull($)?fr("vxe.table.sortDesc"):`${$||""}`,onClick:E?I=>{I.stopPropagation(),l.triggerSortEvent(I,i,"desc")}:void 0})])]:[]},renderFilterHeader(e){return sl(e,dt.renderHeaderTitle(e).concat(dt.renderFilterIcon(e)))},renderFilterIcon(e){const{$table:l,column:i,hasFilter:u}=e,C=l.reactData,{filterStore:b}=C,{computeFilterOpts:E}=l.getComputeMaps(),M=E.value,{showIcon:$,iconNone:le,iconMatch:p,iconVisibleMethod:d}=M;return $&&(!d||d(e))?[g("span",{class:["vxe-cell--filter",{"is--active":b.visible&&b.column===i}]},[g("i",{class:["vxe-filter--btn",u?p||lo().TABLE_FILTER_MATCH:le||lo().TABLE_FILTER_NONE],title:fr("vxe.table.filter"),onClick(S){l.triggerFilterEvent&&l.triggerFilterEvent(S,e.column,e)}})])]:[]},renderEditHeader(e){const{$table:l,column:i}=e,u=l.props,{computeEditOpts:C}=l.getComputeMaps(),{editConfig:b,editRules:E}=u,M=C.value,{sortable:$,filters:le,editRender:p}=i;let d=!1;if(E){const q=s.get(E,i.field);q&&(d=q.some(I=>I.required))}let S=[];return gt(b)&&(S=[d&&M.showAsterisk?g("i",{class:"vxe-cell--required-icon"}):Yl(l),gt(p)&&M.showIcon?g("i",{class:["vxe-cell--edit-icon",M.icon||lo().TABLE_EDIT]}):Yl(l)]),sl(e,S.concat(dt.renderHeaderTitle(e)).concat($?dt.renderSortIcon(e):[]).concat(le?dt.renderFilterIcon(e):[]))},renderRowEdit(e){const{$table:l,column:i}=e,u=l.reactData,{editStore:C}=u,{actived:b}=C,{editRender:E}=i;return dt.runRenderer(e,gt(E)&&b&&b.row===e.row)},renderTreeRowEdit(e){return dt.renderTreeIcon(e,dt.renderRowEdit(e))},renderCellEdit(e){const{$table:l,column:i}=e,u=l.reactData,{editStore:C}=u,{actived:b}=C,{editRender:E}=i;return dt.runRenderer(e,gt(E)&&b&&b.row===e.row&&b.column===e.column)},renderTreeCellEdit(e){return dt.renderTreeIcon(e,dt.renderCellEdit(e))},runRenderer(e,l){const{$table:i,column:u}=e,{slots:C,editRender:b,formatter:E}=u,M=C?C.default:null,$=C?C.edit:null,le=Xn.get(b.name),p=le?le.renderTableEdit||le.renderEdit:null,d=Object.assign({$type:"",isEdit:l},e);return l?(d.$type="edit",$?i.callSlot($,d):p?To(p(b,d)):[]):M?Do(e,i.callSlot(M,d)):E?Do(e,[g("span",{class:"vxe-cell--label"},ei(d))]):dt.renderDefaultCell(d)}},{getI18n:Cc,renderer:ti,renderEmptyElement:ns}=ge,pr="body",oi=Wo({name:"VxeTableBody",props:{tableData:Array,tableColumn:Array,fixedColumn:Array,fixedType:{type:String,default:""}},setup(e){const l=Io("$xeTable",{}),{xID:i,props:u,context:C,reactData:b,internalData:E}=l,{computeEditOpts:M,computeMouseOpts:$,computeCellOffsetWidth:le,computeAreaOpts:p,computeDefaultRowHeight:d,computeEmptyOpts:S,computeTooltipOpts:q,computeRadioOpts:I,computeExpandOpts:B,computeTreeOpts:oe,computeCheckboxOpts:L,computeCellOpts:k,computeValidOpts:_,computeRowOpts:te,computeColumnOpts:ce,computeRowDragOpts:V,computeColumnDragOpts:w,computeResizableOpts:y}=l.getComputeMaps(),j=je(),U=je(),ne=je(),F=je(),W=je(),he=je(),Se=je(),Ee=je(),be=()=>{const{delayHover:se}=u,{lastScrollTime:N,isDragResize:G}=b;return!!(G||N&&Date.now()<N+se)},Oe=(se,N,G)=>{const{row:ie,column:pe}=N,{afterFullData:xe}=E,{treeConfig:J}=u,we=oe.value,{slots:Q,treeNode:re}=pe,{fullAllDataRowIdData:ve}=E;if(Q&&Q.line)return l.callSlot(Q.line,N);const me=ve[se];let Z=0,Te=null;me&&(Z=me.level,Te=me.items[me.treeIndex-1]);const Ce=l.eqRow(xe[0],ie);return J&&re&&(we.showLine||we.line)?[g("div",{key:"tl",class:"vxe-tree--line-wrapper"},[g("div",{class:"vxe-tree--line",style:{height:`${Ce?1:dc(N,Te)}px`,bottom:`-${Math.floor(G/2)}px`,left:`${Z*we.indent+(Z?2-Yi(l):0)+16}px`}})])]:[]},He=(se,N,G,ie,pe,xe,J,we,Q,re,ve,me,Z)=>{const Te=l.xeGrid,{fullAllDataRowIdData:Ce,fullColumnIdData:Le,visibleColumn:Fe}=E,{columnKey:Ke,resizable:Ye,showOverflow:mt,border:Et,height:vt,cellClassName:nt,cellStyle:lt,align:bt,spanMethod:Ue,mouseConfig:Ve,editConfig:_e,editRules:Je,tooltipConfig:Re,padding:Me}=u,{tableData:qe,dragRow:pt,overflowX:et,currentColumn:K,scrollXLoad:de,scrollYLoad:ae,calcCellHeightFlag:ke,resizeHeightFlag:Ae,resizeWidthFlag:Xe,mergeList:at,editStore:ct,isAllOverflow:ft,validErrorMaps:xt}=b,{afterFullData:ut,scrollXStore:rt,scrollYStore:zt}=E,qt=k.value,no=_.value,Qt=L.value,It=M.value,Dt=q.value,Xt=y.value,{isAllColumnDrag:Bt,isAllRowDrag:yt}=Xt,po=te.value,Gt=V.value,Ht=d.value,bo=ke?qt.height||po.height:0,{disabledMethod:Ot,isCrossDrag:Jt,isPeerDrag:Ro}=Gt,eo=ce.value,ko=$.value,Ao=p.value,So=le.value,{selectCellToRow:xo}=Ao,{type:Pt,cellRender:it,editRender:co,align:vo,showOverflow:Al,className:Bo,treeNode:Ql,rowResize:Hr,padding:Dn,verticalAlign:Mn,slots:Gn}=re,{verticalAlign:Pr}=qt,{actived:Un}=ct,Tn=Ce[N]||{},yl=re.id,c=Le[yl]||{},Fn=co||it,qo=Fn?ti.get(Fn.name):null,Zn=qo?qo.tableCellClassName||qo.cellClassName:null,In=qo?qo.tableCellStyle||qo.cellStyle:"",Rl=Dt.showAll,Jl=c.index,ml=c._index,Ll=gt(co),Br=Ae?Tn.resizeHeight:0;let Xo=G?re.fixed!==G:re.fixed&&et;const Qn=s.eqNull(Dn)?Me===null?qt.padding:Me:Dn,Hl=s.eqNull(Al)?mt:Al,en=Hl==="ellipsis",rl=Hl==="title",Uo=Hl===!0||Hl==="tooltip",Pl=ft||rl||Uo||en,$r=s.isBoolean(re.resizable)?re.resizable:eo.resizable||Ye,kn=!!bo,An=Br>0;let Ln;const Zo={},tn=vo||(qo?qo.tableCellAlign:"")||bt,Hn=s.eqNull(Mn)?Pr:Mn,Qo=xt[`${N}:${yl}`],Jn=Je&&no.showMessage&&(no.message==="default"?vt||qe.length>1:no.message==="inline"),Jo={colid:yl},to={$table:l,$grid:Te,isEdit:!1,seq:se,rowid:N,row:xe,rowIndex:J,$rowIndex:we,_rowIndex:Q,column:re,columnIndex:Jl,$columnIndex:ve,_columnIndex:ml,fixed:G,type:pr,isHidden:!!Xo,level:pe,visibleData:ut,data:qe,items:Z};let Ko=!1,er=!1;po.drag&&(Ko=Gt.trigger==="row"||re.dragSort&&Gt.trigger==="cell"),Ko&&(er=!!(Ot&&Ot(to))),(rl||Uo||Rl||Re)&&(Zo.onMouseenter=Ct=>{be()||(rl?xs(Ct.currentTarget,re):(Uo||Rl)&&l.triggerBodyTooltipEvent(Ct,to),l.dispatchEvent("cell-mouseenter",Object.assign({cell:Ct.currentTarget},to),Ct))}),(Uo||Rl||Re)&&(Zo.onMouseleave=Ct=>{be()||((Uo||Rl)&&l.handleTargetLeaveEvent(Ct),l.dispatchEvent("cell-mouseleave",Object.assign({cell:Ct.currentTarget},to),Ct))}),(Ko||Qt.range||Ve)&&(Zo.onMousedown=Ct=>{l.triggerCellMousedownEvent(Ct,to)}),Ko&&(Zo.onMouseup=l.triggerCellMouseupEvent),Zo.onClick=Ct=>{l.triggerCellClickEvent(Ct,to)},Zo.onDblclick=Ct=>{l.triggerCellDblclickEvent(Ct,to)};let ho=!1;if(at.length){const Ct=Gi(at,Q,ml);if(Ct){const{rowspan:uo,colspan:$o}=Ct;if(!uo||!$o)return null;uo>1&&(ho=!0,Jo.rowspan=uo),$o>1&&(ho=!0,Jo.colspan=$o)}}else if(Ue){const{rowspan:Ct=1,colspan:uo=1}=Ue(to)||{};if(!Ct||!uo)return null;Ct>1&&(Jo.rowspan=Ct),uo>1&&(Jo.colspan=uo)}Xo&&at&&(Jo.colspan>1||Jo.rowspan>1)&&(Xo=!1),!Xo&&_e&&(co||it)&&(It.showStatus||It.showUpdateStatus)&&(Ln=l.isUpdateByRow(xe,re.field));const Bl=ae&&!Pl,$l=Tn.resizeHeight||qt.height||po.height||Tn.height||Ht,Vr=ve===me.length-1,zr=!re.resizeWidth&&(re.minWidth==="auto"||re.width==="auto");let on=!1;ho||(!pt||Pe(l,pt)!==N)&&(ae&&(Q<zt.visibleStartIndex-zt.preloadSize||Q>zt.visibleEndIndex+zt.preloadSize)||de&&!re.fixed&&(ml<rt.visibleStartIndex-rt.preloadSize||ml>rt.visibleEndIndex+rt.preloadSize))&&(on=!0);const Vl={};if(Pl&&Xe){let Ct=Jo.colspan||0;if(Ct>1)for(let uo=1;uo<Ct;uo++){const $o=Fe[Jl+uo];$o&&(Ct+=$o.renderWidth)}Vl.width=`${re.renderWidth-So*Ct}px`}ae||Pl||kn||An?Vl.height=`${$l}px`:Vl.minHeight=`${$l}px`;const Sl=[];if(Xo&&ft)Sl.push(g("div",{key:"tc",class:["vxe-cell",{"c--title":rl,"c--tooltip":Uo,"c--ellipsis":en}],style:Vl}));else if(Sl.push(...Oe(N,to,$l),g("div",{key:"tc",class:["vxe-cell",{"c--title":rl,"c--tooltip":Uo,"c--ellipsis":en}],style:Vl,title:rl?l.getCellLabel(xe,re):null},on?[]:[g("div",{colid:yl,rowid:N,class:"vxe-cell--wrapper"},re.renderCell(to))])),Jn&&Qo){const Ct=Qo.rule,uo=Gn?Gn.valid:null,$o=Object.assign(Object.assign(Object.assign({},to),Qo),{rule:Qo});Sl.push(g("div",{key:"tcv",class:["vxe-cell--valid-error-tip",Tl(no.className,$o)],style:Ct&&Ct.maxWidth?{width:`${Ct.maxWidth}px`}:null},[g("div",{class:`vxe-cell--valid-error-wrapper vxe-cell--valid-error-theme-${no.theme||"normal"}`},[uo?l.callSlot(uo,$o):[g("span",{class:"vxe-cell--valid-error-msg"},Qo.content)]])]))}let bl=!1;return Ve&&ko.area&&xo&&(!ml&&xo===!0||xo===re.field)&&(bl=!0),!Xo&&$r&&Bt&&Sl.push(g("div",{key:"tcc",class:["vxe-cell--col-resizable",{"is--line":!Et||Et==="none"}],onMousedown:Ct=>l.handleColResizeMousedownEvent(Ct,G,to),onDblclick:Ct=>l.handleColResizeDblclickEvent(Ct,to)})),(Hr||yt)&&po.resizable&&Sl.push(g("div",{key:"tcr",class:"vxe-cell--row-resizable",onMousedown:Ct=>l.handleRowResizeMousedownEvent(Ct,to),onDblclick:Ct=>l.handleRowResizeDblclickEvent(Ct,to)})),g("td",Object.assign(Object.assign(Object.assign({class:["vxe-body--column",yl,Hn?`col--vertical-${Hn}`:"",tn?`col--${tn}`:"",Pt?`col--${Pt}`:"",{"col--last":Vr,"col--tree-node":Ql,"col--edit":Ll,"col--ellipsis":Pl,"col--cs-height":kn,"col--rs-height":An,"col--to-row":bl,"col--auto-height":Bl,"fixed--width":!zr,"fixed--hidden":Xo,"is--padding":Qn,"is--progress":Xo&&ft||on,"is--drag-cell":Ko&&(Jt||Ro||!pe),"is--drag-disabled":er,"col--dirty":Ln,"col--active":_e&&Ll&&Un.row===xe&&(Un.column===re||It.mode==="row"),"col--valid-error":!!Qo,"col--current":K===re},Tl(Zn,to),Tl(Bo,to),Tl(nt,to)],key:Ke||de||ae||eo.useKey||po.useKey||eo.drag?yl:ve},Jo),{style:Object.assign({},s.isFunction(In)?In(to):In,s.isFunction(lt)?lt(to):lt)}),Zo),ie&&Xo?[]:Sl)},De=(se,N,G,ie)=>{const{stripe:pe,rowKey:xe,highlightHoverRow:J,rowClassName:we,rowStyle:Q,editConfig:re,treeConfig:ve}=u,{hasFixedColumn:me,treeExpandedFlag:Z,isColLoading:Te,scrollXLoad:Ce,scrollYLoad:Le,isAllOverflow:Fe,rowExpandedFlag:Ke,expandColumn:Ye,selectRadioRow:mt,pendingRowFlag:Et,isDragColMove:vt,rowExpandHeightFlag:nt}=b,{fullAllDataRowIdData:lt,treeExpandedMaps:bt,pendingRowMaps:Ue,rowExpandedMaps:Ve}=E,_e=L.value,Je=I.value,Re=oe.value,Me=M.value,qe=te.value,pt=ce.value,et=w.value,{transform:K,seqMode:de}=Re,ae=Re.children||Re.childrenField,ke=[],{handleGetRowId:Ae}=fo(l);return G.forEach((Xe,at)=>{const ct=Ae(Xe),ft=lt[ct]||{};let xt=at,ut=0,rt=-1,zt=-1;const qt={};(qe.isHover||J)&&(qt.onMouseenter=po=>{be()||l.triggerHoverEvent(po,{row:Xe,rowIndex:xt})},qt.onMouseleave=()=>{be()||l.clearHoverRow()}),ut=ft.level,ve&&K&&de==="increasing"?rt=ft._index+1:rt=ft.seq,xt=ft.index,zt=ft._index;const no={$table:l,seq:rt,rowid:ct,fixed:se,type:pr,level:ut,row:Xe,rowIndex:xt,$rowIndex:at,_rowIndex:zt},Qt=Ye&&!!Ke&&!!Ve[ct];let It=!1,Dt=[],Xt=!1;re&&(Xt=l.isInsertByRow(Xe)),ve&&!Le&&!K&&(Dt=Xe[ae],It=!!Z&&Dt&&Dt.length>0&&!!bt[ct]),qe.drag&&(!ve||K)&&(qt.onDragstart=l.handleRowDragDragstartEvent,qt.onDragend=l.handleRowDragDragendEvent,qt.onDragover=l.handleRowDragDragoverEvent);const Bt=["vxe-body--row",ve?`row--level-${ut}`:"",{"row--stripe":pe&&(zt+1)%2===0,"is--new":Xt,"is--expand-row":Qt,"is--expand-tree":It,"row--new":Xt&&(Me.showStatus||Me.showInsertStatus),"row--radio":Je.highlight&&l.eqRow(mt,Xe),"row--checked":_e.highlight&&l.isCheckedByCheckboxRow(Xe),"row--pending":!!Et&&!!Ue[ct]},Tl(we,no)],yt=ie.map((po,Gt)=>He(rt,ct,se,N,ut,Xe,xt,at,zt,po,Gt,ie,G));if(ke.push(!Te&&pt.drag&&et.animation?g(On,Object.assign({name:`vxe-header--col-list${vt?"":"-disabled"}`,tag:"tr",class:Bt,rowid:ct,style:Q?s.isFunction(Q)?Q(no):Q:null,key:xe||Ce||Le||qe.useKey||qe.drag||pt.drag||ve?ct:at},qt),{default:()=>yt}):g("tr",Object.assign({class:Bt,rowid:ct,style:Q?s.isFunction(Q)?Q(no):Q:null,key:xe||Ce||Le||qe.useKey||qe.drag||pt.drag||ve?ct:at},qt),yt)),Qt){const po=B.value,{height:Gt,padding:Ht,mode:bo}=po;if(bo==="fixed")ke.push(g("tr",{class:"vxe-body--row-expanded-place",key:`expand_${ct}`,rowid:ct},[g("td",{class:"vxe-body--row-expanded-place-column",colspan:ie.length,style:{height:`${nt?ft.expandHeight||Gt:0}px`}})]));else{const Ot={};Gt&&(Ot.height=`${Gt}px`),ve&&(Ot.paddingLeft=`${ut*Re.indent+30}px`);const{showOverflow:Jt}=Ye,Ro=s.isUndefined(Jt)||s.isNull(Jt)?Fe:Jt,eo={$table:l,seq:rt,column:Ye,fixed:se,type:pr,level:ut,row:Xe,rowIndex:xt,$rowIndex:at,_rowIndex:zt};ke.push(g("tr",{class:["vxe-body--expanded-row",{"is--padding":Ht}],key:`expand_${ct}`},[g("td",{class:["vxe-body--expanded-column",{"fixed--hidden":se&&!me,"col--ellipsis":Ro}],colspan:ie.length},[g("div",{class:["vxe-body--expanded-cell",{"is--ellipsis":Gt}],style:Ot},[Ye.renderData(eo)])])]))}}It&&ke.push(...De(se,N,Dt,ie))}),ke};return Ul(()=>{ue(()=>{const{fixedType:se}=e,{elemStore:N}=E,G=`${se||"main"}-body-`;N[`${G}wrapper`]=j,N[`${G}scroll`]=U,N[`${G}table`]=ne,N[`${G}colgroup`]=F,N[`${G}list`]=W,N[`${G}xSpace`]=he,N[`${G}ySpace`]=Se,N[`${G}emptyBlock`]=Ee})}),Zl(()=>{const{fixedType:se}=e,{elemStore:N}=E,G=`${se||"main"}-body-`;N[`${G}wrapper`]=null,N[`${G}scroll`]=null,N[`${G}table`]=null,N[`${G}colgroup`]=null,N[`${G}list`]=null,N[`${G}xSpace`]=null,N[`${G}ySpace`]=null,N[`${G}emptyBlock`]=null}),()=>{const{slots:se}=C,N=l.xeGrid,{fixedColumn:G,fixedType:ie,tableColumn:pe}=e,{spanMethod:xe,footerSpanMethod:J,mouseConfig:we}=u,{isGroup:Q,tableData:re,isRowLoading:ve,isColLoading:me,overflowX:Z,scrollXLoad:Te,scrollYLoad:Ce,isAllOverflow:Le,isDragRowMove:Fe,expandColumn:Ke,dragRow:Ye,dragCol:mt}=b,{visibleColumn:Et,fullAllDataRowIdData:vt,fullColumnIdData:nt}=E,lt=te.value,bt=S.value,Ue=$.value,Ve=V.value,_e=B.value;let Je=re,Re=pe,Me=!1;if((Te||Ce||Le)&&(Ke&&_e.mode!=="fixed"||xe||J||(Me=!0)),!me&&(ie||!Z)&&(Re=Et),ie&&Me&&(Re=G||[]),Ce&&Ye&&Je.length>2){const K=vt[Pe(l,Ye)];if(K){const de=K._index,ae=Je[0],ke=Je[Je.length-1],Ae=vt[Pe(l,ae)],Xe=vt[Pe(l,ke)];if(Ae&&Xe){const at=Ae._index,ct=Xe._index;de<at?Je=[Ye].concat(Je):de>ct&&(Je=Je.concat([Ye]))}}}if(!ie&&!Q&&Te&&mt&&Re.length>2){const K=nt[mt.id];if(K){const de=K._index,ae=Re[0],ke=Re[Re.length-1],Ae=nt[ae.id],Xe=nt[ke.id];if(Ae&&Xe){const at=Ae._index,ct=Xe._index;de<at?Re=[mt].concat(Re):de>ct&&(Re=Re.concat([mt]))}}}let qe;const pt=se?se.empty:null;if(pt)qe=l.callSlot(pt,{$table:l,$grid:N});else{const K=bt.name?ti.get(bt.name):null,de=K?K.renderTableEmpty||K.renderTableEmptyView||K.renderEmpty:null;de?qe=To(de(bt,{$table:l})):qe=u.emptyText||Cc("vxe.table.emptyText")}const et={onScroll(K){l.triggerBodyScrollEvent(K,ie)}};return g("div",{ref:j,class:["vxe-table--body-wrapper",ie?`fixed-${ie}--wrapper`:"body--wrapper"],xid:i},[g("div",Object.assign({ref:U,class:"vxe-table--body-inner-wrapper"},et),[ie?ns(l):g("div",{ref:he,class:"vxe-body--x-space"}),g("div",{ref:Se,class:"vxe-body--y-space"}),g("table",{ref:ne,class:"vxe-table--body",xid:i,cellspacing:0,cellpadding:0,border:0},[g("colgroup",{ref:F},Re.map((K,de)=>g("col",{name:K.id,key:de,style:{width:`${K.renderWidth}px`}}))),!(ve||me)&&lt.drag&&Ve.animation?g(On,{ref:W,name:`vxe-body--row-list${Fe?"":"-disabled"}`,tag:"tbody"},{default:()=>De(ie,Me,Je,Re)}):g("tbody",{ref:W},De(ie,Me,Je,Re))]),g("div",{class:"vxe-table--checkbox-range"}),we&&Ue.area?g("div",{class:"vxe-table--cell-area"},[g("span",{class:"vxe-table--cell-main-area"},Ue.extension?[g("span",{class:"vxe-table--cell-main-area-btn",onMousedown(K){l.triggerCellAreaExtendMousedownEvent&&l.triggerCellAreaExtendMousedownEvent(K,{$table:l,fixed:ie,type:pr})}})]:[]),g("span",{class:"vxe-table--cell-copy-area"}),g("span",{class:"vxe-table--cell-extend-area"}),g("span",{class:"vxe-table--cell-multi-area"}),g("span",{class:"vxe-table--cell-active-area"}),g("span",{class:"vxe-table--cell-row-status-area"})]):ns(l),ie?ns(l):g("div",{class:"vxe-table--empty-block",ref:Ee},[g("div",{class:"vxe-table--empty-content"},qe)])])])}}}),{renderer:wc,renderEmptyElement:rs}=ge,li="header",ni=Wo({name:"VxeTableHeader",props:{tableData:Array,tableColumn:Array,tableGroupColumn:Array,fixedColumn:Array,fixedType:{type:String,default:null}},setup(e){const l=Io("$xeTable",{}),{xID:i,props:u,reactData:C,internalData:b}=l,{computeColumnOpts:E,computeColumnDragOpts:M,computeCellOpts:$,computeMouseOpts:le,computeHeaderCellOpts:p,computeDefaultRowHeight:d}=l.getComputeMaps(),S=je([]),q=je(),I=je(),B=je(),oe=je(),L=je(),k=je(),_=je(),te=()=>{const{isGroup:y}=C;S.value=y?lc(e.tableGroupColumn):[]},ce=(y,j,U,ne)=>{const F=l.xeGrid,{fixedType:W}=e,{resizable:he,columnKey:Se,headerCellClassName:Ee,headerCellStyle:be,showHeaderOverflow:Oe,headerAlign:He,align:De,mouseConfig:A}=u,{currentColumn:se,dragCol:N,scrollXLoad:G,scrollYLoad:ie,overflowX:pe}=C,{fullColumnIdData:xe,scrollXStore:J}=b,we=E.value,Q=M.value,re=$.value,ve=d.value,me=p.value,Z=_i(me.height||re.height)||ve,{disabledMethod:Te,isCrossDrag:Ce,isPeerDrag:Le}=Q;return U.map((Fe,Ke)=>{const{type:Ye,showHeaderOverflow:mt,headerAlign:Et,align:vt,filters:nt,headerClassName:lt,editRender:bt,cellRender:Ue}=Fe,Ve=Fe.id,_e=xe[Ve]||{},Je=bt||Ue,Re=Je?wc.get(Je.name):null,Me=Fe.children&&Fe.children.length,qe=W?Fe.fixed!==W&&!Me:!!Fe.fixed&&pe,pt=s.isBoolean(me.padding)?me.padding:re.padding,et=s.eqNull(mt)?Oe:mt,K=Et||(Re?Re.tableHeaderCellAlign:"")||He||vt||(Re?Re.tableCellAlign:"")||De;let de=et==="ellipsis";const ae=et==="title",ke=et===!0||et==="tooltip";let Ae=ae||ke||de,Xe=!1,at=null;nt&&(at=nt[0],Xe=nt.some(Bt=>Bt.checked));const ct=_e.index,ft=_e._index,xt={$table:l,$grid:F,$rowIndex:ne,column:Fe,columnIndex:ct,$columnIndex:Ke,_columnIndex:ft,firstFilterOption:at,fixed:W,type:li,isHidden:qe,hasFilter:Xe},ut={colid:Ve,colspan:Fe.colSpan>1?Fe.colSpan:null,rowspan:Fe.rowSpan>1?Fe.rowSpan:null},rt={onClick:Bt=>l.triggerHeaderCellClickEvent(Bt,xt),onDblclick:Bt=>l.triggerHeaderCellDblclickEvent(Bt,xt)};G&&!Ae&&(de=Ae=!0);const zt=we.drag&&Q.trigger==="cell";let qt=!1;zt&&(qt=!!(Te&&Te(xt))),(A||zt)&&(rt.onMousedown=Bt=>l.triggerHeaderCellMousedownEvent(Bt,xt)),we.drag&&(rt.onDragstart=l.handleHeaderCellDragDragstartEvent,rt.onDragend=l.handleHeaderCellDragDragendEvent,rt.onDragover=l.handleHeaderCellDragDragoverEvent,zt&&(rt.onMouseup=l.handleHeaderCellDragMouseupEvent));const no=Ke===U.length-1,Qt=s.isBoolean(Fe.resizable)?Fe.resizable:we.resizable||he,It=!Fe.resizeWidth&&(Fe.minWidth==="auto"||Fe.width==="auto");let Dt=!1;y||(!N||N.id!==Ve)&&G&&!Fe.fixed&&(ft<J.visibleStartIndex-J.preloadSize||ft>J.visibleEndIndex+J.preloadSize)&&(Dt=!0);const Xt={};return Ae?Xt.height=`${Z}px`:Xt.minHeight=`${Z}px`,g("th",Object.assign(Object.assign(Object.assign({class:["vxe-header--column",Ve,{[`col--${K}`]:K,[`col--${Ye}`]:Ye,"col--last":no,"col--fixed":Fe.fixed,"col--group":Me,"col--ellipsis":Ae,"fixed--width":!It,"fixed--hidden":qe,"is--padding":pt,"is--sortable":Fe.sortable,"col--filter":!!nt,"is--filter-active":Xe,"is--drag-active":we.drag&&!Fe.fixed&&!qt&&(Ce||Le||!Fe.parentId),"is--drag-disabled":we.drag&&qt,"col--current":se===Fe},lt?s.isFunction(lt)?lt(xt):lt:"",Ee?s.isFunction(Ee)?Ee(xt):Ee:""],style:be?s.isFunction(be)?be(xt):be:null},ut),rt),{key:Se||G||ie||we.useKey||we.drag||Me?Ve:Ke}),[g("div",{class:["vxe-cell",{"c--title":ae,"c--tooltip":ke,"c--ellipsis":de}],style:Xt},Dt||j&&qe?[]:[g("div",{colid:Ve,class:"vxe-cell--wrapper"},Fe.renderHeader(xt))]),!qe&&Qt?g("div",{class:"vxe-cell--col-resizable",onMousedown:Bt=>l.handleColResizeMousedownEvent(Bt,W,xt),onDblclick:Bt=>l.handleColResizeDblclickEvent(Bt,xt)}):rs(l)])})},V=(y,j,U)=>{const{fixedType:ne}=e,{headerRowClassName:F,headerRowStyle:W}=u,{isColLoading:he,isDragColMove:Se}=C,Ee=E.value,be=M.value;return U.map((Oe,He)=>{const De={$table:l,$rowIndex:He,fixed:ne,type:li};return!he&&Ee.drag&&be.animation?g(On,{key:He,name:`vxe-header--col-list${Se?"":"-disabled"}`,tag:"tr",class:["vxe-header--row",F?s.isFunction(F)?F(De):F:""],style:W?s.isFunction(W)?W(De):W:null},{default:()=>ce(y,j,Oe,He)}):g("tr",{key:He,class:["vxe-header--row",F?s.isFunction(F)?F(De):F:""],style:W?s.isFunction(W)?W(De):W:null},ce(y,j,Oe,He))})},w=()=>{const{fixedType:y,fixedColumn:j,tableColumn:U}=e,{mouseConfig:ne,showHeaderOverflow:F,spanMethod:W,footerSpanMethod:he}=u,{isGroup:Se,isColLoading:Ee,overflowX:be,scrollXLoad:Oe,scrollYLoad:He,dragCol:De}=C,{visibleColumn:A,fullColumnIdData:se}=b,N=le.value;let G=S.value,ie=U,pe=!1;if(Se?ie=A:((Oe||He||F)&&(W||he||(pe=!0)),!Ee&&(y||!be)&&(ie=A),y&&pe&&(ie=j||[]),G=[ie]),!y&&!Se&&Oe&&De&&ie.length>2){const xe=se[De.id];if(xe){const J=xe._index,we=ie[0],Q=ie[ie.length-1],re=se[we.id],ve=se[Q.id];if(re&&ve){const me=re._index,Z=ve._index;J<me?(ie=[De].concat(ie),G=[[De].concat(G[0])].concat(G.slice(1))):J>Z&&(ie=ie.concat([De]),G=[G[0].concat([De])].concat(G.slice(1)))}}}return g("div",{ref:q,class:["vxe-table--header-wrapper",y?`fixed-${y}--wrapper`:"body--wrapper"],xid:i},[g("div",{ref:I,class:"vxe-table--header-inner-wrapper",onScroll(xe){l.triggerHeaderScrollEvent(xe,y)}},[y?rs(l):g("div",{ref:k,class:"vxe-body--x-space"}),g("table",{ref:B,class:"vxe-table--header",xid:i,cellspacing:0,cellpadding:0,border:0},[g("colgroup",{ref:oe},ie.map((xe,J)=>g("col",{name:xe.id,key:J,style:{width:`${xe.renderWidth}px`}}))),g("thead",{ref:L},V(Se,pe,G))]),ne&&N.area?g("div",{class:"vxe-table--cell-area"},[g("span",{class:"vxe-table--cell-main-area"}),g("span",{class:"vxe-table--cell-copy-area"}),g("span",{class:"vxe-table--cell-extend-area"}),g("span",{class:"vxe-table--cell-multi-area"}),g("span",{class:"vxe-table--cell-active-area"}),g("span",{class:"vxe-table--cell-col-status-area"})]):rs(l)])])};return Rt(()=>e.tableColumn,te),Ul(()=>{ue(()=>{const{fixedType:y}=e,{internalData:j}=l,{elemStore:U}=j,ne=`${y||"main"}-header-`;U[`${ne}wrapper`]=q,U[`${ne}scroll`]=I,U[`${ne}table`]=B,U[`${ne}colgroup`]=oe,U[`${ne}list`]=L,U[`${ne}xSpace`]=k,U[`${ne}repair`]=_,te()})}),Zl(()=>{const{fixedType:y}=e,{internalData:j}=l,{elemStore:U}=j,ne=`${y||"main"}-header-`;U[`${ne}wrapper`]=null,U[`${ne}scroll`]=null,U[`${ne}table`]=null,U[`${ne}colgroup`]=null,U[`${ne}list`]=null,U[`${ne}xSpace`]=null,U[`${ne}repair`]=null}),w}}),{renderer:Ec,renderEmptyElement:ri}=ge,si="footer";function yc(e,l,i){for(let u=0;u<e.length;u++){const{row:C,col:b,rowspan:E,colspan:M}=e[u];if(b>-1&&C>-1&&E&&M){if(C===l&&b===i)return{rowspan:E,colspan:M};if(l>=C&&l<C+E&&i>=b&&i<b+M)return{rowspan:0,colspan:0}}}}const ii=Wo({name:"VxeTableFooter",props:{footerTableData:{type:Array,default:()=>[]},tableColumn:{type:Array,default:()=>[]},fixedColumn:{type:Array,default:()=>[]},fixedType:{type:String,default:null}},setup(e){const l=Io("$xeTable",{}),{xID:i,props:u,reactData:C,internalData:b}=l,{computeTooltipOpts:E,computeColumnOpts:M,computeColumnDragOpts:$,computeCellOpts:le,computeFooterCellOpts:p,computeDefaultRowHeight:d,computeResizableOpts:S}=l.getComputeMaps(),q=je(),I=je(),B=je(),oe=je(),L=je(),k=je(),_=(V,w,y,j,U)=>{const ne=l.xeGrid,{fixedType:F}=e,{resizable:W,border:he,footerCellClassName:Se,footerCellStyle:Ee,footerAlign:be,footerSpanMethod:Oe,align:He,columnKey:De,showFooterOverflow:A}=u,{scrollXLoad:se,scrollYLoad:N,overflowX:G,currentColumn:ie,mergeFooterList:pe}=C,{fullColumnIdData:xe,scrollXStore:J}=b,we=E.value,Q=S.value,{isAllColumnDrag:re}=Q,ve=M.value,me=d.value,Z=le.value,Te=p.value,Ce=_i(Te.height||Z.height)||me;return V.map((Le,Fe)=>{const{type:Ke,showFooterOverflow:Ye,footerAlign:mt,align:Et,footerClassName:vt,editRender:nt,cellRender:lt}=Le,bt=Le.id,Ue=xe[bt]||{},Ve=nt||lt,_e=Ve?Ec.get(Ve.name):null,Je=we.showAll,Re=Le.children&&Le.children.length,Me=F?Le.fixed!==F&&!Re:Le.fixed&&G,qe=s.isBoolean(Te.padding)?Te.padding:Z.padding,pt=s.eqNull(Ye)?A:Ye,et=mt||(_e?_e.tableFooterCellAlign:"")||be||Et||(_e?_e.tableCellAlign:"")||He;let K=pt==="ellipsis";const de=pt==="title",ae=pt===!0||pt==="tooltip";let ke=de||ae||K;const Ae=s.isBoolean(Le.resizable)?Le.resizable:ve.resizable||W,Xe={colid:bt},at={},ct=Ue.index,ft=Ue._index,ut={$table:l,$grid:ne,row:y,rowIndex:U,_rowIndex:U,$rowIndex:j,column:Le,columnIndex:ct,$columnIndex:Fe,_columnIndex:ft,itemIndex:ft,items:y,fixed:F,type:si,data:w};se&&!ke&&(K=ke=!0),(de||ae||Je)&&(at.onMouseenter=It=>{de?xs(It.currentTarget,Le):(ae||Je)&&l.triggerFooterTooltipEvent(It,ut)}),(ae||Je)&&(at.onMouseleave=It=>{(ae||Je)&&l.handleTargetLeaveEvent(It)}),at.onClick=It=>{l.dispatchEvent("footer-cell-click",Object.assign({cell:It.currentTarget},ut),It)},at.onDblclick=It=>{l.dispatchEvent("footer-cell-dblclick",Object.assign({cell:It.currentTarget},ut),It)};let rt=!1;if(pe.length){const It=yc(pe,U,ft);if(It){const{rowspan:Dt,colspan:Xt}=It;if(!Dt||!Xt)return null;Dt>1&&(rt=!0,Xe.rowspan=Dt),Xt>1&&(rt=!0,Xe.colspan=Xt)}}else if(Oe){const{rowspan:It=1,colspan:Dt=1}=Oe(ut)||{};if(!It||!Dt)return null;It>1&&(Xe.rowspan=It),Dt>1&&(Xe.colspan=Dt)}const zt=Fe===V.length-1,qt=!Le.resizeWidth&&(Le.minWidth==="auto"||Le.width==="auto");let no=!1;rt||se&&!Le.fixed&&(ft<J.visibleStartIndex-J.preloadSize||ft>J.visibleEndIndex+J.preloadSize)&&(no=!0);const Qt={};return ke?Qt.height=`${Ce}px`:Qt.minHeight=`${Ce}px`,g("td",Object.assign(Object.assign(Object.assign(Object.assign({class:["vxe-footer--column",Le.id,{[`col--${et}`]:et,[`col--${Ke}`]:Ke,"col--last":zt,"fixed--width":!qt,"fixed--hidden":Me,"is--padding":qe,"col--ellipsis":ke,"col--current":ie===Le},Tl(vt,ut),Tl(Se,ut)]},Xe),{style:Ee?s.isFunction(Ee)?Ee(ut):Ee:null}),at),{key:De||se||N||ve.useKey||ve.drag?Le.id:Fe}),[g("div",{class:["vxe-cell",{"c--title":de,"c--tooltip":ae,"c--ellipsis":K}],style:Qt},no?[]:[g("div",{colid:bt,class:"vxe-cell--wrapper"},Le.renderFooter(ut))]),!Me&&Ae&&re?g("div",{class:["vxe-cell--col-resizable",{"is--line":!he||he==="none"}],onMousedown:It=>l.handleColResizeMousedownEvent(It,F,ut),onDblclick:It=>l.handleColResizeDblclickEvent(It,ut)}):ri(l)])})},te=V=>{const{fixedType:w,footerTableData:y}=e,{footerRowClassName:j,footerRowStyle:U}=u,{isColLoading:ne,isDragColMove:F}=C,W=M.value,he=$.value;return y.map((Se,Ee)=>{const be=Ee,Oe={$table:l,row:Se,_rowIndex:be,$rowIndex:Ee,fixed:w,type:si};return!ne&&W.drag&&he.animation?g(On,{key:Ee,name:`vxe-header--col-list${F?"":"-disabled"}`,tag:"tr",class:["vxe-footer--row",j?s.isFunction(j)?j(Oe):j:""],style:U?s.isFunction(U)?U(Oe):U:null},{default:()=>_(V,y,Se,Ee,be)}):g("tr",{key:Ee,class:["vxe-footer--row",j?s.isFunction(j)?j(Oe):j:""],style:U?s.isFunction(U)?U(Oe):U:null},_(V,y,Se,Ee,be))})},ce=()=>{const{fixedType:V,fixedColumn:w,tableColumn:y}=e,{spanMethod:j,footerSpanMethod:U,showFooterOverflow:ne}=u,{visibleColumn:F,fullColumnIdData:W}=b,{isGroup:he,isColLoading:Se,overflowX:Ee,scrollXLoad:be,scrollYLoad:Oe,dragCol:He}=C;let De=y,A=!1;if((be||Oe||ne)&&(j||U||(A=!0)),!Se&&(V||!Ee)&&(De=F),V&&A&&(De=w||[]),!V&&!he&&be&&He&&De.length>2){const se=W[He.id];if(se){const N=se._index,G=De[0],ie=De[De.length-1],pe=W[G.id],xe=W[ie.id];if(pe&&xe){const J=pe._index,we=xe._index;N<J?De=[He].concat(De):N>we&&(De=De.concat([He]))}}}return g("div",{ref:q,class:["vxe-table--footer-wrapper",V?`fixed-${V}--wrapper`:"body--wrapper"],xid:i},[g("div",{ref:I,class:"vxe-table--footer-inner-wrapper",onScroll(se){l.triggerFooterScrollEvent(se,V)}},[V?ri(l):g("div",{ref:k,class:"vxe-body--x-space"}),g("table",{ref:B,class:"vxe-table--footer",xid:i,cellspacing:0,cellpadding:0,border:0},[g("colgroup",{ref:oe},De.map((se,N)=>g("col",{name:se.id,key:N,style:{width:`${se.renderWidth}px`}}))),g("tfoot",{ref:L},te(De))])])])};return Ul(()=>{ue(()=>{const{fixedType:V}=e,{elemStore:w}=b,y=`${V||"main"}-footer-`;w[`${y}wrapper`]=q,w[`${y}scroll`]=I,w[`${y}table`]=B,w[`${y}colgroup`]=oe,w[`${y}list`]=L,w[`${y}xSpace`]=k})}),Zl(()=>{const{fixedType:V}=e,{elemStore:w}=b,y=`${V||"main"}-footer-`;w[`${y}wrapper`]=null,w[`${y}scroll`]=null,w[`${y}table`]=null,w[`${y}colgroup`]=null,w[`${y}list`]=null,w[`${y}xSpace`]=null}),ce}}),{getConfig:so}=ge,Or={id:[String,Function],data:Array,height:[Number,String],minHeight:{type:[Number,String],default:()=>so().table.minHeight},maxHeight:[Number,String],resizable:{type:Boolean,default:()=>so().table.resizable},stripe:{type:Boolean,default:()=>so().table.stripe},border:{type:[Boolean,String],default:()=>so().table.border},padding:{type:Boolean,default:null},round:{type:Boolean,default:()=>so().table.round},size:{type:String,default:()=>so().table.size||so().size},fit:{type:Boolean,default:()=>so().table.fit},loading:Boolean,align:{type:String,default:()=>so().table.align},headerAlign:{type:String,default:()=>so().table.headerAlign},footerAlign:{type:String,default:()=>so().table.footerAlign},showHeader:{type:Boolean,default:()=>so().table.showHeader},highlightCurrentRow:{type:Boolean,default:()=>so().table.highlightCurrentRow},highlightHoverRow:{type:Boolean,default:()=>so().table.highlightHoverRow},highlightCurrentColumn:{type:Boolean,default:()=>so().table.highlightCurrentColumn},highlightHoverColumn:{type:Boolean,default:()=>so().table.highlightHoverColumn},highlightCell:Boolean,showFooter:Boolean,footerData:Array,footerMethod:Function,rowClassName:[String,Function],cellClassName:[String,Function],headerRowClassName:[String,Function],headerCellClassName:[String,Function],footerRowClassName:[String,Function],footerCellClassName:[String,Function],cellStyle:[Object,Function],headerCellStyle:[Object,Function],footerCellStyle:[Object,Function],rowStyle:[Object,Function],headerRowStyle:[Object,Function],footerRowStyle:[Object,Function],mergeCells:Array,mergeFooterItems:Array,spanMethod:Function,footerSpanMethod:Function,showOverflow:{type:[Boolean,String],default:()=>so().table.showOverflow},showHeaderOverflow:{type:[Boolean,String],default:()=>so().table.showHeaderOverflow},showFooterOverflow:{type:[Boolean,String],default:()=>so().table.showFooterOverflow},columnKey:Boolean,rowKey:Boolean,rowId:{type:String,default:()=>so().table.rowId},zIndex:Number,emptyText:{type:String,default:()=>so().table.emptyText},keepSource:{type:Boolean,default:()=>so().table.keepSource},autoResize:{type:Boolean,default:()=>so().table.autoResize},syncResize:[Boolean,String,Number],resizeConfig:Object,columnConfig:Object,currentColumnConfig:Object,cellConfig:Object,headerCellConfig:Object,footerCellConfig:Object,rowConfig:Object,currentRowConfig:Object,dragConfig:Object,rowDragConfig:Object,columnDragConfig:Object,resizableConfig:Object,seqConfig:Object,sortConfig:Object,filterConfig:Object,radioConfig:Object,checkboxConfig:Object,tooltipConfig:Object,exportConfig:Object,importConfig:Object,printConfig:Object,expandConfig:Object,treeConfig:Object,menuConfig:Object,mouseConfig:Object,areaConfig:Object,keyboardConfig:Object,clipConfig:Object,fnrConfig:Object,editConfig:Object,validConfig:Object,editRules:Object,loadingConfig:Object,emptyRender:Object,customConfig:Object,scrollX:Object,scrollY:Object,virtualXConfig:Object,virtualYConfig:Object,scrollbarConfig:Object,animat:{type:Boolean,default:()=>so().table.animat},delayHover:{type:Number,default:()=>so().table.delayHover},params:Object},Cs=["update:data","keydown-start","keydown","keydown-end","paste","copy","cut","current-change","radio-change","checkbox-change","checkbox-all","checkbox-range-start","checkbox-range-change","checkbox-range-end","checkbox-range-select","cell-click","cell-dblclick","cell-menu","cell-mouseenter","cell-mouseleave","cell-selected","cell-delete-value","cell-backspace-value","header-cell-click","header-cell-dblclick","header-cell-menu","footer-cell-click","footer-cell-dblclick","footer-cell-menu","clear-merge","sort-change","clear-sort","filter-change","filter-visible","clear-filter","resizable-change","column-resizable-change","row-resizable-change","toggle-row-expand","toggle-tree-expand","menu-click","edit-closed","row-dragstart","row-dragover","row-dragend","column-dragstart","column-dragover","column-dragend","enter-append-row","edit-actived","edit-activated","edit-disabled","valid-error","scroll","scroll-boundary","custom","change-fnr","open-fnr","show-fnr","hide-fnr","fnr-change","fnr-find","fnr-find-all","fnr-replace","fnr-replace-all","cell-area-copy","cell-area-cut","cell-area-paste","cell-area-merge","clear-cell-area-selection","clear-cell-area-merge","header-cell-area-selection","cell-area-selection-invalid","cell-area-selection-start","cell-area-selection-drag","cell-area-selection-end","cell-area-extension-start","cell-area-extension-drag","cell-area-extension-end","cell-area-selection-all-start","cell-area-selection-all-end","cell-area-arrows-start","cell-area-arrows-end","active-cell-change-start","active-cell-change-end"],{getI18n:_t,getIcon:mo,renderEmptyElement:hr}=ge,Rc=Wo({name:"TableCustomPanel",props:{customStore:{type:Object,default:()=>({})}},setup(e){const l=ge.getComponent("VxeModal"),i=ge.getComponent("VxeDrawer"),u=ge.getComponent("VxeButton"),C=ge.getComponent("VxeNumberInput"),b=ge.getComponent("VxeRadioGroup"),E=Io("$xeTable",{}),{props:M,reactData:$,internalData:le}=E,{computeCustomOpts:p,computeColumnDragOpts:d,computeColumnOpts:S,computeIsMaxFixedColumn:q,computeResizableOpts:I}=E.getComputeMaps(),B=je(),oe=je(),L=je(),k=je(),_=je();let te,ce=!1,V;const w=Q=>{const{customStore:re}=e;re.activeWrapper=!0,E.customOpenEvent(Q)},y=Q=>{const{customStore:re}=e;re.activeWrapper=!1,setTimeout(()=>{!re.activeBtn&&!re.activeWrapper&&E.customCloseEvent(Q)},300)},j=({$event:Q})=>{$.isCustomStatus=!0,E.saveCustom(),E.closeCustom(),E.emitCustomEvent("confirm",Q)},U=({$event:Q})=>{E.closeCustom(),E.emitCustomEvent("close",Q)},ne=({$event:Q})=>{E.cancelCustom(),E.closeCustom(),E.emitCustomEvent("cancel",Q)},F=Q=>{E.resetCustom(!0),E.closeCustom(),E.emitCustomEvent("reset",Q)},W=({$event:Q})=>{ge.modal?ge.modal.confirm({content:_t("vxe.custom.cstmConfirmRestore"),className:"vxe-table--ignore-clear",escClosable:!0}).then(re=>{re==="confirm"&&F(Q)}):F(Q)},he=Q=>{const{customColumnList:re}=$,ve=s.findTree(re,me=>me===Q);if(ve&&ve.parent){const{parent:me}=ve;me.children&&me.children.length&&(me.renderVisible=me.children.every(Z=>Z.renderVisible),me.halfVisible=!me.renderVisible&&me.children.some(Z=>Z.renderVisible||Z.halfVisible),he(me))}},Se=Q=>{const re=!Q.renderVisible;p.value.immediate?(s.eachTree([Q],me=>{me.visible=re,me.renderVisible=re,me.halfVisible=!1}),$.isCustomStatus=!0,E.handleCustom(),E.saveCustomStore("update:visible")):s.eachTree([Q],me=>{me.renderVisible=re,me.halfVisible=!1}),he(Q),E.checkCustomStatus()},Ee=Q=>{p.value.immediate&&Q.renderResizeWidth!==Q.renderWidth&&(Q.resizeWidth=Q.renderResizeWidth,Q.renderWidth=Q.renderResizeWidth,$.isCustomStatus=!0,E.handleCustom(),E.saveCustomStore("update:width"))},be=(Q,re)=>{const ve=q.value;p.value.immediate?(Q.renderFixed===re?s.eachTree([Q],Z=>{Z.fixed="",Z.renderFixed=""}):(!ve||Q.renderFixed)&&s.eachTree([Q],Z=>{Z.fixed=re,Z.renderFixed=re}),$.isCustomStatus=!0,E.handleCustom(),E.saveCustomStore("update:fixed")):Q.renderFixed===re?s.eachTree([Q],Z=>{Z.renderFixed=""}):(!ve||Q.renderFixed)&&s.eachTree([Q],Z=>{Z.renderFixed=re})},Oe=()=>{E.toggleCustomAllCheckbox()},He=(Q,re,ve,me)=>{const Z=oe.value;if(!Z)return;const Te=Z.getBoundingClientRect();if(re){const Le=L.value;if(Le)if(ve){const Fe=re.getBoundingClientRect();Le.style.display="block",Le.style.top=`${Math.max(1,Fe.y+Z.scrollTop-Te.y)}px`,Le.style.height=`${Fe.height}px`,Le.style.width=`${Fe.width}px`,Le.setAttribute("drag-pos",me),Le.setAttribute("drag-to-child",ce?"y":"n")}else Le.style.display=""}const Ce=k.value;Ce&&(Ce.style.display="block",Ce.style.top=`${Math.min(Z.clientHeight+Z.scrollTop-Ce.clientHeight,Q.clientY+Z.scrollTop-Te.y)}px`,Ce.style.left=`${Math.min(Z.clientWidth+Z.scrollLeft-Ce.clientWidth,Q.clientX+Z.scrollLeft-Te.x)}px`,Ce.setAttribute("drag-status",ve?ce?"sub":"normal":"disabled"))},De=()=>{const Q=k.value,re=L.value;Q&&(Q.style.display=""),re&&(re.style.display="")},A=Q=>{const Z=Q.currentTarget.parentElement.parentElement.parentElement,Te=Z.getAttribute("colid"),Ce=E.getColumnById(Te);Z.draggable=!0,_.value=Ce,ol(Z,"active--drag-origin")},se=Q=>{const Z=Q.currentTarget.parentElement.parentElement.parentElement;De(),Z.draggable=!1,_.value=null,Po(Z,"active--drag-origin")},N=Q=>{Q.dataTransfer&&Q.dataTransfer.setDragImage(fs(),0,0)},G=Q=>{const{mouseConfig:re}=M,{customColumnList:ve}=$,{collectColumn:me}=le,Z=p.value,{immediate:Te}=Z,Ce=Q.currentTarget,Le=_.value,Fe=d.value,{isCrossDrag:Ke,isSelfToChildDrag:Ye,isToChildDrag:mt,dragEndMethod:Et}=Fe,vt=V==="bottom"?1:0;if(te&&Le&&te!==Le){const nt=Le,lt=te;Promise.resolve(Et?Et({oldColumn:nt,newColumn:lt,dragColumn:nt,dragPos:V,dragToChild:!!ce,offsetIndex:vt}):!0).then(bt=>{if(!bt)return;let Ue=-1,Ve=-1;const _e={};s.eachTree([nt],Re=>{_e[Re.id]=Re});let Je=!1;if(Te){if(nt.parentId&&lt.parentId){if(!Ke)return;if(_e[lt.id]&&(Je=!0,!(Ke&&Ye))){ge.modal&&ge.modal.message({status:"error",content:_t("vxe.error.treeDragChild")});return}}else if(nt.parentId){if(!Ke)return}else if(lt.parentId){if(!Ke)return;if(_e[lt.id]&&(Je=!0,!(Ke&&Ye))){ge.modal&&ge.modal.message({status:"error",content:_t("vxe.error.treeDragChild")});return}}const Re=s.findTree(me,qe=>qe.id===nt.id);if(Je&&Ke&&Ye){if(Re){const{items:qe,index:pt}=Re,et=nt.children||[];et.forEach(K=>{K.parentId=nt.parentId}),qe.splice(pt,1,...et),nt.children=[]}}else if(Re){const{items:qe,index:pt,parent:et}=Re;qe.splice(pt,1),et||(Ue=pt)}const Me=s.findTree(me,qe=>qe.id===lt.id);if(Me){const{items:qe,index:pt,parent:et}=Me;Ke&&mt&&ce?(nt.parentId=lt.id,lt.children=(lt.children||[]).concat([nt])):(nt.parentId=lt.parentId,qe.splice(pt+vt,0,nt)),et||(Ve=pt)}s.eachTree(me,(qe,pt,et,K,de)=>{if(!de){const ae=pt+1;qe.renderSortNumber=ae}})}else Ue=s.findIndexOf(ve,Re=>Re.id===nt.id),ve.splice(Ue,1),Ve=s.findIndexOf(ve,Re=>Re.id===lt.id),ve.splice(Ve+vt,0,nt);$.isDragColMove=!0,re&&(E.clearSelected&&E.clearSelected(),E.clearCellAreas&&(E.clearCellAreas(),E.clearCopyCellArea())),E.dispatchEvent("column-dragend",{oldColumn:nt,newColumn:lt,dragColumn:nt,dragPos:V,offsetIndex:vt,_index:{newIndex:Ve,oldIndex:Ue}},Q),Te&&($.customColumnList=me.slice(0),E.handleColDragSwapColumn())}).catch(()=>{})}De(),_.value=null,Ce.draggable=!1,Ce.removeAttribute("drag-pos"),Po(Ce,"active--drag-target"),Po(Ce,"active--drag-origin")},ie=Q=>{const re=p.value,{immediate:ve}=re,me=d.value,{isCrossDrag:Z,isToChildDrag:Te}=me,Ce=Q.currentTarget,Le=Q.ctrlKey,Fe=Ce.getAttribute("colid"),Ke=E.getColumnById(Fe),Ye=_.value;if(Ke&&(Z||Ke.level===1)){Q.preventDefault();const Et=Q.clientY-Ce.getBoundingClientRect().y<Ce.clientHeight/2?"top":"bottom";if(Ye&&Ye.id===Ke.id||!Z&&Ke.level>1||!ve&&Ke.level>1||Ke.renderFixed){He(Q,Ce,!1,Et);return}ce=!!(Z&&Te&&Le&&ve),te=Ke,V=Et,He(Q,Ce,!0,Et)}},pe=()=>{const Q=_.value,re=d.value;return g("div",{},[g("div",{ref:L,class:["vxe-table-custom-popup--drag-line",{"is--guides":re.showGuidesStatus}]}),g("div",{ref:k,class:"vxe-table-custom-popup--drag-tip"},[g("div",{class:"vxe-table-custom-popup--drag-tip-wrapper"},[g("div",{class:"vxe-table-custom-popup--drag-tip-status"},[g("span",{class:["vxe-table-custom-popup--drag-tip-normal-status",mo().TABLE_DRAG_STATUS_ROW]}),g("span",{class:["vxe-table-custom-popup--drag-tip-sub-status",mo().TABLE_DRAG_STATUS_SUB_ROW]}),g("span",{class:["vxe-table-custom-popup--drag-tip-disabled-status",mo().TABLE_DRAG_DISABLED]})]),g("div",{class:"vxe-table-custom-popup--drag-tip-content"},_t("vxe.custom.cstmDragTarget",[Q&&Q.type!=="html"?Q.getTitle():""]))])])])},xe=()=>{const Q=E.xeGrid,{customStore:re}=e,{isCustomStatus:ve,customColumnList:me}=$,Z=p.value,{immediate:Te}=Z,Ce=d.value,{maxHeight:Le}=re,{checkMethod:Fe,visibleMethod:Ke,allowVisible:Ye,allowSort:mt,allowFixed:Et,trigger:vt,placement:nt}=Z,lt=q.value,{isCrossDrag:bt}=Ce,Ue=Z.slots||{},Ve=Ue.header,_e=Ue.top,Je=Ue.bottom,Re=Ue.default,Me=Ue.footer,qe=[],pt={},et=re.isAll,K=re.isIndeterminate;vt==="hover"&&(pt.onMouseenter=w,pt.onMouseleave=y);const de={$table:E,$grid:Q,columns:me,isAllChecked:et,isAllIndeterminate:K,isCustomStatus:ve};return s.eachTree(me,(ae,ke,Ae,Xe,at)=>{if(Ke?Ke({column:ae}):!0){const ft=ae.renderVisible,xt=ae.halfVisible,ut=ae.children&&ae.children.length,rt=wo(ae.getTitle(),1),zt=Fe?!Fe({column:ae}):!1,qt=!ft;qe.push(g("li",{key:ae.id,colid:ae.id,class:["vxe-table-custom--option",`level--${ae.level}`,{"is--hidden":zt||qt,"is--group":ut}],onDragstart:N,onDragend:G,onDragover:ie},[Ye?g("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ft,"is--indeterminate":xt,"is--disabled":zt}],title:_t("vxe.custom.setting.colVisible"),onClick:()=>{zt||Se(ae)}},[g("span",{class:["vxe-checkbox--icon",xt?mo().TABLE_CHECKBOX_INDETERMINATE:ft?mo().TABLE_CHECKBOX_CHECKED:mo().TABLE_CHECKBOX_UNCHECKED]})]):tt(),g("div",{class:"vxe-table-custom--name-option"},[mt&&(bt&&Te||ae.level===1)?g("div",{class:"vxe-table-custom--sort-option"},[g("span",Object.assign({class:["vxe-table-custom--sort-btn",{"is--disabled":zt||qt||ae.renderFixed}],title:_t("vxe.custom.setting.sortHelpTip")},zt||qt||ae.renderFixed?{}:{onMousedown:A,onMouseup:se}),[g("i",{class:mo().TABLE_CUSTOM_SORT})])]):tt(),ae.type==="html"?g("div",{key:"1",class:"vxe-table-custom--checkbox-label",innerHTML:rt}):g("div",{key:"0",class:"vxe-table-custom--checkbox-label"},rt)]),!at&&Et?g("div",{class:"vxe-table-custom--fixed-option"},[u?g(u,{mode:"text",icon:ae.renderFixed==="left"?mo().TOOLBAR_TOOLS_FIXED_LEFT_ACTIVE:mo().TOOLBAR_TOOLS_FIXED_LEFT,status:ae.renderFixed==="left"?"primary":"",disabled:zt||qt||lt&&!ae.renderFixed,title:_t(ae.renderFixed==="left"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedLeft"),onClick:()=>{be(ae,"left")}}):tt(),u?g(u,{mode:"text",icon:ae.renderFixed==="right"?mo().TOOLBAR_TOOLS_FIXED_RIGHT_ACTIVE:mo().TOOLBAR_TOOLS_FIXED_RIGHT,status:ae.renderFixed==="right"?"primary":"",disabled:zt||qt||lt&&!ae.renderFixed,title:_t(ae.renderFixed==="right"?"vxe.toolbar.cancelFixed":"vxe.toolbar.fixedRight"),onClick:()=>{be(ae,"right")}}):tt()]):tt()]))}}),g("div",{ref:B,key:"simple",class:["vxe-table-custom-wrapper",`placement--${nt}`,{"is--active":re.visible}],style:Le&&!["left","right"].includes(nt)?{maxHeight:`${Le}px`}:{}},re.visible?[g("div",{class:"vxe-table-custom--header"},Ve?E.callSlot(Ve,de):[g("ul",{class:"vxe-table-custom--panel-list"},[g("li",{class:"vxe-table-custom--option"},[Ye?g("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":et,"is--indeterminate":K}],title:_t("vxe.table.allTitle"),onClick:Oe},[g("span",{class:["vxe-checkbox--icon",K?mo().TABLE_CHECKBOX_INDETERMINATE:et?mo().TABLE_CHECKBOX_CHECKED:mo().TABLE_CHECKBOX_UNCHECKED]}),g("span",{class:"vxe-checkbox--label"},_t("vxe.toolbar.customAll"))]):g("span",{class:"vxe-checkbox--label"},_t("vxe.table.customTitle"))])])]),g("div",{ref:oe,class:"vxe-table-custom--body"},[_e?g("div",{class:"vxe-table-custom--panel-top"},E.callSlot(_e,de)):hr(E),Re?g("div",{class:"vxe-table-custom--panel-body"},E.callSlot(Re,de)):g(On,Object.assign({class:"vxe-table-custom--panel-list",name:"vxe-table-custom--list",tag:"ul"},pt),{default:()=>qe}),Je?g("div",{class:"vxe-table-custom--panel-bottom"},E.callSlot(Je,de)):hr(E),pe()]),Z.showFooter?g("div",{class:"vxe-table-custom--footer"},Me?E.callSlot(Me,de):[g("div",{class:"vxe-table-custom--footer-buttons"},[u?g(u,{mode:"text",content:Z.resetButtonText||_t("vxe.table.customRestore"),disabled:!ve,onClick:W}):tt(),Te?u?g(u,{mode:"text",content:Z.closeButtonText||_t("vxe.table.customClose"),onClick:U}):tt():u?g(u,{mode:"text",content:Z.cancelButtonText||_t("vxe.table.customCancel"),onClick:ne}):tt(),Te?tt():u?g(u,{mode:"text",status:"primary",content:Z.confirmButtonText||_t("vxe.table.customConfirm"),onClick:j}):tt()])]):null]:[])},J=()=>{const Q=E.xeGrid,{customStore:re}=e,{resizable:ve}=M,{isCustomStatus:me,customColumnList:Z}=$,Te=p.value,{immediate:Ce}=Te,Le=d.value,{mode:Fe,modalOptions:Ke,drawerOptions:Ye,allowVisible:mt,allowSort:Et,allowFixed:vt,allowResizable:nt,checkMethod:lt,visibleMethod:bt}=Te,Ue=S.value,{maxFixedSize:Ve}=Ue,_e=I.value,{minWidth:Je,maxWidth:Re}=_e,Me=Object.assign({},Ke),qe=Object.assign({},Ye),pt=q.value,{isCrossDrag:et}=Le,K=Te.slots||{},de=K.header,ae=K.top,ke=K.bottom,Ae=K.default,Xe=K.footer,at=[],ct=re.isAll,ft=re.isIndeterminate,xt={$table:E,$grid:Q,columns:Z,isAllChecked:ct,isAllIndeterminate:ft,isCustomStatus:me};s.eachTree(Z,(rt,zt,qt,no,Qt)=>{if(bt?bt({column:rt}):!0){let Dt=0,Xt=0;if(nt){const Ot={$table:E,column:rt,columnIndex:zt,$columnIndex:zt,$rowIndex:-1};Je&&(Dt=s.toNumber(s.isFunction(Je)?Je(Ot):Je)),Re&&(Xt=s.toNumber(s.isFunction(Re)?Re(Ot):Re))}const Bt=rt.renderVisible,yt=rt.halfVisible,po=wo(rt.getTitle(),1),Gt=rt.children&&rt.children.length,Ht=lt?!lt({column:rt}):!1,bo=!Bt;at.push(g("tr",{key:rt.id,colid:rt.id,class:[`vxe-table-custom-popup--row level--${rt.level}`,{"is--group":Gt}],onDragstart:N,onDragend:G,onDragover:ie},[mt?g("td",{class:"vxe-table-custom-popup--column-item col--visible"},[g("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":Bt,"is--indeterminate":yt,"is--disabled":Ht}],title:_t("vxe.custom.setting.colVisible"),onClick:()=>{Ht||Se(rt)}},[g("span",{class:["vxe-checkbox--icon",yt?mo().TABLE_CHECKBOX_INDETERMINATE:Bt?mo().TABLE_CHECKBOX_CHECKED:mo().TABLE_CHECKBOX_UNCHECKED]})])]):tt(),g("td",{class:"vxe-table-custom-popup--column-item col--name"},[g("div",{class:"vxe-table-custom-popup--name"},[Et?et&&Ce||rt.level===1?g("div",Object.assign({class:["vxe-table-custom-popup--column-sort-btn",{"is--disabled":Ht||bo||rt.renderFixed}],title:_t("vxe.custom.setting.sortHelpTip")},Ht||bo||rt.renderFixed?{}:{onMousedown:A,onMouseup:se}),[g("i",{class:mo().TABLE_CUSTOM_SORT})]):g("div",{class:"vxe-table-custom-popup--column-sort-placeholder"}):tt(),rt.type==="html"?g("div",{key:"1",class:"vxe-table-custom-popup--title",innerHTML:po}):g("div",{key:"0",class:"vxe-table-custom-popup--title",title:po},po)])]),nt?g("td",{class:"vxe-table-custom-popup--column-item col--resizable"},[rt.children&&rt.children.length||!(s.isBoolean(rt.resizable)?rt.resizable:Ue.resizable||ve)?g("span","-"):C?g(C,{type:"integer",immediate:!1,disabled:Ht||bo,modelValue:rt.renderResizeWidth,min:Dt||void 0,max:Xt||void 0,"onUpdate:modelValue"(Ot){const Jt=Math.max(0,Number(Ot));rt.renderResizeWidth=Jt},onChange(){Ee(rt)}}):tt()]):tt(),vt?g("td",{class:"vxe-table-custom-popup--column-item col--fixed"},[Qt?g("span","-"):b?g(b,{modelValue:rt.renderFixed||"",type:"button",size:"mini",disabled:Ht||bo,options:[{label:_t("vxe.custom.setting.fixedLeft"),value:"left",disabled:Ht||bo||pt},{label:_t("vxe.custom.setting.fixedUnset"),value:"",disabled:Ht||bo},{label:_t("vxe.custom.setting.fixedRight"),value:"right",disabled:Ht||bo||pt}],"onUpdate:modelValue"(Ot){be(rt,Ot)}}):tt()]):tt()]))}});const ut={default:()=>Ae?E.callSlot(Ae,xt):g("div",{ref:oe,class:"vxe-table-custom-popup--body"},[ae?g("div",{class:"vxe-table-custom-popup--table-top"},E.callSlot(ae,xt)):hr(E),g("div",{class:"vxe-table-custom-popup--table-wrapper"},[g("table",{},[g("colgroup",{},[mt?g("col",{class:"vxe-table-custom-popup--table-col-seq"}):tt(),g("col",{class:"vxe-table-custom-popup--table-col-title"}),nt?g("col",{class:"vxe-table-custom-popup--table-col-width"}):tt(),vt?g("col",{class:"vxe-table-custom-popup--table-col-fixed"}):tt()]),g("thead",{},[g("tr",{},[mt?g("th",{},[g("div",{class:["vxe-table-custom--checkbox-option",{"is--checked":ct,"is--indeterminate":ft}],title:_t("vxe.table.allTitle"),onClick:Oe},[g("span",{class:["vxe-checkbox--icon",ft?mo().TABLE_CHECKBOX_INDETERMINATE:ct?mo().TABLE_CHECKBOX_CHECKED:mo().TABLE_CHECKBOX_UNCHECKED]}),g("span",{class:"vxe-checkbox--label"},_t("vxe.toolbar.customAll"))])]):tt(),g("th",{},_t("vxe.custom.setting.colTitle")),nt?g("th",{},_t("vxe.custom.setting.colResizable")):tt(),vt?g("th",{},_t(`vxe.custom.setting.${Ve?"colFixedMax":"colFixed"}`,[Ve])):tt()])]),g(On,{class:"vxe-table-custom--panel-list",tag:"tbody",name:"vxe-table-custom--list"},{default:()=>at})])]),ke?g("div",{class:"vxe-table-custom-popup--table-bottom"},E.callSlot(ke,xt)):hr(E),pe()]),footer:()=>Xe?E.callSlot(Xe,xt):g("div",{class:"vxe-table-custom-popup--footer"},[u?g(u,{content:Te.resetButtonText||_t("vxe.custom.cstmRestore"),disabled:!me,onClick:W}):tt(),Ce?u?g(u,{content:Te.closeButtonText||_t("vxe.table.customClose"),onClick:U}):tt():u?g(u,{content:Te.cancelButtonText||_t("vxe.table.customCancel"),onClick:ne}):tt(),Ce?tt():u?g(u,{status:"primary",content:Te.confirmButtonText||_t("vxe.custom.cstmConfirm"),onClick:j}):tt()])};return de&&(ut.header=()=>E.callSlot(de,xt)),Fe==="drawer"?i?g(i,{key:"drawer",className:["vxe-table-custom-drawer-wrapper","vxe-table--ignore-clear",qe.className||""].join(" "),modelValue:re.visible,title:qe.title||_t("vxe.custom.cstmTitle"),width:qe.width||Math.min(880,Math.floor(document.documentElement.clientWidth*.6)),position:qe.position,resize:!!qe.resize,escClosable:!!qe.escClosable,maskClosable:!!qe.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(rt){re.visible=rt}},ut):tt():l?g(l,{key:"modal",className:["vxe-table-custom-modal-wrapper","vxe-table--ignore-clear",Me.className||""].join(" "),modelValue:re.visible,title:Me.title||_t("vxe.custom.cstmTitle"),width:Me.width||Math.min(880,document.documentElement.clientWidth),minWidth:Me.minWidth||700,height:Me.height||Math.min(680,document.documentElement.clientHeight),minHeight:Me.minHeight||400,showZoom:Me.showZoom,showMaximize:Me.showMaximize,showMinimize:Me.showMinimize,mask:Me.mask,lockView:Me.lockView,resize:Me.resize,escClosable:!!Me.escClosable,maskClosable:!!Me.maskClosable,destroyOnClose:!0,showFooter:!0,"onUpdate:modelValue"(rt){re.visible=rt}},ut):tt()},we=()=>{const Q=p.value;return["modal","drawer","popup"].includes(`${Q.mode}`)?J():xe()};return ue(()=>{const Q=p.value,{mode:re}=Q;l||Qe("vxe.error.reqComp",["vxe-modal"]),!i&&re==="drawer"&&Qe("vxe.error.reqComp",["vxe-drawer"]),u||Qe("vxe.error.reqComp",["vxe-button"]),C||Qe("vxe.error.reqComp",["vxe-number-input"]),b||Qe("vxe.error.reqComp",["vxe-radio-group"])}),we}}),{getI18n:gr,getIcon:jn,renderer:ai}=ge,Sc=Wo({name:"VxeTableFilterPanel",props:{filterStore:Object},setup(e){const l=Io("$xeTable",{}),{reactData:i,internalData:u,getComputeMaps:C}=l,{computeFilterOpts:b}=C(),E=ze(()=>{const{filterStore:k}=e;return k&&k.options.some(_=>_.checked)}),M=(k,_)=>{const{filterStore:te}=e;te.options.forEach(ce=>{ce._checked=_,ce.checked=_}),te.isAllSelected=_,te.isIndeterminate=!1},$=k=>{l.handleFilterConfirmFilter(k)},le=(k,_,te)=>{l.handleFilterChangeRadioOption(k,_,te)},p=k=>{l.handleFilterResetFilter(k)},d=(k,_,te)=>{l.handleFilterChangeMultipleOption(k,_,te)},S=(k,_,te)=>{l.handleFilterChangeOption(k,_,te)},q=(k,_)=>{const{filterStore:te}=e;te.multiple?M(k,_):p(k)},I={changeRadioOption:le,changeMultipleOption:d,changeAllOption:q,changeOption:S,confirmFilter:$,resetFilter:p},B=(k,_)=>{const{filterStore:te}=e,{column:ce,multiple:V,maxHeight:w}=te,y=ce?ce.slots:null,j=y?y.filter:null,U=Object.assign({},u._currFilterParams,{$panel:I,$table:l}),ne=_?_.renderTableFilter||_.renderFilter:null;if(j)return[g("div",{class:"vxe-table--filter-template",style:w?{maxHeight:`${w}px`}:{}},l.callSlot(j,U))];if(ne)return[g("div",{class:"vxe-table--filter-template",style:w?{maxHeight:`${w}px`}:{}},To(ne(k,U)))];const F=V?te.isAllSelected:!te.options.some(he=>he._checked),W=V&&te.isIndeterminate;return[g("ul",{class:"vxe-table--filter-header"},[g("li",{class:["vxe-table--filter-option",{"is--checked":F,"is--indeterminate":W}],title:gr(V?"vxe.table.allTitle":"vxe.table.allFilter"),onClick:he=>{q(he,!te.isAllSelected)}},(V?[g("span",{class:["vxe-checkbox--icon",W?jn().TABLE_CHECKBOX_INDETERMINATE:F?jn().TABLE_CHECKBOX_CHECKED:jn().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([g("span",{class:"vxe-checkbox--label"},gr("vxe.table.allFilter"))]))]),g("ul",{class:"vxe-table--filter-body",style:w?{maxHeight:`${w}px`}:{}},te.options.map(he=>{const Se=he._checked;return g("li",{class:["vxe-table--filter-option",{"is--checked":he._checked}],title:he.label,onClick:Ee=>{S(Ee,!he._checked,he)}},(V?[g("span",{class:["vxe-checkbox--icon",Se?jn().TABLE_CHECKBOX_CHECKED:jn().TABLE_CHECKBOX_UNCHECKED]})]:[]).concat([g("span",{class:"vxe-checkbox--label"},wo(he.label,1))]))}))]},oe=()=>{const{filterStore:k}=e,{column:_,multiple:te}=k,ce=b.value,V=E.value,{filterRender:w}=_,y=gt(w)?ai.get(w.name):null,j=!V&&!k.isAllSelected&&!k.isIndeterminate;return te&&(!y||!(y.showTableFilterFooter===!1||y.showFilterFooter===!1||y.isFooter===!1))?[g("div",{class:"vxe-table--filter-footer"},[g("button",{class:{"is--disabled":j},disabled:j,onClick:$},ce.confirmButtonText||gr("vxe.table.confirmFilter")),g("button",{onClick:p},ce.resetButtonText||gr("vxe.table.resetFilter"))])]:[]};return()=>{const{filterStore:k}=e,{initStore:_}=i,{visible:te,multiple:ce,column:V}=k,w=V?V.filterRender:null,y=gt(w)?ai.get(w.name):null,j=y?y.tableFilterClassName||y.filterClassName:"",U=Object.assign({},u._currFilterParams,{$panel:I,$table:l}),ne=b.value,{destroyOnClose:F}=ne;return g("div",{class:["vxe-table--filter-wrapper","filter--prevent-default",Tl(j,U),{"is--animat":l.props.animat,"is--multiple":ce,"is--active":te}],style:k.style},_.filter&&(!F||te)&&V?B(w,y).concat(oe()):[])}}}),{getI18n:ql,getIcon:Oc}=ge,Dc=Wo({name:"VxeTableImportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const l=ge.getComponent("VxeModal"),i=ge.getComponent("VxeButton"),u=ge.getComponent("VxeSelect"),C=Io("$xeTable",{}),{computeImportOpts:b}=C.getComputeMaps(),E=fl({loading:!1}),M=je(),$=ze(()=>{const{storeData:L}=e;return`${L.filename}.${L.type}`}),le=ze(()=>{const{storeData:L}=e;return L.file&&L.type}),p=ze(()=>{const{storeData:L}=e,{type:k,typeList:_}=L;if(k){const te=s.find(_,ce=>k===ce.value);return te?te.label:"*.*"}return`*.${_.map(te=>te.value).join(", *.")}`}),d=()=>{const{storeData:L}=e;Object.assign(L,{filename:"",sheetName:"",type:""})},S=()=>{const{storeData:L,defaultOptions:k}=e;C.readFile(k).then(_=>{const{file:te}=_;Object.assign(L,Fi(te),{file:te})}).catch(_=>_)},q=()=>{ue(()=>{const L=M.value;L&&L.focus()})},I=()=>{const{storeData:L}=e;L.visible=!1},B=()=>{const{storeData:L,defaultOptions:k}=e,_=b.value;E.loading=!0,C.importByFile(L.file,Object.assign({},_,k)).then(()=>{E.loading=!1,L.visible=!1}).catch(()=>{E.loading=!1})},oe=()=>{const L=C.xeGrid,{defaultOptions:k,storeData:_}=e,te=$.value,ce=le.value,V=p.value,w=k.slots||{},y=w.top,j=w.bottom,U=w.default,ne=w.footer;return l?g(l,{id:"VXE_IMPORT_MODAL",modelValue:_.visible,title:ql("vxe.import.impTitle"),className:"vxe-table-export-popup-wrapper",width:540,minWidth:360,minHeight:240,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:E.loading,"onUpdate:modelValue"(F){_.visible=F},onShow:q},{default:()=>{const F={$table:C,$grid:L,options:k,params:k.params};return g("div",{class:"vxe-table-export--panel"},[y?g("div",{class:"vxe-table-export--panel-top"},C.callSlot(y,F)):tt(),g("div",{class:"vxe-table-export--panel-body"},U?C.callSlot(U,F):[g("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[g("tbody",[g("tr",[g("td",ql("vxe.import.impFile")),g("td",[ce?g("div",{class:"vxe-table-export--selected--file",title:te},[g("span",te),g("i",{class:Oc().INPUT_CLEAR,onClick:d})]):g("button",{ref:M,class:"vxe-table-export--select--file",onClick:S},ql("vxe.import.impSelect"))])]),g("tr",[g("td",ql("vxe.import.impType")),g("td",V)]),g("tr",[g("td",ql("vxe.import.impMode")),g("td",[u?g(u,{modelValue:k.mode,options:_.modeList,"onUpdate:modelValue"(W){k.mode=W}}):tt()])])])])]),j?g("div",{class:"vxe-table-export--panel-bottom"},C.callSlot(j,F)):tt()])},footer(){const F={$table:C,$grid:L,options:k,params:k.params};return g("div",{class:"vxe-table-export--panel-footer"},ne?C.callSlot(ne,F):[g("div",{class:"vxe-table-export--panel-btns"},[i?g(i,{content:ql("vxe.import.impCancel"),onClick:I}):tt(),i?g(i,{status:"primary",disabled:!ce||E.loading,content:ql("vxe.import.impConfirm"),onClick:B}):tt()])])}}):tt()};return ue(()=>{l||Qe("vxe.error.reqComp",["vxe-modal"]),i||Qe("vxe.error.reqComp",["vxe-button"]),u||Qe("vxe.error.reqComp",["vxe-select"])}),oe}}),{getI18n:Zt,getIcon:un}=ge,Mc=Wo({name:"VxeTableExportPanel",props:{defaultOptions:Object,storeData:Object},setup(e){const l=ge.getComponent("VxeModal"),i=ge.getComponent("VxeButton"),u=ge.getComponent("VxeSelect"),C=ge.getComponent("VxeInput"),b=ge.getComponent("VxeCheckbox"),E=Io("$xeTable",{}),{computeExportOpts:M,computePrintOpts:$}=E.getComputeMaps(),le=fl({isAll:!1,isIndeterminate:!1,loading:!1}),p=je(),d=je(),S=je(),q=ze(()=>{const{storeData:F}=e;return F.columns.every(W=>W.checked)}),I=ze(()=>{const{defaultOptions:F}=e;return["html","xml","xlsx","pdf"].indexOf(F.type)>-1}),B=ze(()=>{const{storeData:F,defaultOptions:W}=e;return!W.original&&W.mode==="current"&&(F.isPrint||["html","xlsx"].indexOf(W.type)>-1)}),oe=ze(()=>{const{defaultOptions:F}=e;return!F.original&&["xlsx"].indexOf(F.type)>-1}),L=F=>{const{storeData:W}=e,he=s.findTree(W.columns,Se=>Se===F);if(he&&he.parent){const{parent:Se}=he;Se.children&&Se.children.length&&(Se.checked=Se.children.every(Ee=>Ee.checked),Se.halfChecked=!Se.checked&&Se.children.some(Ee=>Ee.checked||Ee.halfChecked),L(Se))}},k=()=>{const{storeData:F}=e,W=F.columns;le.isAll=W.every(he=>he.disabled||he.checked),le.isIndeterminate=!le.isAll&&W.some(he=>!he.disabled&&(he.checked||he.halfChecked))},_=F=>{const W=!F.checked;s.eachTree([F],he=>{he.checked=W,he.halfChecked=!1}),L(F),k()},te=()=>{const{storeData:F}=e,W=!le.isAll;s.eachTree(F.columns,he=>{he.disabled||(he.checked=W,he.halfChecked=!1)}),le.isAll=W,k()},ce=()=>{ue(()=>{const F=d.value,W=S.value,he=p.value,Se=F||W||he;Se&&Se.focus()}),k()},V=()=>{const{storeData:F,defaultOptions:W}=e,{hasMerge:he,columns:Se}=F,Ee=q.value,be=B.value,Oe=s.searchTree(Se,He=>He.checked,{children:"children",mapChildren:"childNodes",original:!0});return Object.assign({},W,{columns:Oe,isMerge:he&&be&&Ee?W.isMerge:!1})},w=()=>{const{storeData:F}=e,W=$.value;F.visible=!1,E.print(Object.assign({},W,V()))},y=()=>{const{storeData:F}=e,W=M.value;le.loading=!0,E.exportData(Object.assign({},W,V())).then(()=>{le.loading=!1,F.visible=!1}).catch(()=>{le.loading=!1})},j=()=>{const{storeData:F}=e;F.visible=!1},U=()=>{const{storeData:F}=e;F.isPrint?w():y()},ne=()=>{const F=E.xeGrid,{defaultOptions:W,storeData:he}=e,{isAll:Se,isIndeterminate:Ee}=le,{hasTree:be,hasMerge:Oe,isPrint:He,hasColgroup:De,columns:A}=he,{isHeader:se}=W,N=[],G=q.value,ie=I.value,pe=B.value,xe=oe.value,J=W.slots||{},we=J.top,Q=J.bottom,re=J.default,ve=J.footer,me=J.parameter;return s.eachTree(A,Z=>{const Te=wo(Z.getTitle(),1),Ce=Z.children&&Z.children.length,Le=Z.checked,Fe=Z.halfChecked,Ke=Z.type==="html";N.push(g("li",{key:Z.id,class:["vxe-table-export--panel-column-option",`level--${Z.level}`,{"is--group":Ce,"is--checked":Le,"is--indeterminate":Fe,"is--disabled":Z.disabled}],title:Ke?"":Te,onClick:()=>{Z.disabled||_(Z)}},[g("span",{class:["vxe-checkbox--icon",Fe?un().TABLE_CHECKBOX_INDETERMINATE:Le?un().TABLE_CHECKBOX_CHECKED:un().TABLE_CHECKBOX_UNCHECKED]}),Ke?g("span",{key:"1",class:"vxe-checkbox--label",innerHTML:Te}):g("span",{key:"0",class:"vxe-checkbox--label"},Te)]))}),l?g(l,{id:"VXE_EXPORT_MODAL",modelValue:he.visible,title:Zt(He?"vxe.export.printTitle":"vxe.export.expTitle"),className:"vxe-table-export-popup-wrapper",width:660,minWidth:500,minHeight:400,mask:!0,lockView:!0,showFooter:!0,escClosable:!0,maskClosable:!0,showMaximize:!0,resize:!0,loading:le.loading,"onUpdate:modelValue"(Z){he.visible=Z},onShow:ce},{default:()=>{const Z={$table:E,$grid:F,options:W,columns:A,params:W.params},Te=W.mode==="empty";return g("div",{class:"vxe-table-export--panel"},[we?g("div",{class:"vxe-table-export--panel-top"},E.callSlot(we,Z)):tt(),g("div",{class:"vxe-table-export--panel-body"},re?E.callSlot(re,Z):[g("table",{class:"vxe-table-export--panel-table",cellspacing:0,cellpadding:0,border:0},[g("tbody",[[He?tt():g("tr",[g("td",Zt("vxe.export.expName")),g("td",[C?g(C,{ref:d,modelValue:W.filename,type:"text",clearable:!0,placeholder:Zt("vxe.export.expNamePlaceholder"),"onUpdate:modelValue"(Ce){W.filename=Ce}}):tt()])]),He?tt():g("tr",[g("td",Zt("vxe.export.expType")),g("td",[u?g(u,{modelValue:W.type,options:he.typeList,"onUpdate:modelValue"(Ce){W.type=Ce}}):tt()])]),He||ie?g("tr",[g("td",Zt("vxe.export.expSheetName")),g("td",[C?g(C,{ref:S,modelValue:W.sheetName,type:"text",clearable:!0,placeholder:Zt("vxe.export.expSheetNamePlaceholder"),"onUpdate:modelValue"(Ce){W.sheetName=Ce}}):tt()])]):tt(),g("tr",[g("td",Zt("vxe.export.expMode")),g("td",[u?g(u,{modelValue:W.mode,options:he.modeList.map(Ce=>({value:Ce.value,label:Zt(Ce.label)})),"onUpdate:modelValue"(Ce){W.mode=Ce}}):tt()])]),g("tr",[g("td",[Zt("vxe.export.expColumn")]),g("td",[g("div",{class:"vxe-table-export--panel-column"},[g("ul",{class:"vxe-table-export--panel-column-header"},[g("li",{class:["vxe-table-export--panel-column-option",{"is--checked":Se,"is--indeterminate":Ee}],title:Zt("vxe.table.allTitle"),onClick:te},[g("span",{class:["vxe-checkbox--icon",Ee?un().TABLE_CHECKBOX_INDETERMINATE:Se?un().TABLE_CHECKBOX_CHECKED:un().TABLE_CHECKBOX_UNCHECKED]}),g("span",{class:"vxe-checkbox--label"},Zt("vxe.export.expCurrentColumn"))])]),g("ul",{class:"vxe-table-export--panel-column-body"},N)])])]),g("tr",[g("td",Zt("vxe.export.expOpts")),me?g("td",[g("div",{class:"vxe-table-export--panel-option-row"},E.callSlot(me,Z))]):g("td",[g("div",{class:"vxe-table-export--panel-option-row"},[b?g(b,{modelValue:Te||W.isHeader,disabled:Te,title:Zt("vxe.export.expHeaderTitle"),content:Zt("vxe.export.expOptHeader"),"onUpdate:modelValue"(Ce){W.isHeader=Ce}}):tt(),b?g(b,{modelValue:W.isFooter,disabled:!he.hasFooter,title:Zt("vxe.export.expFooterTitle"),content:Zt("vxe.export.expOptFooter"),"onUpdate:modelValue"(Ce){W.isFooter=Ce}}):tt(),b?g(b,{modelValue:Te?!1:W.original,disabled:Te,title:Zt("vxe.export.expOriginalTitle"),content:Zt("vxe.export.expOptOriginal"),"onUpdate:modelValue"(Ce){W.original=Ce}}):tt()]),g("div",{class:"vxe-table-export--panel-option-row"},[b?g(b,{modelValue:se&&De&&pe?W.isColgroup:!1,title:Zt("vxe.export.expColgroupTitle"),disabled:!se||!De||!pe,content:Zt("vxe.export.expOptColgroup"),"onUpdate:modelValue"(Ce){W.isColgroup=Ce}}):tt(),b?g(b,{modelValue:Oe&&pe&&G?W.isMerge:!1,title:Zt("vxe.export.expMergeTitle"),disabled:Te||!Oe||!pe||!G,content:Zt("vxe.export.expOptMerge"),"onUpdate:modelValue"(Ce){W.isMerge=Ce}}):tt(),He||!b?tt():g(b,{modelValue:xe?W.useStyle:!1,disabled:!xe,title:Zt("vxe.export.expUseStyleTitle"),content:Zt("vxe.export.expOptUseStyle"),"onUpdate:modelValue"(Ce){W.useStyle=Ce}}),b?g(b,{modelValue:be?W.isAllExpand:!1,disabled:Te||!be,title:Zt("vxe.export.expAllExpandTitle"),content:Zt("vxe.export.expOptAllExpand"),"onUpdate:modelValue"(Ce){W.isAllExpand=Ce}}):tt()])])])]])])]),Q?g("div",{class:"vxe-table-export--panel-bottom"},E.callSlot(Q,Z)):tt()])},footer(){const Z={$table:E,$grid:F,options:W,columns:A,params:W.params};return g("div",{class:"vxe-table-export--panel-footer"},ve?E.callSlot(ve,Z):[g("div",{class:"vxe-table-export--panel-btns"},[i?g(i,{content:Zt("vxe.export.expCancel"),onClick:j}):tt(),i?g(i,{ref:p,status:"primary",content:Zt(He?"vxe.export.expPrint":"vxe.export.expConfirm"),onClick:U}):tt()])])}}):tt()};return ue(()=>{l||Qe("vxe.error.reqComp",["vxe-modal"]),i||Qe("vxe.error.reqComp",["vxe-button"]),u||Qe("vxe.error.reqComp",["vxe-select"]),C||Qe("vxe.error.reqComp",["vxe-input"]),b||Qe("vxe.error.reqComp",["vxe-checkbox"])}),ne}}),{getIcon:Tc}=ge,Fc=Wo({name:"VxeTableMenuPanel",setup(e,l){const i=s.uniqueId(),u=Io("$xeTable",{}),{reactData:C}=u,b=je(),E={refElem:b},M={xID:i,props:e,context:l,getRefMaps:()=>E},$=()=>{const{ctxMenuStore:le}=C,{computeMenuOpts:p}=u.getComputeMaps(),d=p.value;return g(_a,{to:"body",disabled:!1},[g("div",{ref:b,class:["vxe-table--context-menu-wrapper",d.className,{"is--visible":le.visible}],style:le.style},le.list.map((S,q)=>S.every(I=>I.visible===!1)?tt():g("ul",{class:"vxe-context-menu--option-wrapper",key:q},S.map((I,B)=>{const oe=I.children&&I.children.some(_=>_.visible!==!1),L=Object.assign({},I.prefixConfig),k=Object.assign({},I.suffixConfig);return I.visible===!1?null:g("li",{class:[I.className,{"link--disabled":I.disabled,"link--active":I===le.selected}],key:`${q}_${B}`},[g("a",{class:"vxe-context-menu--link",onClick(_){u.ctxMenuLinkEvent(_,I)},onMouseover(_){u.ctxMenuMouseoverEvent(_,I)},onMouseout(_){u.ctxMenuMouseoutEvent(_,I)}},[g("div",{class:["vxe-context-menu--link-prefix",L.className||""]},[g("i",{class:L.icon||I.prefixIcon}),L.content?g("span",{},`${L.content}`):tt()]),g("div",{class:"vxe-context-menu--link-content"},gl(I.name)),g("div",{class:["vxe-context-menu--link-suffix",k.className||""]},[g("i",{class:k.icon||I.suffixIcon||(oe?Tc().TABLE_MENU_OPTIONS:"")}),k.content?g("span",`${k.content}`):tt()])]),oe?g("ul",{class:["vxe-table--context-menu-clild-wrapper",{"is--show":I===le.selected&&le.showChild}]},I.children.map((_,te)=>{const ce=Object.assign({},_.prefixConfig),V=Object.assign({},_.suffixConfig);return _.visible===!1?null:g("li",{class:[_.className,{"link--disabled":_.disabled,"link--active":_===le.selectChild}],key:`${q}_${B}_${te}`},[g("a",{class:"vxe-context-menu--link",onClick(w){u.ctxMenuLinkEvent(w,_)},onMouseover(w){u.ctxMenuMouseoverEvent(w,I,_)},onMouseout(w){u.ctxMenuMouseoutEvent(w,I)}},[g("div",{class:["vxe-context-menu--link-prefix",ce.className||""]},[g("i",{class:ce.icon||_.prefixIcon}),ce.content?g("span",`${ce.content}`):tt()]),g("div",{class:"vxe-context-menu--link-content"},gl(_.name)),g("div",{class:["vxe-context-menu--link-suffix",V.className||""]},[g("i",{class:V.icon}),V.content?g("span",`${V.content}`):tt()])])])})):null])}))))])};return M.renderVN=$,M},render(){return this.renderVN()}}),{getConfig:wt,getIcon:mr,getI18n:il,renderer:ci,formats:di,createEvent:Ic,globalResize:kc,interceptor:ui,hooks:Ac,globalEvents:Wt,GLOBAL_EVENT_KEYS:jo,useFns:Lc,renderEmptyElement:Mo}=ge,fi=5e6,pi="VXE_CUSTOM_STORE",Xl=5e6,fn=5e6,En=Wo({name:"VxeTable",props:Or,emits:Cs,setup(e,l){const{slots:i,emit:u}=l,C=s.uniqueId(),b=s.browse(),E=ge.getComponent("VxeLoading"),M=ge.getComponent("VxeTooltip"),$=Io("$xeTabs",null),{computeSize:le}=Lc.useSize(e),p=fl({staticColumns:[],tableGroupColumn:[],tableColumn:[],tableData:[],scrollXLoad:!1,scrollYLoad:!1,overflowY:!0,overflowX:!1,scrollbarWidth:0,scrollbarHeight:0,lastScrollTime:0,rowHeight:0,parentHeight:0,isGroup:!1,isAllOverflow:!1,isAllSelected:!1,isIndeterminate:!1,currentRow:null,currentColumn:null,selectRadioRow:null,footerTableData:[],expandColumn:null,treeNodeColumn:null,hasFixedColumn:!1,mergeList:[],mergeFooterList:[],upDataFlag:0,reColumnFlag:0,initStore:{filter:!1,import:!1,export:!1,custom:!1},customStore:{btnEl:null,isAll:!1,isIndeterminate:!1,activeBtn:!1,activeWrapper:!1,visible:!1,maxHeight:0,oldSortMaps:{},oldFixedMaps:{},oldVisibleMaps:{}},customColumnList:[],filterStore:{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1,maxHeight:null},columnStore:{leftList:[],centerList:[],rightList:[],resizeList:[],pxList:[],pxMinList:[],autoMinList:[],scaleList:[],scaleMinList:[],autoList:[],remainList:[]},ctxMenuStore:{selected:null,visible:!1,showChild:!1,selectChild:null,list:[],style:null},editStore:{indexs:{columns:[]},titles:{columns:[]},selected:{row:null,column:null},copyed:{cut:!1,rows:[],columns:[]},actived:{row:null,column:null},focused:{row:null,column:null}},tooltipStore:{row:null,column:null,content:null,visible:!1,currOpts:{}},validStore:{visible:!1},validErrorMaps:{},importStore:{inited:!1,file:null,type:"",modeList:[],typeList:[],filename:"",visible:!1},importParams:{mode:"",types:null,message:!0},exportStore:{inited:!1,name:"",modeList:[],typeList:[],columns:[],isPrint:!1,hasFooter:!1,hasMerge:!1,hasTree:!1,hasColgroup:!1,visible:!1},exportParams:{filename:"",sheetName:"",mode:"",type:"",isColgroup:!1,isMerge:!1,isAllExpand:!1,useStyle:!1,original:!1,message:!0,isHeader:!1,isFooter:!1},rowExpandedFlag:1,treeExpandedFlag:1,updateCheckboxFlag:1,pendingRowFlag:1,insertRowFlag:1,removeRowFlag:1,rowHeightStore:{default:48,medium:44,small:40,mini:36},scrollVMLoading:!1,scrollYHeight:0,scrollYTop:0,isScrollYBig:!1,scrollXLeft:0,scrollXWidth:0,isScrollXBig:!1,rowExpandHeightFlag:1,calcCellHeightFlag:1,resizeHeightFlag:1,resizeWidthFlag:1,isCustomStatus:!1,isDragRowMove:!1,dragRow:null,isDragColMove:!1,dragCol:null,dragTipText:"",isDragResize:!1,isRowLoading:!1,isColLoading:!1}),d={tZindex:0,elemStore:{},scrollXStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},scrollYStore:{preloadSize:0,offsetSize:0,visibleSize:0,visibleStartIndex:0,visibleEndIndex:0,startIndex:0,endIndex:0},tableWidth:0,tableHeight:0,headerHeight:0,footerHeight:0,customHeight:0,customMinHeight:0,customMaxHeight:0,hoverRow:null,lastScrollLeft:0,lastScrollTop:0,radioReserveRow:null,checkboxReserveRowMap:{},rowExpandedReserveRowMap:{},treeExpandedReserveRowMap:{},treeIndeterminateRowMaps:{},tableFullData:[],afterFullData:[],afterTreeFullData:[],afterFullRowMaps:{},tableFullTreeData:[],tableSynchData:[],tableSourceData:[],collectColumn:[],tableFullColumn:[],visibleColumn:[],fullAllDataRowIdData:{},sourceDataRowIdData:{},fullDataRowIdData:{},fullColumnIdData:{},fullColumnFieldData:{},rowExpandedMaps:{},rowExpandLazyLoadedMaps:{},treeExpandedMaps:{},treeExpandLazyLoadedMaps:{},selectCheckboxMaps:{},pendingRowMaps:{},insertRowMaps:{},removeRowMaps:{},inited:!1,tooltipTimeout:null,initStatus:!1,isActivated:!1};let S={},q={};const I=je(),B=je(),oe=je(),L=je(),k=je(),_=je(),te=je(),ce=je(),V=je(),w=je(),y=je(),j=je(),U=je(),ne=je(),F=je(),W=je(),he=je(),Se=je(),Ee=je(),be=je(),Oe=je(),He=je(),De=je(),A=je(),se=je(),N=je(),G=je(),ie=je(),pe=je(),xe=je(),J=je(),we=je(),Q=je(),re=je(),ve=je(),me=je(),Z=je(),Te=je(),Ce=je(),Le=je(),Fe=Io("$xeGrid",null);let Ke;const Ye=ze(()=>{const{id:t}=e;return t?s.isFunction(t)?`${t({$table:c,$grid:Fe})||""}`:`${t}`:""}),mt=ze(()=>Object.assign({},wt().table.validConfig,e.validConfig)),Et=ze(()=>lt.value),vt=ze(()=>{const t=lt.value,{threshold:o}=t;return o?s.toNumber(o):0}),nt=ze(()=>bt.value),lt=ze(()=>Object.assign({},wt().table.scrollX,wt().table.virtualXConfig,e.scrollX,e.virtualXConfig)),bt=ze(()=>Object.assign({},wt().table.scrollY,wt().table.virtualYConfig,e.scrollY,e.virtualYConfig)),Ue=ze(()=>Object.assign({},wt().table.scrollbarConfig,e.scrollbarConfig)),Ve=ze(()=>{const t=Ue.value;return!!(t.x&&t.x.position==="top")}),_e=ze(()=>{const t=Ue.value;return!!(t.y&&t.y.position==="left")}),Je=ze(()=>{const t=bt.value,{threshold:o}=t;return o?s.toNumber(o):0}),Re=ze(()=>p.rowHeightStore),Me=ze(()=>{const t=le.value;return Re.value[t||"default"]||18}),qe=ze(()=>Object.assign({},wt().table.columnConfig,e.columnConfig)),pt=ze(()=>Object.assign({},wt().table.currentColumnConfig,e.currentColumnConfig)),et=ze(()=>{const t=Object.assign({},wt().table.cellConfig,e.cellConfig);return t.height&&(t.height=s.toNumber(t.height)),t}),K=ze(()=>{const t=Object.assign({},wt().table.headerCellConfig,e.headerCellConfig);return t.height&&(t.height=s.toNumber(t.height)),t}),de=ze(()=>{const t=Object.assign({},wt().table.footerCellConfig,e.footerCellConfig);return t.height&&(t.height=s.toNumber(t.height)),t}),ae=ze(()=>Object.assign({},wt().table.rowConfig,e.rowConfig)),ke=ze(()=>Object.assign({},wt().table.currentRowConfig,e.currentRowConfig)),Ae=ze(()=>Object.assign({},wt().table.rowDragConfig,e.rowDragConfig)),Xe=ze(()=>Object.assign({},wt().table.columnDragConfig,e.columnDragConfig)),at=ze(()=>Object.assign({},wt().table.resizeConfig,e.resizeConfig)),ct=ze(()=>Object.assign({},wt().table.resizableConfig,e.resizableConfig)),ft=ze(()=>Object.assign({startIndex:0},wt().table.seqConfig,e.seqConfig)),xt=ze(()=>Object.assign({},wt().table.radioConfig,e.radioConfig)),ut=ze(()=>Object.assign({},wt().table.checkboxConfig,e.checkboxConfig)),rt=ze(()=>Object.assign({},wt().tooltip,wt().table.tooltipConfig,e.tooltipConfig)),zt=ze(()=>{const{tooltipStore:t}=p,o=rt.value;return Object.assign({},o,t.currOpts)}),qt=ze(()=>{const t=rt.value;return Object.assign({},t)}),no=ze(()=>Object.assign({},wt().table.editConfig,e.editConfig)),Qt=ze(()=>Object.assign({orders:["asc","desc",null]},wt().table.sortConfig,e.sortConfig)),It=ze(()=>Object.assign({},wt().table.filterConfig,e.filterConfig)),Dt=ze(()=>Object.assign({},wt().table.mouseConfig,e.mouseConfig)),Xt=ze(()=>Object.assign({},wt().table.areaConfig,e.areaConfig)),Bt=ze(()=>Object.assign({},wt().table.keyboardConfig,e.keyboardConfig)),yt=ze(()=>Object.assign({},wt().table.clipConfig,e.clipConfig)),po=ze(()=>Object.assign({},wt().table.fnrConfig,e.fnrConfig)),Gt=ze(()=>Object.assign({},wt().table.menuConfig,e.menuConfig)),Ht=ze(()=>{const{columnStore:t}=p,{leftList:o}=t;let n=0;for(let r=0;r<o.length;r++){const a=o[r];n+=a.renderWidth}return n}),bo=ze(()=>{const{columnStore:t}=p,{rightList:o}=t;let n=0;for(let r=0;r<o.length;r++){const a=o[r];n+=a.renderWidth}return n}),Ot=ze(()=>{const o=Gt.value.header;return o&&o.options?o.options:[]}),Jt=ze(()=>{const o=Gt.value.body;return o&&o.options?o.options:[]}),Ro=ze(()=>{const o=Gt.value.footer;return o&&o.options?o.options:[]}),eo=ze(()=>{const t=Gt.value,o=Ot.value,n=Jt.value,r=Ro.value;return!!(e.menuConfig&&gt(t)&&(o.length||n.length||r.length))}),ko=ze(()=>{const{ctxMenuStore:t}=p,o=[];return t.list.forEach(n=>{n.forEach(r=>{o.push(r)})}),o}),Ao=ze(()=>Object.assign({},wt().table.exportConfig,e.exportConfig)),So=ze(()=>Object.assign({},wt().table.importConfig,e.importConfig)),xo=ze(()=>Object.assign({},wt().table.printConfig,e.printConfig)),Pt=ze(()=>Object.assign({},wt().table.expandConfig,e.expandConfig)),it=ze(()=>Object.assign({},wt().table.treeConfig,e.treeConfig)),co=ze(()=>Object.assign({},wt().table.emptyRender,e.emptyRender)),vo=ze(()=>Object.assign({},wt().table.loadingConfig,e.loadingConfig)),Al=ze(()=>e.border?Math.max(2,Math.ceil(p.scrollbarWidth/p.tableColumn.length)):1),Bo=ze(()=>Object.assign({},wt().table.customConfig,e.customConfig)),Ql=ze(()=>{const{rowExpandedFlag:t,tableData:o,expandColumn:n}=p,{rowExpandedMaps:r}=d,{handleGetRowId:a}=fo(c),f=[];if(n&&t){const h={};o.forEach(m=>{h[a(m)]=!0}),s.each(r,(m,x)=>{h[x]&&f.push(m)})}return f}),Hr=ze(()=>{const{visibleColumn:t}=d,{tableColumn:o}=p;return o.length||t.length?t.filter(n=>n.width==="auto"||n.minWidth==="auto"):[]}),Dn=ze(()=>{const{tableColumn:t}=p,{collectColumn:o}=d;let n=0;return t.length&&o.length&&o.forEach(r=>{r.renderFixed&&n++}),n}),Mn=ze(()=>{const t=Dn.value,o=qe.value,{maxFixedSize:n}=o;return n?t>=n:!1}),Gn=ze(()=>{const{border:t}=e;return t===!0?"full":t||"default"}),Pr=ze(()=>{const{tableData:t}=p,{tableFullData:o}=d,n=ut.value,{strict:r,checkMethod:a}=n;return r?t.length||o.length?a?o.every(f=>!a({row:f})):!1:!0:!1}),Un=ze(()=>{const{overflowX:t,scrollXLoad:o,overflowY:n,scrollYLoad:r}=p;return{x:t&&o,y:n&&r}}),Tn={refElem:I,refTooltip:oe,refValidTooltip:k,refTableFilter:te,refTableCustom:ce,refTableMenu:_,refTableHeader:w,refTableBody:y,refTableFooter:j,refTableLeftHeader:U,refTableLeftBody:ne,refTableLeftFooter:F,refTableRightHeader:W,refTableRightBody:he,refTableRightFooter:Se,refLeftContainer:Ee,refRightContainer:be,refColResizeBar:Oe,refRowResizeBar:He,refScrollXVirtualElem:pe,refScrollYVirtualElem:xe,refScrollXHandleElem:J,refScrollYHandleElem:re,refScrollXSpaceElem:Ce,refScrollYSpaceElem:Le},yl={computeSize:le,computeTableId:Ye,computeValidOpts:mt,computeVirtualXOpts:lt,computeVirtualYOpts:bt,computeScrollbarOpts:Ue,computeScrollbarXToTop:Ve,computeScrollbarYToLeft:_e,computeColumnOpts:qe,computeCurrentColumnOpts:pt,computeScrollXThreshold:vt,computeScrollYThreshold:Je,computeRowHeightMaps:Re,computeDefaultRowHeight:Me,computeCellOpts:et,computeHeaderCellOpts:K,computeFooterCellOpts:de,computeRowOpts:ae,computeCurrentRowOpts:ke,computeRowDragOpts:Ae,computeColumnDragOpts:Xe,computeResizeOpts:at,computeResizableOpts:ct,computeSeqOpts:ft,computeRadioOpts:xt,computeCheckboxOpts:ut,computeTooltipOpts:rt,computeEditOpts:no,computeSortOpts:Qt,computeFilterOpts:It,computeMouseOpts:Dt,computeAreaOpts:Xt,computeKeyboardOpts:Bt,computeClipOpts:yt,computeFNROpts:po,computeHeaderMenu:Ot,computeBodyMenu:Jt,computeFooterMenu:Ro,computeIsMenu:eo,computeMenuOpts:Gt,computeExportOpts:Ao,computeImportOpts:So,computePrintOpts:xo,computeExpandOpts:Pt,computeTreeOpts:it,computeEmptyOpts:co,computeLoadingOpts:vo,computeCellOffsetWidth:Al,computeCustomOpts:Bo,computeLeftFixedWidth:Ht,computeRightFixedWidth:bo,computeFixedColumnSize:Dn,computeIsMaxFixedColumn:Mn,computeIsAllCheckboxDisabled:Pr,computeVirtualScrollBars:Un,computeSXOpts:Et,computeSYOpts:nt},c={xID:C,props:e,context:l,reactData:p,internalData:d,getRefMaps:()=>Tn,getComputeMaps:()=>yl,xeGrid:Fe,xegrid:Fe},Fn=(t,o,n)=>{const r=s.get(t,n),a=s.get(o,n);return pl(r)&&pl(a)?!0:s.isString(r)||s.isNumber(r)?""+r==""+a:s.isEqual(r,a)},qo=t=>{const o=Qt.value,{orders:n}=o,r=t.order||null,a=n.indexOf(r)+1;return n[a<n.length?a:0]},Zn=t=>{const o=wt().version,n=s.toStringJSON(localStorage.getItem(pi)||""),r=n&&n._v===o?n:{_v:o};return(t?r[t]:r)||{}},In=(t,o)=>{const n=wt().version,r=Zn();r[t]=o||void 0,r._v=n,localStorage.setItem(pi,s.toJSONString(r))},Rl=t=>{const{fullAllDataRowIdData:o}=d,n={};return s.each(t,(r,a)=>{o[a]&&(n[a]=r)}),n},Jl=t=>{const{fullDataRowIdData:o}=d,n=[];return s.each(t,(r,a)=>{o[a]&&c.findRowIndexOf(n,o[a].row)===-1&&n.push(o[a].row)}),n},ml=()=>{const{isScrollXBig:t,scrollXWidth:o}=p,{elemStore:n,visibleColumn:r,fullColumnIdData:a}=d,f=Ht.value,h=bo.value,m=ot(n["main-body-scroll"]);if(m){const x=m.clientWidth;let v=m.scrollLeft;t&&(v=Math.ceil((o-x)*Math.min(1,v/(fn-x))));const R=v+f,D=v+x-h;let O=0,H=r.length;for(;O<H;){const T=Math.floor((O+H)/2),X=r[T].id;(a[X]||{}).oLeft<=R?O=T+1:H=T}let z=0;const P=Math.max(0,O<r.length?O-2:0);for(let T=P,Y=r.length;T<Y;T++){const ee=r[T].id,fe=a[ee]||{};if(z++,fe.oLeft>D||z>=60)break}return{toVisibleIndex:Math.max(0,P),visibleSize:Math.max(1,z)}}return{toVisibleIndex:0,visibleSize:6}},Ll=(t,o)=>{const{rowHeightStore:n}=p;o&&o.clientHeight&&(n[t]=o.clientHeight)},Br=()=>{const{isAllOverflow:t}=p,o=w.value,n=y.value,r=n?n.$el:null,a=Me.value;let f=0;if(t){if(r){const h=o?o.$el:null;let m;m=r.querySelector("tr"),!m&&h&&(m=h.querySelector("tr")),m&&(f=m.clientHeight)}f||(f=a)}else f=a;return Math.max(18,f)},Xo=()=>{const{isAllOverflow:t,expandColumn:o,isScrollYBig:n,scrollYHeight:r}=p,{elemStore:a,isResizeCellHeight:f,afterFullData:h,fullAllDataRowIdData:m}=d,x=ae.value,v=et.value,R=Me.value,D=ot(a["main-body-scroll"]);if(D){const O=D.clientHeight;let H=D.scrollTop;n&&(H=Math.ceil((r-O)*Math.min(1,H/(Xl-O))));const z=H,P=H+O;let T=-1,Y=0;if(!(f||v.height||x.height)&&!o&&t)T=Math.floor(z/R)-1,Y=Math.ceil(O/R)+1;else{const{handleGetRowId:ee}=fo(c);let fe=0,ye=h.length;for(;fe<ye;){const Ie=Math.floor((fe+ye)/2),Ge=h[Ie],Ne=ee(Ge);(m[Ne]||{}).oTop<=z?fe=Ie+1:ye=Ie}T=Math.max(0,fe<h.length?fe-2:0);for(let Ie=T,Ge=h.length;Ie<Ge;Ie++){const Ne=h[Ie],We=ee(Ne),st=m[We]||{};if(Y++,st.oTop>P||Y>=100)break}}return{toVisibleIndex:Math.max(0,T),visibleSize:Math.max(6,Y)}}return{toVisibleIndex:0,visibleSize:6}},Qn=(t,o,n)=>{for(let r=0,a=t.length;r<a;r++){const f=t[r],{startIndex:h,endIndex:m}=o,x=f[n],v=f[n+"span"],R=x+v;x<h&&h<R&&(o.startIndex=x),x<m&&m<R&&(o.endIndex=R),(o.startIndex!==h||o.endIndex!==m)&&(r=-1)}},Hl=(t,o,n)=>{if(t){const{visibleColumn:r}=d;s.isArray(t)||(t=[t]),t.forEach(a=>{let{row:f,col:h,rowspan:m,colspan:x}=a;if(n&&s.isNumber(f)&&(f=n[f]),s.isNumber(h)&&(h=r[h]),(n?f:s.isNumber(f))&&h&&(m||x)&&(m=s.toNumber(m)||1,x=s.toNumber(x)||1,m>1||x>1)){const v=s.findIndexOf(o,D=>(D._row===f||Pe(c,D._row)===Pe(c,f))&&(D._col.id===h||D._col.id===h.id)),R=o[v];if(R)R.rowspan=m,R.colspan=x,R._rowspan=m,R._colspan=x;else{const D=n?c.findRowIndexOf(n,f):f,O=S.getVTColumnIndex(h);o.push({row:D,col:O,rowspan:m,colspan:x,_row:f,_col:h,_rowspan:m,_colspan:x})}}})}},en=(t,o,n)=>{const r=[];if(t){const{visibleColumn:a}=d;s.isArray(t)||(t=[t]),t.forEach(f=>{let{row:h,col:m}=f;n&&s.isNumber(h)&&(h=n[h]),s.isNumber(m)&&(m=a[m]);const x=s.findIndexOf(o,v=>(v._row===h||Pe(c,v._row)===Pe(c,h))&&(v._col.id===m||v._col.id===m.id));if(x>-1){const v=o.splice(x,1);r.push(v[0])}})}return r},rl=()=>{const{tableFullColumn:t}=d;t.forEach(o=>{o.order=null})},Uo=t=>{const{parentHeight:o}=p,n=e[t];let r=0;if(n)if(n==="100%"||n==="auto")r=o;else{const a=c.getExcludeHeight();xn(n)?r=Math.floor((s.toInteger(n)||1)/100*o):r=s.toNumber(n),r=Math.max(40,r-a)}return r},Pl=t=>{let{collectColumn:o}=d;const{resizableData:n,sortData:r,visibleData:a,fixedData:f}=t;let h=!1;n||r||a||f?(s.eachTree(o,(m,x,v,R,D)=>{const O=m.getKey();D||(f&&f[O]!==void 0&&(m.fixed=f[O]),r&&s.isNumber(r[O])&&(h=!0,m.renderSortNumber=r[O])),n&&s.isNumber(n[O])&&(m.resizeWidth=n[O]),a&&s.isBoolean(a[O])&&(m.visible=a[O])}),h&&(o=s.orderBy(o,"renderSortNumber"),d.collectColumn=o,d.tableFullColumn=lr(o)),p.isCustomStatus=!0):p.isCustomStatus=!1},$r=()=>{const{customConfig:t}=e,o=Ye.value,n=Bo.value,{storage:r,restoreStore:a}=n,f=r===!0,h=f?{}:Object.assign({},r||{}),m=f||h.resizable,x=f||h.visible,v=f||h.fixed,R=f||h.sort;if((t?gt(n):n.enabled)&&(m||x||v||R)){if(!o){Qe("vxe.error.reqProp",["id"]);return}const D=Zn(o);return a?Promise.resolve(a({id:o,type:"restore",storeData:D})).then(O=>{if(O)return Pl(O)}).catch(O=>O):Pl(D)}},kn=()=>{const{tableFullColumn:t,collectColumn:o}=d,n=d.fullColumnIdData={},r=d.fullColumnFieldData={},a=Dt.value,f=Pt.value,h=qe.value,m=Xe.value,{isCrossDrag:x,isSelfToChildDrag:v}=m,R=Bo.value,{storage:D}=R,O=ae.value,H=o.some(Cn);let z=!!e.showOverflow,P,T,Y;const X=(ee,fe,ye,Ie,Ge)=>{const{id:Ne,field:We,fixed:st,type:Ze,treeNode:Be}=ee,$e={$index:-1,_index:-1,column:ee,colid:Ne,index:fe,items:ye,parent:Ge||null,width:0,oLeft:0};We?(r[We]&&Qe("vxe.error.colRepet",["field",We]),r[We]=$e):(D&&!Ze||h.drag&&(x||v))&&Qe("vxe.error.reqProp",[`${ee.getTitle()||Ze||""} -> column.field=?`]),!Y&&Ze==="html"&&(Y=ee),Be?T||(T=ee):Ze==="expand"&&(P||(P=ee)),z&&ee.showOverflow===!1&&(z=!1),n[Ne]&&Qe("vxe.error.colRepet",["colId",Ne]),n[Ne]=$e};H?s.eachTree(o,(ee,fe,ye,Ie,Ge,Ne)=>{ee.level=Ne.length,X(ee,fe,ye,Ie,Ge)}):t.forEach(X),P&&f.mode!=="fixed"&&a.area&&Qe("vxe.error.errConflicts",["mouse-config.area","column.type=expand"]),Y&&(h.useKey||Qe("vxe.error.reqProp",["column-config.useKey & column.type=html"]),O.useKey||Qe("vxe.error.reqProp",["row-config.useKey & column.type=html"])),p.isGroup=H,p.treeNodeColumn=T,p.expandColumn=P,p.isAllOverflow=z},An=()=>{d.customHeight=Uo("height"),d.customMinHeight=Uo("minHeight"),d.customMaxHeight=Uo("maxHeight")},Ln=(t,o)=>{const n=o.querySelectorAll(`.vxe-cell--wrapper[colid="${t.id}"]`);let r=0;const a=n[0];if(a&&a.parentElement){const h=getComputedStyle(a.parentElement);r=Math.ceil(s.toNumber(h.paddingLeft)+s.toNumber(h.paddingRight))}let f=t.renderAutoWidth-r;for(let h=0;h<n.length;h++){const m=n[h];f=Math.max(f,m?Math.ceil(m.scrollWidth)+4:0)}return f+r},Zo=()=>{const t=Hr.value,{fullColumnIdData:o}=d,n=I.value;n&&(n.setAttribute("data-calc-col","Y"),t.forEach(r=>{const a=r.id,f=o[a],h=Ln(r,n);f&&(f.width=Math.max(h,f.width)),r.renderAutoWidth=h}),c.analyColumnWidth(),n.removeAttribute("data-calc-col"))},tn=()=>{const{elemStore:t}=d,o=Ue.value,n=y.value,r=n?n.$el:null;if(!r)return;const a=re.value;if(!a)return;const f=J.value;if(!f)return;let h=0;const m=40,x=r.clientWidth;let v=x,R=v/100;const{fit:D}=e,{columnStore:O}=p,{resizeList:H,pxMinList:z,autoMinList:P,pxList:T,scaleList:Y,scaleMinList:X,autoList:ee,remainList:fe}=O;if(z.forEach(Be=>{const $e=s.toInteger(Be.minWidth);h+=$e,Be.renderWidth=$e}),P.forEach(Be=>{const $e=Math.max(60,s.toInteger(Be.renderAutoWidth));h+=$e,Be.renderWidth=$e}),X.forEach(Be=>{const $e=Math.floor(s.toInteger(Be.minWidth)*R);h+=$e,Be.renderWidth=$e}),Y.forEach(Be=>{const $e=Math.floor(s.toInteger(Be.width)*R);h+=$e,Be.renderWidth=$e}),T.forEach(Be=>{const $e=s.toInteger(Be.width);h+=$e,Be.renderWidth=$e}),ee.forEach(Be=>{const $e=Math.max(60,s.toInteger(Be.renderAutoWidth));h+=$e,Be.renderWidth=$e}),H.forEach(Be=>{const $e=s.toInteger(Be.resizeWidth);h+=$e,Be.renderWidth=$e}),v-=h,R=v>0?Math.floor(v/(X.length+z.length+P.length+fe.length)):0,D?v>0&&X.concat(z).concat(P).forEach(Be=>{h+=R,Be.renderWidth+=R}):R=m,fe.forEach(Be=>{const $e=Math.max(R,m);Be.renderWidth=$e,h+=$e}),D){const Be=Y.concat(X).concat(z).concat(P).concat(fe);let $e=Be.length-1;if($e>0){let ht=x-h;if(ht>0){for(;ht>0&&$e>=0;)ht--,Be[$e--].renderWidth++;h=x}}}const ye=r.offsetHeight,Ie=a.scrollHeight>a.clientHeight;p.scrollbarWidth=Math.max(o.width||0,a.offsetWidth-a.clientWidth),p.overflowY=Ie,p.scrollXWidth=h,d.tableHeight=ye;const Ge=ot(t["main-header-table"]),Ne=ot(t["main-footer-table"]),We=Ge?Ge.clientHeight:0,st=h>x,Ze=Ne?Ne.clientHeight:0;p.scrollbarHeight=Math.max(o.height||0,f.offsetHeight-f.clientHeight),d.headerHeight=We,d.footerHeight=Ze,p.overflowX=st,p.resizeWidthFlag++,As(),An(),p.parentHeight=Math.max(d.headerHeight+Ze+20,c.getParentHeight()),st&&c.checkScrolling()},Hn=(t,o)=>{const n=o.querySelectorAll(`.vxe-cell--wrapper[rowid="${t.rowid}"]`);let r=t.height;for(let a=0;a<n.length;a++){const f=n[a],h=f.parentElement,m=Math.ceil(s.toNumber(h.style.paddingTop)+s.toNumber(h.style.paddingBottom)),x=f?f.clientHeight:0;r=Math.max(r-m,Math.ceil(x))}return r},Qo=()=>{const{tableData:t,isAllOverflow:o,scrollYLoad:n,scrollXLoad:r}=p,{fullAllDataRowIdData:a}=d,f=Me.value,h=I.value;if(!o&&n&&h){const{handleGetRowId:m}=fo(c);h.setAttribute("data-calc-row","Y"),t.forEach(x=>{const v=m(x),R=a[v];if(R){const D=Hn(R,h);R.height=Math.max(f,r?Math.max(R.height,D):D)}h.removeAttribute("data-calc-row")}),p.calcCellHeightFlag++}},Jn=t=>{const{sortBy:o,sortType:n}=t;return r=>{let a;return o?a=s.isFunction(o)?o({row:r,column:t}):s.get(r,o):a=S.getCellLabel(r,t),!n||n==="auto"?isNaN(a)?a:s.toNumber(a):n==="number"?s.toNumber(a):n==="string"?s.toValueString(a):a}},Jo=()=>{const{treeConfig:t}=e,{afterFullData:o,fullDataRowIdData:n,fullAllDataRowIdData:r}=d,{handleGetRowId:a}=fo(c),f={};o.forEach((h,m)=>{const x=a(h),v=r[x],R=m+1;if(v)t||(v.seq=R),v._index=m;else{const D={row:h,rowid:x,seq:R,index:-1,$index:-1,_index:m,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};r[x]=D,n[x]=D}f[x]=h}),d.afterFullRowMaps=f},to=()=>{const{treeConfig:t}=e,{fullDataRowIdData:o,fullAllDataRowIdData:n,afterTreeFullData:r}=d,a=it.value,{transform:f}=a,h=a.children||a.childrenField,m={};if(t){const{handleGetRowId:x}=fo(c);s.eachTree(r,(v,R,D,O)=>{const H=x(v),z=n[H],P=O.map((T,Y)=>Y%2===0?Number(T)+1:".").join("");if(z)z.seq=P,z.treeIndex=R;else{const T={row:v,rowid:H,seq:P,index:-1,$index:-1,_index:-1,treeIndex:-1,items:[],parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};n[H]=T,o[H]=T}m[H]=v},{children:f?a.mapChildrenField:h}),d.afterFullRowMaps=m,Jo()}else Jo()},Ko=()=>{const{treeConfig:t}=e,{fullAllDataRowIdData:o,treeExpandedMaps:n}=d,r=it.value,a=r.children||r.childrenField;if(t&&r.transform){const{handleGetRowId:f}=fo(c),h=[],m={};return s.eachTree(d.afterTreeFullData,(x,v,R,D,O)=>{const H=f(x),z=f(O);if(!O||m[z]&&n[z]){const P=o[H];P&&(P._index=h.length),m[H]=1,h.push(x)}},{children:a}),d.afterFullData=h,nr(h),h}return d.afterFullData},er=()=>{const{treeConfig:t}=e,{tableFullColumn:o,tableFullData:n,tableFullTreeData:r}=d,a=It.value,f=Qt.value,h=it.value,m=h.children||h.childrenField,{transform:x,rowField:v,parentField:R,mapChildrenField:D}=h,{isEvery:O,remote:H,filterMethod:z}=a,{remote:P,sortMethod:T,multiple:Y,chronological:X}=f;let ee=[],fe=[];if(!H||!P){const ye=[];let Ie=[];if(o.forEach(Ge=>{const{field:Ne,sortable:We,order:st,filters:Ze}=Ge;if(!H&&Ze&&Ze.length){const Be=[],$e=[];Ze.forEach(ht=>{ht.checked&&($e.push(ht),Be.push(ht.value))}),$e.length&&ye.push({column:Ge,valueList:Be,itemList:$e})}!P&&We&&st&&Ie.push({column:Ge,field:Ne,property:Ne,order:st,sortTime:Ge.sortTime})}),Y&&X&&Ie.length>1&&(Ie=s.orderBy(Ie,"sortTime")),!H&&ye.length){const Ge=Ne=>ye.every(({column:We,valueList:st,itemList:Ze})=>{const{filterMethod:Be,filterRender:$e}=We,ht=gt($e)?ci.get($e.name):null,jt=ht?ht.tableFilterMethod||ht.filterMethod:null,Kt=ht?ht.tableFilterDefaultMethod||ht.defaultTableFilterMethod||ht.defaultFilterMethod:null,kt=Eo(Ne,We);return Be?Ze.some(Mt=>Be({value:Mt.value,option:Mt,cellValue:kt,row:Ne,column:We,$table:c})):jt?Ze.some(Mt=>jt({value:Mt.value,option:Mt,cellValue:kt,row:Ne,column:We,$table:c})):z?z({options:Ze,values:st,cellValue:kt,row:Ne,column:We}):Kt?Ze.some(Mt=>Kt({value:Mt.value,option:Mt,cellValue:kt,row:Ne,column:We,$table:c})):st.indexOf(s.get(Ne,We.field))>-1});t&&x?(fe=s.searchTree(r,Ge,{original:!0,isEvery:O,children:D,mapChildren:m}),ee=fe):(ee=t?r.filter(Ge):n.filter(Ge),fe=ee)}else t&&x?(fe=s.searchTree(r,()=>!0,{original:!0,isEvery:O,children:D,mapChildren:m}),ee=fe):(ee=t?r.slice(0):n.slice(0),fe=ee);if(!P&&Ie.length)if(t&&x){if(T){const Ge=T({data:fe,sortList:Ie,$table:c});fe=s.isArray(Ge)?Ge:fe}else{const Ge=s.toTreeArray(fe,{children:D});fe=s.toArrayTree(s.orderBy(Ge,Ie.map(({column:Ne,order:We})=>[Jn(Ne),We])),{key:v,parentKey:R,children:m,mapChildren:D})}ee=fe}else{if(T){const Ge=T({data:ee,sortList:Ie,$table:c});ee=s.isArray(Ge)?Ge:ee}else ee=s.orderBy(ee,Ie.map(({column:Ge,order:Ne})=>[Jn(Ge),Ne]));fe=ee}}else t&&x?(fe=s.searchTree(r,()=>!0,{original:!0,isEvery:O,children:h.mapChildrenField,mapChildren:m}),ee=fe):(ee=t?r.slice(0):n.slice(0),fe=ee);d.afterFullData=ee,d.afterTreeFullData=fe,to()},ho=()=>{const{showHeaderOverflow:t,showFooterOverflow:o,mouseConfig:n,spanMethod:r,footerSpanMethod:a}=e,{isGroup:f,currentRow:h,tableColumn:m,scrollXLoad:x,scrollYLoad:v,overflowX:R,scrollbarWidth:D,overflowY:O,scrollbarHeight:H,scrollXWidth:z,columnStore:P,editStore:T,isAllOverflow:Y,expandColumn:X}=p,{visibleColumn:ee,tableHeight:fe,headerHeight:ye,footerHeight:Ie,elemStore:Ge,customHeight:Ne,customMinHeight:We,customMaxHeight:st}=d,Ze=I.value;if(!Ze)return;const Be=["main","left","right"],$e=O?D:0,ht=R?H:0,jt=De.value,Kt=Dt.value,kt=Pt.value,Mt=ot(Ge["main-body-wrapper"]),At=ot(Ge["main-body-table"]);jt&&(jt.style.top=`${ye}px`,jt.style.height=Mt?`${Mt.offsetHeight-ht}px`:"");let Lt=0,oo=0;const ro=We-ye-Ie-ht;st&&(oo=Math.max(ro,st-ye-Ie-ht)),Ne&&(Lt=Ne-ye-Ie-ht),Lt||At&&(Lt=At.clientHeight),Lt&&(oo&&(Lt=Math.min(oo,Lt)),Lt=Math.max(ro,Lt));const io=Ve.value,Co=we.value,Oo=Q.value,Vt=pe.value;Vt&&(Vt.style.height=`${ht}px`,Vt.style.visibility=R?"visible":"hidden");const Nt=me.value;Nt&&(Nt.style.left=io?`${$e}px`:"",Nt.style.width=`${Ze.clientWidth-$e}px`),Co&&(Co.style.width=io?`${$e}px`:"",Co.style.display=io&&$e&&ht?"block":""),Oo&&(Oo.style.width=io?"":`${$e}px`,Oo.style.display=io?"":$e&&ht?"block":"");const Vo=xe.value;Vo&&(Vo.style.width=`${$e}px`,Vo.style.height=`${Lt+ye+Ie}px`,Vo.style.visibility=O?"visible":"hidden");const go=ve.value;go&&(go.style.height=`${ye}px`,go.style.display=ye?"block":"");const zo=Z.value;zo&&(zo.style.height=`${Lt}px`,zo.style.top=`${ye}px`);const Yo=Te.value;Yo&&(Yo.style.height=`${Ie}px`,Yo.style.top=`${ye+Lt}px`,Yo.style.display=Ie?"block":"");const an=G.value;return an&&(an.style.height=`${Lt}px`,an.style.top=`${ye}px`),Be.forEach((xl,dr)=>{const vl=dr>0?xl:"",Na=["header","body","footer"],Ns=vl==="left";let $n=[],Vn;vl&&($n=Ns?P.leftList:P.rightList,Vn=Ns?Ee.value:be.value),Na.forEach(Nl=>{const yo=ot(Ge[`${xl}-${Nl}-wrapper`]),Ol=ot(Ge[`${xl}-${Nl}-scroll`]),_l=ot(Ge[`${xl}-${Nl}-table`]);if(Nl==="header"){let Go=m,el=!1;f?Go=ee:((x||v||t)&&(r||a||(el=!0)),vl&&(Go=ee,el&&(Go=$n||[])));const Fo=Go.reduce((cn,Wl)=>cn+Wl.renderWidth,0);vl&&(f?yo&&(yo.style.width=z?`${z}px`:""):el?yo&&(yo.style.width=Fo?`${Fo}px`:""):yo&&(yo.style.width=z?`${z}px`:"")),Ol&&(Ol.style.height=`${ye}px`),_l&&(_l.style.width=Fo?`${Fo}px`:"")}else if(Nl==="body"){Ol&&(Ol.style.maxHeight=st?`${oo}px`:"",Ol.style.height=Ne?`${Lt}px`:"",Ol.style.minHeight=`${ro}px`),Vn&&(yo&&(yo.style.top=`${ye}px`),Vn.style.height=`${Ne>0?Ne:fe+ye+Ie+ht}px`,Vn.style.width=`${$n.reduce((Wl,ts)=>Wl+ts.renderWidth,0)}px`);let Go=m,el=!1;(x||v||Y)&&(X&&kt.mode!=="fixed"||r||a||(el=!0)),vl&&(Go=ee,el&&(Go=$n||[]));const Fo=Go.reduce((Wl,ts)=>Wl+ts.renderWidth,0);vl&&(el?yo&&(yo.style.width=Fo?`${Fo}px`:""):yo&&(yo.style.width=z?`${z}px`:"")),_l&&(_l.style.width=Fo?`${Fo}px`:"",_l.style.paddingRight=$e&&vl&&(b["-moz"]||b.safari)?`${$e}px`:"");const cn=ot(Ge[`${xl}-${Nl}-emptyBlock`]);cn&&(cn.style.width=Fo?`${Fo}px`:"")}else if(Nl==="footer"){let Go=m,el=!1;(x||v||o)&&(r||a||(el=!0)),vl&&(Go=ee,el&&(Go=$n||[]));const Fo=Go.reduce((cn,Wl)=>cn+Wl.renderWidth,0);vl&&(el?yo&&(yo.style.width=Fo?`${Fo}px`:""):yo&&(yo.style.width=z?`${z}px`:"")),Ol&&(Ol.style.height=`${Ie}px`,Vn&&yo&&(yo.style.top=`${Ne>0?Ne-Ie-ht:fe+ye}px`)),_l&&(_l.style.width=Fo?`${Fo}px`:"")}})}),h&&c.setCurrentRow(h),n&&Kt.selected&&T.selected.row&&T.selected.column&&c.addCellSelectedClass(),ue()},Bl=t=>c.triggerValidate?c.triggerValidate(t):ue(),$l=(t,o)=>{Bl("blur").catch(n=>n).then(()=>{c.handleEdit(o,t).then(()=>Bl("change")).catch(n=>n)})},Vr=()=>{const{sortConfig:t}=e;if(t){const o=Qt.value;let{defaultSort:n}=o;n&&(s.isArray(n)||(n=[n]),n.length&&((t.multiple?n:n.slice(0,1)).forEach((r,a)=>{const{field:f,order:h}=r;if(f&&h){const m=c.getColumnByField(f);m&&m.sortable&&(m.order=h,m.sortTime=Date.now()+a)}}),o.remote||c.handleTableData(!0).then(ho)))}},zr=()=>{const{checkboxConfig:t}=e;if(t){const{fullDataRowIdData:o}=d,n=ut.value,{checkAll:r,checkRowKeys:a}=n;if(r)$o(!0,!0);else if(a){const f=[];a.forEach(h=>{o[h]&&f.push(o[h].row)}),uo(f,!0,!0)}}},on=()=>{const{radioConfig:t}=e;if(t){const{fullDataRowIdData:o}=d,n=xt.value,{checkRowKey:r,reserve:a}=n;if(r&&(o[r]&&Ct(o[r].row,!0),a)){const f=El(c);d.radioReserveRow={[f]:r}}}},Vl=()=>{const{expandConfig:t}=e;if(t){const{fullDataRowIdData:o}=d,n=Pt.value,{expandAll:r,expandRowKeys:a}=n;if(r)c.setAllRowExpand(!0);else if(a){const f=[];a.forEach(h=>{o[h]&&f.push(o[h].row)}),c.setRowExpand(f,!0)}}},Sl=t=>{xt.value.reserve&&(d.radioReserveRow=t)},bl=(t,o)=>{const{checkboxReserveRowMap:n}=d;if(ut.value.reserve){const a=Pe(c,t);o?n[a]=t:n[a]&&delete n[a]}},Ct=(t,o)=>{const n=xt.value,{checkMethod:r}=n;return t&&(o||!r||r({row:t}))&&(p.selectRadioRow=t,Sl(t)),ue()},uo=(t,o,n)=>(t&&!s.isArray(t)&&(t=[t]),c.handleBatchSelectRows(t,!!o,n),c.checkSelectionStatus(),ue()),$o=(t,o)=>{const{treeConfig:n}=e,{afterFullData:r,checkboxReserveRowMap:a,selectCheckboxMaps:f}=d,h=it.value,m=h.children||h.childrenField,x=ut.value,{checkField:v,reserve:R,checkMethod:D}=x,{handleGetRowId:O}=fo(c),H=x.indeterminateField||x.halfField,z={};if(v){const P=T=>{(o||!D||D({row:T}))&&(t&&(z[O(T)]=T),s.set(T,v,t)),n&&H&&s.set(T,H,!1)};n?s.eachTree(r,P,{children:m}):r.forEach(P)}else n?t?s.eachTree(r,P=>{if(o||!D||D({row:P})){const T=O(P);z[T]=P}},{children:m}):!o&&D&&s.eachTree(r,P=>{const T=O(P);!D({row:P})&&f[T]&&(z[T]=P)},{children:m}):t?!o&&D?r.forEach(P=>{const T=O(P);(f[T]||D({row:P}))&&(z[T]=P)}):r.forEach(P=>{const T=O(P);z[T]=P}):!o&&D&&r.forEach(P=>{const T=O(P);!D({row:P})&&f[T]&&(z[T]=P)});return R&&(t?s.each(z,(P,T)=>{a[T]=P}):r.forEach(P=>bl(P,!1))),p.updateCheckboxFlag++,d.selectCheckboxMaps=v?{}:z,p.isAllSelected=t,p.isIndeterminate=!1,d.treeIndeterminateRowMaps={},c.checkSelectionStatus(),ue()},ua=()=>{const{treeConfig:t}=e,{expandColumn:o,currentRow:n,selectRadioRow:r}=p,{fullDataRowIdData:a,fullAllDataRowIdData:f,radioReserveRow:h,selectCheckboxMaps:m,treeExpandedMaps:x,rowExpandedMaps:v}=d,R=Pt.value,D=it.value,O=xt.value,H=ut.value;if(r&&!f[Pe(c,r)]&&(p.selectRadioRow=null),O.reserve&&h){const z=Pe(c,h);a[z]&&Ct(a[z].row,!0)}d.selectCheckboxMaps=Rl(m),p.updateCheckboxFlag++,H.reserve&&uo(Jl(d.checkboxReserveRowMap),!0,!0),n&&!f[Pe(c,n)]&&(p.currentRow=null),d.rowExpandedMaps=o?Rl(v):{},p.rowExpandedFlag++,o&&R.reserve&&c.setRowExpand(Jl(d.rowExpandedReserveRowMap),!0),d.treeExpandedMaps=t?Rl(x):{},p.treeExpandedFlag++,t&&D.reserve&&c.setTreeExpand(Jl(d.treeExpandedReserveRowMap),!0)},fa=()=>{const{treeConfig:t}=e;if(t){const{tableFullData:o}=d,n=it.value,{expandAll:r,expandRowKeys:a}=n,f=n.children||n.childrenField;if(r)c.setAllTreeExpand(!0);else if(a){const h=[],m=El(c);a.forEach(x=>{const v=s.findTree(o,R=>x===s.get(R,m),{children:f});v&&h.push(v.item)}),c.setTreeExpand(h,!0)}}},ys=t=>{const o=it.value,n=ut.value,{transform:r,loadMethod:a}=o,{checkStrictly:f}=n;return new Promise(h=>{if(a){const{fullAllDataRowIdData:m,treeExpandLazyLoadedMaps:x}=d,v=Pe(c,t),R=m[v];x[v]=t,Promise.resolve(a({$table:c,row:t})).then(D=>{if(R&&(R.treeLoaded=!0),x[v]&&delete x[v],s.isArray(D)||(D=[]),D)return c.loadTreeChildren(t,D).then(O=>{const{treeExpandedMaps:H}=d;return O.length&&!H[v]&&(H[v]=t),p.treeExpandedFlag++,!f&&c.isCheckedByCheckboxRow(t)&&uo(O,!0),ue().then(()=>{if(r)return c.handleTableData(),to(),ue()})})}).catch(()=>{const{treeExpandLazyLoadedMaps:D}=d;R&&(R.treeLoaded=!1),D[v]&&delete D[v]}).finally(()=>{p.treeExpandedFlag++,ue().then(()=>c.recalculate()).then(()=>h())})}else h()})},Rs=(t,o)=>{const{treeExpandedReserveRowMap:n}=d;if(it.value.reserve){const a=Pe(c,t);o?n[a]=t:n[a]&&delete n[a]}},Ss=t=>new Promise(o=>{const n=Pt.value,{loadMethod:r}=n;if(r){const{fullAllDataRowIdData:a,rowExpandLazyLoadedMaps:f}=d,h=Pe(c,t),m=a[h];f[h]=t,r({$table:c,row:t,rowIndex:c.getRowIndex(t),$rowIndex:c.getVMRowIndex(t)}).then(()=>{const{rowExpandedMaps:x}=d;m&&(m.expandLoaded=!0),x[h]=t,p.rowExpandedFlag++}).catch(()=>{m&&(m.expandLoaded=!1)}).finally(()=>{const{rowExpandLazyLoadedMaps:x}=d;x[h]&&delete x[h],p.rowExpandedFlag++,ue().then(()=>c.recalculate()).then(()=>c.updateCellAreas()).then(()=>o())})}else o()}),Os=(t,o)=>{const{rowExpandedReserveRowMap:n}=d;if(Pt.value.reserve){const a=Pe(c,t);o?n[a]=t:n[a]&&delete n[a]}},pa=()=>{const{mergeCells:t}=e;t&&c.setMergeCells(t)},ha=()=>{const{mergeFooterItems:t}=e;t&&c.setMergeFooterItems(t)},jr=()=>ue().then(()=>{const{scrollXLoad:t,scrollYLoad:o}=p,{scrollXStore:n,scrollYStore:r}=d,a=bt.value,f=lt.value;if(t){const{toVisibleIndex:v,visibleSize:R}=ml(),D=Math.max(0,f.oSize?s.toNumber(f.oSize):0);n.preloadSize=s.toNumber(f.preSize),n.offsetSize=D,n.visibleSize=R,n.endIndex=Math.max(n.startIndex+n.visibleSize+D,n.endIndex),n.visibleStartIndex=Math.max(n.startIndex,v),n.visibleEndIndex=Math.min(n.endIndex,v+R),c.updateScrollXData().then(()=>{ln()})}else c.updateScrollXSpace();const h=Br();r.rowHeight=h,p.rowHeight=h;const{toVisibleIndex:m,visibleSize:x}=Xo();if(o){const v=Math.max(0,a.oSize?s.toNumber(a.oSize):0);r.preloadSize=s.toNumber(a.preSize),r.offsetSize=v,r.visibleSize=x,r.endIndex=Math.max(r.startIndex+x+v,r.endIndex),r.visibleStartIndex=Math.max(r.startIndex,m),r.visibleEndIndex=Math.min(r.endIndex,m+x),c.updateScrollYData().then(()=>{rr()})}else c.updateScrollYSpace();ue(()=>{ho()})}),Nr=t=>{const o=I.value;if(d.rceRunTime=Date.now(),!o||!o.clientWidth)return ue();const n=B.value;if(n){const[r,a,f,h]=n.children;Ll("default",r),Ll("medium",a),Ll("small",f),Ll("mini",h)}return Zo(),tn(),ho(),jl(),jr().then(()=>{if(t===!0)return Zo(),tn(),ho(),t&&zl(),jl(),jr()})},tr=(t,o)=>{const{keepSource:n,treeConfig:r}=e,{scrollYLoad:a}=p,{scrollYStore:f,scrollXStore:h,lastScrollLeft:m,lastScrollTop:x}=d,v=it.value,{transform:R}=v,D=v.children||v.childrenField;let O=[],H=fl(t?t.slice(0):[]);H.length>fi&&Qe("vxe.error.errMaxRow",[fi]),r&&(R?(v.rowField||Qe("vxe.error.reqProp",["tree-config.rowField"]),v.parentField||Qe("vxe.error.reqProp",["tree-config.parentField"]),D||Qe("vxe.error.reqProp",["tree-config.childrenField"]),v.mapChildrenField||Qe("vxe.error.reqProp",["tree-config.mapChildrenField"]),D===v.mapChildrenField&&Qe("vxe.error.errConflicts",["tree-config.childrenField","tree-config.mapChildrenField"]),O=s.toArrayTree(H,{key:v.rowField,parentKey:v.parentField,children:D,mapChildren:v.mapChildrenField}),H=O.slice(0)):O=H.slice(0)),f.startIndex=0,f.endIndex=1,h.startIndex=0,h.endIndex=1,p.isRowLoading=!0,p.scrollVMLoading=!1,d.insertRowMaps={},d.removeRowMaps={};const z=nr(H);return p.isDragColMove=!1,p.isDragRowMove=!1,d.tableFullData=H,d.tableFullTreeData=O,c.cacheRowMap(!0),d.tableSynchData=t,o&&(d.isResizeCellHeight=!1),n&&c.cacheSourceMap(H),c.clearCellAreas&&e.mouseConfig&&(c.clearCellAreas(),c.clearCopyCellArea()),c.clearMergeCells(),c.clearMergeFooterItems(),c.handleTableData(!0),c.updateFooter(),ue().then(()=>{An(),ho()}).then(()=>{jr()}).then(()=>(z&&(f.endIndex=f.visibleSize),z&&(e.height||e.maxHeight||Qe("vxe.error.reqProp",["table.height | table.max-height | table.scroll-y={enabled: false}"]),e.spanMethod&&Qe("vxe.error.scrollErrProp",["table.span-method"])),ua(),c.checkSelectionStatus(),new Promise(P=>{ue().then(()=>c.recalculate()).then(()=>{let T=m,Y=x;const X=lt.value,ee=bt.value;X.scrollToLeftOnChange&&(T=0),ee.scrollToTopOnChange&&(Y=0),p.isRowLoading=!1,Qo(),zl(),a===z?ls(c,T,Y).then(()=>{P()}):setTimeout(()=>{ls(c,T,Y).then(()=>{P()})})})})))},or=()=>{zr(),on(),Vl(),fa(),pa(),ha(),ue(()=>setTimeout(()=>c.recalculate()))},ga=()=>{Vr()},_r=()=>{const{scrollXLoad:t}=p,{visibleColumn:o,scrollXStore:n,fullColumnIdData:r}=d,a=t?o.slice(n.startIndex,n.endIndex):o.slice(0);a.forEach((f,h)=>{const m=f.id,x=r[m];x&&(x.$index=h)}),p.tableColumn=a},Ds=()=>{const t=s.orderBy(d.collectColumn,"renderSortNumber");d.collectColumn=t;const o=lr(t);d.tableFullColumn=o,kn()},ln=()=>{const{mergeList:t,mergeFooterList:o,isScrollXBig:n}=p,{scrollXStore:r}=d,{preloadSize:a,startIndex:f,endIndex:h,offsetSize:m}=r,{toVisibleIndex:x,visibleSize:v}=ml(),R={startIndex:Math.max(0,n?x-1:x-1-m-a),endIndex:n?x+v:x+v+m+a};r.visibleStartIndex=x-1,r.visibleEndIndex=x+v+1,Qn(t.concat(o),R,"col");const{startIndex:D,endIndex:O}=R;(x<=f||x>=h-v-1)&&(f!==D||h!==O)&&(r.startIndex=D,r.endIndex=O,c.updateScrollXData()),c.closeTooltip()},lr=t=>{const o=[];return t.forEach(n=>{o.push(...n.children&&n.children.length?lr(n.children):[n])}),o},Wr=t=>{const o=[],n=[],r=[],{isGroup:a,columnStore:f}=p,h=lt.value,{collectColumn:m,tableFullColumn:x,scrollXStore:v,fullColumnIdData:R}=d;if(a){const H=[],z=[],P=[];s.eachTree(m,(T,Y,X,ee,fe)=>{const ye=Cn(T);fe&&fe.fixed&&(T.fixed=fe.fixed),fe&&T.fixed!==fe.fixed&&Qe("vxe.error.groupFixed"),ye?T.visible=!!s.findTree(T.children,Ie=>Cn(Ie)?!1:Ie.visible):T.visible&&(T.fixed==="left"?o.push(T):T.fixed==="right"?r.push(T):n.push(T))}),m.forEach(T=>{T.visible&&(T.fixed==="left"?H.push(T):T.fixed==="right"?P.push(T):z.push(T))}),p.tableGroupColumn=H.concat(z).concat(P)}else x.forEach(H=>{H.visible&&(H.fixed==="left"?o.push(H):H.fixed==="right"?r.push(H):n.push(H))});const D=o.concat(n).concat(r),O=!!h.enabled&&h.gt>-1&&(h.gt===0||h.gt<x.length);if(p.hasFixedColumn=o.length>0||r.length>0,Object.assign(f,{leftList:o,centerList:n,rightList:r}),O&&(e.spanMethod&&St("vxe.error.scrollErrProp",["span-method"]),e.footerSpanMethod&&St("vxe.error.scrollErrProp",["footer-span-method"]),t)){const{visibleSize:H}=ml();v.startIndex=0,v.endIndex=H,v.visibleSize=H,v.visibleStartIndex=0,v.visibleEndIndex=H}return(D.length!==d.visibleColumn.length||!d.visibleColumn.every((H,z)=>H===D[z]))&&(c.clearMergeCells(),c.clearMergeFooterItems()),p.scrollXLoad=O,D.forEach((H,z)=>{const P=H.id,T=R[P];T&&(T._index=z)}),d.visibleColumn=D,_r(),t?(As(),c.updateFooter().then(()=>c.recalculate()).then(()=>(c.updateCellAreas(),c.recalculate()))):c.updateFooter()},ma=()=>{const{collectColumn:t}=d;t.forEach((o,n)=>{const r=n+1;o.sortNumber=r,o.renderSortNumber=r})},Ms=t=>{const o=Pt.value;d.collectColumn=t;const n=lr(t);return d.tableFullColumn=n,p.isColLoading=!0,p.isDragColMove=!1,ma(),Promise.resolve($r()).then(()=>{const{scrollXLoad:r,scrollYLoad:a,expandColumn:f}=p;return kn(),Wr(!0).then(()=>{p.scrollXLoad&&ln()}),c.clearMergeCells(),c.clearMergeFooterItems(),c.handleTableData(!0),(r||a)&&f&&o.mode!=="fixed"&&St("vxe.error.scrollErrProp",["column.type=expand"]),ue().then(()=>(Ke&&Ke.syncUpdate({collectColumn:d.collectColumn,$table:c}),c.handleUpdateCustomColumn&&c.handleUpdateCustomColumn(),p.isColLoading=!1,c.recalculate()))})},nr=t=>{const{treeConfig:o}=e,n=bt.value,r=it.value,{transform:a}=r,f=t||d.tableFullData,h=(a||!o)&&!!n.enabled&&n.gt>-1&&(n.gt===0||n.gt<f.length);return p.scrollYLoad=h,h},Ts=(t,o)=>{const{treeNodeColumn:n}=p,{fullAllDataRowIdData:r,tableFullData:a,treeExpandedMaps:f,treeExpandLazyLoadedMaps:h}=d,m=it.value,{reserve:x,lazy:v,accordion:R,toggleMethod:D}=m,O=m.children||m.childrenField,H=m.hasChild||m.hasChildField,z=[],P=S.getColumnIndex(n),T=S.getVMColumnIndex(n),{handleGetRowId:Y}=fo(c);let X=D?t.filter(ee=>D({$table:c,expanded:o,column:n,columnIndex:P,$columnIndex:T,row:ee})):t;if(R){X=X.length?[X[X.length-1]]:[];const ee=s.findTree(a,fe=>fe===X[0],{children:O});ee&&ee.items.forEach(fe=>{const ye=Y(fe);f[ye]&&delete f[ye]})}return o?X.forEach(ee=>{const fe=Y(ee);if(!f[fe]){const ye=r[fe];ye&&(v&&ee[H]&&!ye.treeLoaded&&!h[fe]?z.push(ys(ee)):ee[O]&&ee[O].length&&(f[fe]=ee))}}):X.forEach(ee=>{const fe=Y(ee);f[fe]&&delete f[fe]}),x&&X.forEach(ee=>Rs(ee,o)),p.treeExpandedFlag++,Promise.all(z).then(()=>S.recalculate())},ba=(t,o)=>Ts(t,o).then(()=>(Ko(),q.handleTableData(),to(),ue())).then(()=>S.recalculate(!0)).then(()=>{setTimeout(()=>{S.updateCellAreas()},30)}),Fs=(t,o)=>{$o(o),t&&$t("checkbox-all",{records:()=>c.getCheckboxRecords(),reserves:()=>c.getCheckboxReserveRecords(),indeterminates:()=>c.getCheckboxIndeterminateRecords(),checked:o},t)},rr=()=>{const{mergeList:t,isAllOverflow:o,isScrollYBig:n}=p,{scrollYStore:r}=d,{preloadSize:a,startIndex:f,endIndex:h,offsetSize:m}=r,x=o?m:m+1,{toVisibleIndex:v,visibleSize:R}=Xo(),D={startIndex:Math.max(0,n?v-1:v-1-m-a),endIndex:n?v+R:v+R+x+a};r.visibleStartIndex=v-1,r.visibleEndIndex=v+R+1,Qn(t,D,"row");const{startIndex:O,endIndex:H}=D;(v<=f||v>=h-R-1)&&(f!==O||h!==H)&&(r.startIndex=O,r.endIndex=H,c.updateScrollYData())},sr=t=>{const{handleGetRowId:o}=fo(c);return function(n){const{fullAllDataRowIdData:r}=d;if(n){const a=o(n),f=r[a];if(f)return f[t]}return-1}},qr=t=>function(o){const{fullColumnIdData:n}=d;if(o){const r=n[o.id];if(r)return r[t]}return-1},xa=()=>{const{lxTimeout:t,lxRunTime:o,scrollXStore:n}=d,{visibleSize:r}=n,a=Math.max(5,Math.min(10,Math.floor(r/3)));t&&clearTimeout(t),(!o||o+a<Date.now())&&(d.lxRunTime=Date.now(),ln()),d.lxTimeout=setTimeout(()=>{d.lxTimeout=void 0,d.lxRunTime=void 0,ln()},a)},va=()=>{const{lyTimeout:t,lyRunTime:o,scrollYStore:n}=d,{visibleSize:r}=n,a=Math.floor(Math.max(4,Math.min(10,r/3)));t&&clearTimeout(t),(!o||o+a<Date.now())&&(d.lyRunTime=Date.now(),rr()),d.lyTimeout=setTimeout(()=>{d.lyTimeout=void 0,d.lyRunTime=void 0,rr()},a)},Ca=(t,o)=>{const{scrollXLoad:n,scrollYLoad:r}=p,{lcsTimeout:a}=d;a&&clearTimeout(a),d.lcsTimeout=setTimeout(()=>{d.lcsRunTime=Date.now(),d.lcsTimeout=void 0,d.intoRunScroll=!1,d.inVirtualScroll=!1,d.inWheelScroll=!1,d.inHeaderScroll=!1,d.inBodyScroll=!1,d.inFooterScroll=!1,d.scrollRenderType="",Qo(),t&&n&&c.updateScrollXData(),o&&r&&c.updateScrollYData().then(()=>{Qo(),c.updateScrollYSpace()}),jl(),c.updateCellAreas()},200)},wa=t=>{let o=1;const n=Date.now();return t+25>n?o=1.18:t+30>n?o=1.15:t+40>n?o=1.12:t+55>n?o=1.09:t+75>n?o=1.06:t+100>n&&(o=1.03),o},Ea=(t,o)=>{requestAnimationFrame(()=>{o(t)})},ya=(t,o)=>{const n=Math.abs(t),r=performance.now();let a=0;const f=h=>{let m=(h-r)/n;m>1&&(m=1);const x=Math.pow(m,2),v=Math.floor(t*x)-a;a+=v,o(v),m<1&&requestAnimationFrame(f)};requestAnimationFrame(f)},$t=(t,o,n)=>{u(t,Ic(n,{$table:c,$grid:Fe},o))},Ra=(t,o)=>{const{fullColumnIdData:n}=d,r=ao(c,t);return r&&n[r.id]?Zs(c,r,o):ue()},Xr=()=>{const t=I.value;t&&t.clientWidth&&t.clientHeight&&S.recalculate()},Is=(t,o)=>{c.analyColumnWidth(),c.recalculate().then(()=>{c.saveCustomStore("update:width"),c.updateCellAreas(),c.dispatchEvent("column-resizable-change",o,t),c.dispatchEvent("resizable-change",o,t),setTimeout(()=>c.recalculate(!0),300)})},ks=(t,o)=>{p.resizeHeightFlag++,c.recalculate().then(()=>{c.updateCellAreas(),c.dispatchEvent("row-resizable-change",o,t),setTimeout(()=>c.recalculate(!0),300)})},As=()=>{const{visibleColumn:t,fullColumnIdData:o}=d;let n=0;for(let r=0,a=t.length;r<a;r++){const f=t[r],h=f.id,m=o[h];m.oLeft=n,n+=f.renderWidth}},zl=()=>{const{expandColumn:t}=p,{afterFullData:o,fullAllDataRowIdData:n,rowExpandedMaps:r}=d,a=Pt.value,f=ae.value,h=et.value,m=Me.value,{handleGetRowId:x}=fo(c);let v=0;for(let R=0,D=o.length;R<D;R++){const O=o[R],H=x(O),z=n[H]||{};z.oTop=v,v+=z.resizeHeight||h.height||f.height||z.height||m,t&&r[H]&&(v+=z.expandHeight||a.height||0)}},jl=()=>{const{expandColumn:t,scrollYLoad:o,scrollYTop:n,isScrollYBig:r}=p,a=Pt.value,f=ae.value,h=et.value,m=Me.value,{mode:x}=a;if(t&&x==="fixed"){const{elemStore:v,fullAllDataRowIdData:R}=d,D=G.value,O=ot(v["main-body-scroll"]);if(D&&O){let H=!1;s.arrayEach(D.children,z=>{const P=z,T=P.getAttribute("rowid")||"",Y=R[T];if(Y){const X=P.offsetHeight+1,ee=O.querySelector(`.vxe-body--row[rowid="${T}"]`);let fe=0;o?r&&ee?fe=ee.offsetTop+ee.offsetHeight:fe=Y.oTop+(Y.resizeHeight||h.height||f.height||Y.height||m):ee&&(fe=ee.offsetTop+ee.offsetHeight),r&&(fe+=n),P.style.top=hs(fe),H||Y.expandHeight!==X&&(H=!0),Y.expandHeight=X}}),H&&(p.rowExpandHeightFlag++,ue(()=>{zl()}))}}},Ls=()=>{const{elemStore:t}=d,o=G.value,n=ot(t["main-body-scroll"]);o&&n&&(o.scrollTop=n.scrollTop)};S={dispatchEvent:$t,getEl(){return I.value},clearAll(){return fc(c)},syncData(){return St("vxe.error.delFunc",["syncData","getData"]),ue().then(()=>(p.tableData=[],u("update:data",d.tableFullData),ue()))},updateData(){const{scrollXLoad:t,scrollYLoad:o}=p;return q.handleTableData(!0).then(()=>{if(S.updateFooter(),t||o)return t&&q.updateScrollXSpace(),o&&q.updateScrollYSpace(),S.refreshScroll()}).then(()=>(S.updateCellAreas(),S.recalculate(!0))).then(()=>{setTimeout(()=>c.recalculate(),50)})},loadData(t){const{initStatus:o}=d;return tr(t,!1).then(()=>(d.inited=!0,d.initStatus=!0,o||or(),S.recalculate()))},reloadData(t){return S.clearAll().then(()=>(d.inited=!0,d.initStatus=!0,tr(t,!0))).then(()=>(or(),S.recalculate()))},setRow(t,o){if(t&&o){let n=t;s.isArray(t)||(n=[t]);const r=El(c);n.forEach(a=>{const f=Pe(c,a),h=s.clone(Object.assign({},o),!0);s.set(h,r,f),Object.assign(a,h)})}return ue()},reloadRow(t,o,n){const{keepSource:r}=e,{tableData:a}=p,{tableSourceData:f}=d;if(r){const h=S.getRowIndex(t),m=f[h];if(m&&t)if(n){const x=s.clone(s.get(o||t,n),!0);s.set(t,n,x),s.set(m,n,x)}else{const x=El(c),v=Pe(c,t),R=s.clone(Object.assign({},o),!0);s.set(R,x,v),s.destructuring(m,Object.assign(t,R))}p.tableData=a.slice(0)}return ue()},getParams(){return e.params},loadTreeChildren(t,o){const{keepSource:n}=e,{tableSourceData:r,fullDataRowIdData:a,fullAllDataRowIdData:f,sourceDataRowIdData:h}=d,m=it.value,{transform:x,mapChildrenField:v}=m,R=m.children||m.childrenField,D=f[Pe(c,t)],O=D?D.level:0;return S.createData(o).then(H=>{if(n){const z=Pe(c,t),P=s.findTree(r,T=>z===Pe(c,T),{children:R});P&&(P.item[R]=s.clone(H,!0)),H.forEach(T=>{const Y=Pe(c,T);h[Y]=s.clone(T,!0)})}return s.eachTree(H,(z,P,T,Y,X,ee)=>{const fe=Pe(c,z),ye=X||D.row,Ie={row:z,rowid:fe,seq:-1,index:P,_index:-1,$index:-1,treeIndex:-1,items:T,parent:ye,level:O+ee.length,height:0,resizeHeight:0,oTop:0,expandHeight:0};a[fe]=Ie,f[fe]=Ie},{children:R}),t[R]=H,x&&(t[v]=s.clone(H,!1)),to(),H})},loadColumn(t){const o=s.mapTree(t,n=>fl(dt.createColumn(c,n)));return Ms(o)},reloadColumn(t){return S.clearAll().then(()=>S.loadColumn(t))},getRowNode(t){if(t){const{fullAllDataRowIdData:o}=d,n=t.getAttribute("rowid");if(n){const r=o[n];if(r)return{rowid:r.rowid,item:r.row,index:r.index,items:r.items,parent:r.parent}}}return null},getColumnNode(t){if(t){const{fullColumnIdData:o}=d,n=t.getAttribute("colid");if(n){const r=o[n];if(r)return{colid:r.colid,item:r.column,index:r.index,items:r.items,parent:r.parent}}}return null},getRowSeq:sr("seq"),getRowIndex:sr("index"),getVTRowIndex:sr("_index"),getVMRowIndex:sr("$index"),getColumnIndex:qr("index"),getVTColumnIndex:qr("_index"),getVMColumnIndex:qr("$index"),createData(t){return ue().then(()=>fl(q.defineField(t)))},createRow(t){const o=s.isArray(t);return o||(t=[t||{}]),S.createData(t).then(n=>o?n:n[0])},revertData(t,o){const{keepSource:n,treeConfig:r}=e,{fullAllDataRowIdData:a,fullDataRowIdData:f,tableSourceData:h,sourceDataRowIdData:m,tableFullData:x,afterFullData:v,removeRowMaps:R}=d,D=it.value,{transform:O}=D,{handleGetRowId:H}=fo(c);if(!n)return ue();let z=t;t?s.isArray(t)||(z=[t]):z=s.toArray(c.getUpdateRecords());let P=!1;return z.length&&z.forEach(T=>{const Y=H(T),X=a[Y];if(X){const ee=X.row;if(!c.isInsertByRow(ee)){const fe=m[Y];fe&&ee&&(o?s.set(ee,o,s.clone(s.get(fe,o),!0)):s.destructuring(ee,s.clone(fe,!0)),!f[Y]&&c.isRemoveByRow(ee)&&(R[Y]&&delete R[Y],x.unshift(ee),v.unshift(ee),P=!0))}}}),t?(P&&(p.removeRowFlag++,c.updateFooter(),c.cacheRowMap(!1),c.handleTableData(r&&O),r&&O||c.updateAfterDataIndex(),c.checkSelectionStatus(),p.scrollYLoad&&c.updateScrollYSpace()),ue().then(()=>(c.updateCellAreas(),c.recalculate()))):c.reloadData(h)},clearData(t,o){const{tableFullData:n,visibleColumn:r}=d;return arguments.length?t&&!s.isArray(t)&&(t=[t]):t=n,o?t.forEach(a=>s.set(a,o,null)):t.forEach(a=>{r.forEach(f=>{f.field&&dl(a,f,null)})}),ue()},getCellElement(t,o){const{elemStore:n}=d,r=ao(c,o);if(!r)return null;const a=Pe(c,t),f=ot(n["main-body-scroll"]),h=ot(n["left-body-scroll"]),m=ot(n["right-body-scroll"]);let x;return r&&(r.fixed&&(r.fixed==="left"?h&&(x=h):m&&(x=m)),x||(x=f),x)?x.querySelector(`.vxe-body--row[rowid="${a}"] .${r.id}`):null},getCellLabel(t,o){const n=ao(c,o);if(!n)return null;const r=n.formatter,a=Eo(t,n);let f=a;if(r){let h;const{fullAllDataRowIdData:m}=d,x=Pe(c,t),v=n.id,R=m[x];if(R&&(h=R.formatData,h||(h=m[x].formatData={}),R&&h[v]&&h[v].value===a))return h[v].label;const D={cellValue:a,row:t,rowIndex:S.getRowIndex(t),column:n,columnIndex:S.getColumnIndex(n)};if(s.isString(r)){const O=di.get(r),H=O?O.tableCellFormatMethod||O.cellFormatMethod:null;f=H?H(D):""}else if(s.isArray(r)){const O=di.get(r[0]),H=O?O.tableCellFormatMethod||O.cellFormatMethod:null;f=H?H(D,...r.slice(1)):""}else f=r(D);h&&(h[v]={value:a,label:f})}return f},isInsertByRow(t){const o=Pe(c,t);return!!p.insertRowFlag&&!!d.insertRowMaps[o]},isRemoveByRow(t){const o=Pe(c,t);return!!p.removeRowFlag&&!!d.removeRowMaps[o]},removeInsertRow(){return d.insertRowMaps={},c.remove(c.getInsertRecords())},isUpdateByRow(t,o){const{keepSource:n}=e,{tableFullColumn:r,fullDataRowIdData:a,sourceDataRowIdData:f}=d;if(n){const h=s.isString(t)||s.isNumber(t)?t:Pe(c,t),m=a[h];if(!m)return!1;const x=m.row,v=f[h];if(v){if(arguments.length>1)return!Fn(v,x,o);for(let R=0,D=r.length;R<D;R++){const O=r[R].field;if(O&&!Fn(v,x,O))return!0}}}return!1},getColumns(t){const{visibleColumn:o}=d;return s.isUndefined(t)?o.slice(0):o[t]},getColid(t){const o=ao(c,t);return o?o.id:null},getColumnById(t){const{fullColumnIdData:o}=d;return t&&o[t]?o[t].column:null},getColumnByField(t){const o=d.fullColumnFieldData;return t&&o[t]?o[t].column:null},getParentColumn(t){const{fullColumnIdData:o}=d,n=ao(c,t);return n&&n.parentId&&o[n.parentId]?o[n.parentId].column:null},getTableColumn(){return{collectColumn:d.collectColumn.slice(0),fullColumn:d.tableFullColumn.slice(0),visibleColumn:d.visibleColumn.slice(0),tableColumn:p.tableColumn.slice(0)}},moveColumnTo(t,o,n){const{fullColumnIdData:r,visibleColumn:a}=d,{dragToChild:f,dragPos:h,isCrossDrag:m}=Object.assign({},n),x=ao(c,t);let v=null;const R=x?r[x.id]:null;let D="left";if(s.isNumber(o)){if(R&&o){let O=R.items,H=R._index+o;m&&(O=a,H=R._index+o),H>0&&H<O.length-1&&(v=O[H]),o>0&&(D="right")}}else{v=ao(c,o);const O=v?r[v.id]:null;R&&O&&O._index>R._index&&(D="right")}return c.handleColDragSwapEvent(null,!0,x,v,h||D,f===!0)},moveRowTo(t,o,n){const{treeConfig:r}=e,{fullAllDataRowIdData:a,afterFullData:f}=d,{dragToChild:h,dragPos:m,isCrossDrag:x}=Object.assign({},n),v=it.value,R=Ks(c,t);let D=null,O="top";const H=R?a[Pe(c,R)]:null;if(s.isNumber(o)){if(H&&o){let z=f,P=H._index+o;r&&(z=H.items,v.transform&&(P=H.treeIndex+o,x&&(z=f,P=H._index+o))),P>=0&&P<=z.length-1&&(D=z[P]),o>0&&(O="bottom")}}else{D=Ks(c,o);const z=D?a[Pe(c,D)]:null;H&&z&&z._index>H._index&&(O="bottom")}return c.handleRowDragSwapEvent(null,!0,R,D,m||O,h===!0)},getFullColumns(){const{collectColumn:t}=d;return t.slice(0)},getData(t){const o=e.data||d.tableSynchData;return s.isUndefined(t)?o.slice(0):o[t]},getCheckboxRecords(t){const{treeConfig:o}=e,{tableFullData:n,afterFullData:r,afterTreeFullData:a,tableFullTreeData:f,fullDataRowIdData:h,afterFullRowMaps:m,selectCheckboxMaps:x}=d,v=it.value,R=ut.value,{transform:D,mapChildrenField:O}=v,{checkField:H}=R,z=v.children||v.childrenField;let P=[];if(H)if(o){const T=t?D?f:n:D?a:r;P=s.filterTree(T,Y=>s.get(Y,H),{children:D?O:z})}else P=(t?n:r).filter(Y=>s.get(Y,H));else s.each(x,(T,Y)=>{t?h[Y]&&P.push(h[Y].row):m[Y]&&P.push(m[Y])});return P},getTreeRowChildren(t){const{treeConfig:o}=e,{fullAllDataRowIdData:n}=d,r=it.value,{transform:a,mapChildrenField:f}=r,h=r.children||r.childrenField;if(t&&o){let m;if(s.isString(t)?m=t:m=Pe(c,t),m){const x=n[m],v=x?x.row:null;if(v)return v[a?f:h]||[]}}return[]},getTreeParentRow(t){const{treeConfig:o}=e,{fullAllDataRowIdData:n}=d;if(t&&o){let r;if(s.isString(t)?r=t:r=Pe(c,t),r){const a=n[r];return a?a.parent:null}}return null},getParentRow(t){return St("vxe.error.delFunc",["getParentRow","getTreeParentRow"]),c.getTreeParentRow(t)},getRowById(t){const{fullAllDataRowIdData:o}=d,n=s.eqNull(t)?"":encodeURIComponent(t||"");return o[n]?o[n].row:null},getRowid(t){return Pe(c,t)},getTableData(){const{tableData:t,footerTableData:o}=p,{tableFullData:n,afterFullData:r,tableFullTreeData:a}=d;return{fullData:e.treeConfig?a.slice(0):n.slice(0),visibleData:r.slice(0),tableData:t.slice(0),footerData:o.slice(0)}},getFullData(){const{treeConfig:t}=e,{tableFullData:o,tableFullTreeData:n}=d;if(t){const r=it.value,{transform:a,mapChildrenField:f,rowField:h,parentField:m}=r,x=r.children||r.childrenField;return a?s.toArrayTree(s.toTreeArray(n,{children:f}),{key:h,parentKey:m,children:x,mapChildren:f}):n.slice(0)}return o.slice(0)},setColumnFixed(t,o){let n=!1;const r=s.isArray(t)?t:[t],a=qe.value,f=Mn.value;for(let h=0;h<r.length;h++){const m=r[h],x=ao(c,m),v=Gs(c,x);if(v&&v.fixed!==o){if(!v.fixed&&f)return ge.modal&&ge.modal.message({status:"error",content:il("vxe.table.maxFixedCol",[a.maxFixedSize])}),ue();s.eachTree([v],R=>{R.fixed=o}),q.saveCustomStore("update:fixed"),n||(n=!0)}}return n?S.refreshColumn():ue()},clearColumnFixed(t){let o=!1;return(s.isArray(t)?t:[t]).forEach(r=>{const a=ao(c,r),f=Gs(c,a);f&&f.fixed&&(s.eachTree([f],h=>{h.fixed=null}),q.saveCustomStore("update:fixed"),o||(o=!0))}),o?S.refreshColumn():ue()},hideColumn(t){let o=!1;return(s.isArray(t)?t:[t]).forEach(r=>{const a=ao(c,r);a&&a.visible&&(a.visible=!1,o||(o=!0))}),o?q.handleCustom():ue()},showColumn(t){let o=!1;return(s.isArray(t)?t:[t]).forEach(r=>{const a=ao(c,r);a&&!a.visible&&(a.visible=!0,o||(o=!0))}),o?q.handleCustom():ue()},setColumnWidth(t,o){const{elemStore:n}=d;let r=!1;const a=s.isArray(t)?t:[t];let f=s.toInteger(o);if(xn(o)){const h=ot(n["main-body-scroll"]),m=h?h.clientWidth-1:0;f=Math.floor(f*m)}return f&&(a.forEach(h=>{const m=ao(c,h);m&&(m.resizeWidth=f,r||(r=!0))}),r)?c.refreshColumn().then(()=>({status:r})):ue().then(()=>({status:r}))},getColumnWidth(t){const o=ao(c,t);return o?o.renderWidth:0},resetColumn(t){return St("vxe.error.delFunc",["resetColumn","resetCustom"]),c.resetCustom(t)},refreshColumn(t){return t&&Ds(),Wr(!0).then(()=>S.refreshScroll()).then(()=>S.recalculate())},setRowHeightConf(t){const{fullAllDataRowIdData:o}=d;let n=!1;return t&&(s.each(t,(r,a)=>{const f=o[a];if(f){const h=s.toInteger(r);h&&(f.resizeHeight=h,n||(n=!0))}}),n&&(d.isResizeCellHeight=!0,p.resizeHeightFlag++)),ue().then(()=>(zl(),{status:n}))},getRowHeightConf(t){const{fullAllDataRowIdData:o,afterFullData:n}=d,{handleGetRowId:r}=fo(c),a=ae.value,f=et.value,h=Me.value,m={};return n.forEach(x=>{const v=r(x),R=o[v];if(R){const D=R.resizeHeight;if(D||t){const O=D||f.height||a.height||R.height||h;m[v]=O}}}),m},setRowHeight(t,o){const{fullAllDataRowIdData:n}=d;let r=!1;const a=s.isArray(t)?t:[t];let f=s.toInteger(o);if(xn(o)){const h=y.value,m=h?h.$el:null,x=m?m.clientHeight-1:0;f=Math.floor(f*x)}if(f){const{handleGetRowId:h}=fo(c);a.forEach(m=>{const x=s.isString(m)||s.isNumber(m)?m:h(m),v=n[x];v&&(v.resizeHeight=f,r||(r=!0))}),r&&(d.isResizeCellHeight=!0,p.resizeHeightFlag++)}return ue().then(()=>({status:r}))},getRowHeight(t){const{fullAllDataRowIdData:o}=d,n=ae.value,r=et.value,a=Me.value,f=s.isString(t)||s.isNumber(t)?t:Pe(c,t),h=o[f];return h?h.resizeHeight||r.height||n.height||h.height||a:0},refreshScroll(){const{elemStore:t,lastScrollLeft:o,lastScrollTop:n}=d,r=ot(t["main-header-scroll"]),a=ot(t["main-body-scroll"]),f=ot(t["main-footer-scroll"]),h=ot(t["left-body-scroll"]),m=ot(t["right-body-scroll"]),x=J.value,v=re.value;return new Promise(R=>{if(o||n)return ls(c,o,n).then().then(()=>{setTimeout(R,10)});d.intoRunScroll=!0,Yt(v,n),Yt(a,n),Yt(h,n),Yt(m,n),Ut(x,o),Ut(a,o),Ut(r,o),Ut(f,o),setTimeout(()=>{d.intoRunScroll=!1,R()},10)})},recalculate(t){return new Promise(o=>{const{rceTimeout:n,rceRunTime:r}=d,f=at.value.refreshDelay||20,h=I.value;h&&h.clientWidth&&(tn(),jl()),n?(clearTimeout(n),r&&r+(f-5)<Date.now()?o(Nr(!!t)):ue(()=>{o()})):o(Nr(!!t)),d.rceTimeout=setTimeout(()=>{d.rceTimeout=void 0,Nr(!!t)},f)})},openTooltip(t,o){const n=L.value;return n&&n.open?n.open(t,o):ue()},closeTooltip(){const{tooltipStore:t}=p,o=oe.value,n=L.value;return t.visible&&(Object.assign(t,{row:null,column:null,content:null,visible:!1,currOpts:{}}),o&&o.close&&o.close()),n&&n.close&&n.close(),ue()},isAllCheckboxChecked(){return p.isAllSelected},isAllCheckboxIndeterminate(){return!p.isAllSelected&&p.isIndeterminate},getCheckboxIndeterminateRecords(t){const{treeConfig:o}=e,{fullDataRowIdData:n,treeIndeterminateRowMaps:r}=d;if(o){const a=[],f=[];return s.each(r,(h,m)=>{h&&(a.push(h),n[m]&&f.push(h))}),t?a:f}return[]},setCheckboxRow(t,o){return t&&!s.isArray(t)&&(t=[t]),uo(t,o,!0)},setCheckboxRowKey(t,o){const{fullAllDataRowIdData:n}=d;s.isArray(t)||(t=[t]);const r=[];return t.forEach(a=>{const f=n[a];f&&r.push(f.row)}),uo(r,o,!0)},isCheckedByCheckboxRow(t){const{updateCheckboxFlag:o}=p,{selectCheckboxMaps:n}=d,r=ut.value,{checkField:a}=r;return a?s.get(t,a):!!o&&!!n[Pe(c,t)]},isCheckedByCheckboxRowKey(t){const{updateCheckboxFlag:o}=p,{fullAllDataRowIdData:n,selectCheckboxMaps:r}=d,a=ut.value,{checkField:f}=a;if(f){const h=n[t];return h?s.get(h.row,f):!1}return!!o&&!!r[t]},isIndeterminateByCheckboxRow(t){const{treeIndeterminateRowMaps:o}=d;return!!o[Pe(c,t)]&&!c.isCheckedByCheckboxRow(t)},isIndeterminateByCheckboxRowKey(t){const{treeIndeterminateRowMaps:o}=d;return!!o[t]&&!c.isCheckedByCheckboxRowKey(t)},toggleCheckboxRow(t){const{selectCheckboxMaps:o}=d,n=ut.value,{checkField:r}=n,a=r?!s.get(t,r):!o[Pe(c,t)];return q.handleBatchSelectRows([t],a,!0),q.checkSelectionStatus(),ue()},setAllCheckboxRow(t){return $o(t,!0)},getRadioReserveRecord(t){const{treeConfig:o}=e,{fullDataRowIdData:n,radioReserveRow:r,afterFullData:a}=d,f=xt.value,h=it.value,m=h.children||h.childrenField;if(f.reserve&&r){const x=Pe(c,r);if(t){if(!n[x])return r}else{const v=El(c);if(o){if(s.findTree(a,D=>x===s.get(D,v),{children:m}))return r}else if(!a.some(R=>x===s.get(R,v)))return r}}return null},clearRadioReserve(){return d.radioReserveRow=null,ue()},getCheckboxReserveRecords(t){const{treeConfig:o}=e,{afterFullData:n,fullDataRowIdData:r,checkboxReserveRowMap:a}=d,f=ut.value,h=it.value,m=h.children||h.childrenField,x=[];if(f.reserve){const{handleGetRowId:v}=fo(c),R={};o?s.eachTree(n,D=>{R[v(D)]=1},{children:m}):n.forEach(D=>{R[v(D)]=1}),s.each(a,(D,O)=>{D&&(t?r[O]||x.push(D):R[O]||x.push(D))})}return x},clearCheckboxReserve(){return d.checkboxReserveRowMap={},ue()},toggleAllCheckboxRow(){return Fs(null,!p.isAllSelected),ue()},clearCheckboxRow(){const{treeConfig:t}=e,{tableFullData:o}=d,n=it.value,r=n.children||n.childrenField,a=ut.value,{checkField:f,reserve:h}=a,m=a.indeterminateField||a.halfField;if(f){const x=v=>{t&&m&&s.set(v,m,!1),s.set(v,f,!1)};t?s.eachTree(o,x,{children:r}):o.forEach(x)}return h&&o.forEach(x=>bl(x,!1)),p.isAllSelected=!1,p.isIndeterminate=!1,d.selectCheckboxMaps={},d.treeIndeterminateRowMaps={},p.updateCheckboxFlag++,ue()},setCurrentRow(t){const o=ae.value,n=I.value;return S.clearCurrentRow(),p.currentRow=t,(o.isCurrent||e.highlightCurrentRow)&&n&&s.arrayEach(n.querySelectorAll(`[rowid="${Pe(c,t)}"]`),r=>ol(r,"row--current")),ue()},isCheckedByRadioRow(t){const{selectRadioRow:o}=p;return t&&o?c.eqRow(o,t):!1},isCheckedByRadioRowKey(t){const{selectRadioRow:o}=p;return o?t===Pe(c,o):!1},setRadioRow(t){return Ct(t,!0)},setRadioRowKey(t){const{fullAllDataRowIdData:o}=d,n=o[t];return n?Ct(n.row,!0):ue()},clearCurrentRow(){const t=I.value;return p.currentRow=null,d.hoverRow=null,t&&s.arrayEach(t.querySelectorAll(".row--current"),o=>Po(o,"row--current")),ue()},clearRadioRow(){return p.selectRadioRow=null,ue()},getCurrentRecord(){return ae.value.isCurrent||e.highlightCurrentRow?p.currentRow:null},getRadioRecord(t){const{fullDataRowIdData:o,afterFullRowMaps:n}=d,{selectRadioRow:r}=p;if(r){const a=Pe(c,r);if(t){if(o[a])return r}else if(n[a])return r}return null},getCurrentColumn(){return qe.value.isCurrent||e.highlightCurrentColumn?p.currentColumn:null},setCurrentColumn(t){const{mouseConfig:o}=e,n=Dt.value,r=o&&n.selected,a=ao(c,t);return a&&(c.clearCurrentColumn(),p.currentColumn=a),ue().then(()=>{r&&c.addCellSelectedClass()})},clearCurrentColumn(){return p.currentColumn=null,ue()},setPendingRow(t,o){const{handleGetRowId:n}=fo(c),{pendingRowMaps:r}=d;return t&&!s.isArray(t)&&(t=[t]),o?t.forEach(a=>{const f=n(a);f&&!r[f]&&(r[f]=a)}):t.forEach(a=>{const f=n(a);f&&r[f]&&delete r[f]}),p.pendingRowFlag++,ue()},togglePendingRow(t){const{handleGetRowId:o}=fo(c),{pendingRowMaps:n}=d;return t&&!s.isArray(t)&&(t=[t]),t.forEach(r=>{const a=o(r);a&&(n[a]?delete n[a]:n[a]=r)}),p.pendingRowFlag++,ue()},hasPendingByRow(t){return S.isPendingByRow(t)},isPendingByRow(t){const{pendingRowMaps:o}=d,n=Pe(c,t);return!!o[n]},getPendingRecords(){const{fullAllDataRowIdData:t,pendingRowMaps:o}=d,n=[];return s.each(o,(r,a)=>{t[a]&&n.push(r)}),n},clearPendingRow(){return d.pendingRowMaps={},p.pendingRowFlag++,ue()},sort(t,o){const n=Qt.value,{multiple:r,remote:a,orders:f}=n;return t&&s.isString(t)&&(t=[{field:t,order:o}]),s.isArray(t)||(t=[t]),t.length?(r||rl(),(r?t:[t[0]]).forEach((h,m)=>{let{field:x,order:v}=h,R=x;s.isString(x)&&(R=S.getColumnByField(x)),R&&R.sortable&&(f.indexOf(v)===-1&&(v=qo(R)),R.order!==v&&(R.order=v),R.sortTime=Date.now()+m)}),a||q.handleTableData(!0),ue().then(()=>(S.updateCellAreas(),ho()))):ue()},setSort(t,o){const n=Qt.value,{multiple:r,remote:a,orders:f}=n;if(s.isArray(t)||(t=[t]),t&&t.length){r||(t=[t[0]],rl());let h=null;return t.forEach((m,x)=>{let{field:v,order:R}=m,D=v;s.isString(v)&&(D=S.getColumnByField(v)),h||(h=D),D&&D.sortable&&(f.indexOf(R)===-1&&(R=qo(D)),D.order!==R&&(D.order=R),D.sortTime=Date.now()+x)}),o&&(a||q.handleTableData(!0),c.handleColumnSortEvent(new Event("click"),h)),ue().then(()=>(S.updateCellAreas(),ho()))}return ue()},clearSort(t){const o=Qt.value;if(t){const n=ao(c,t);n&&(n.order=null)}else rl();return o.remote||q.handleTableData(!0),ue().then(ho)},isSort(t){if(t){const o=ao(c,t);return o?o.sortable&&!!o.order:!1}return S.getSortColumns().length>0},getSortColumns(){const t=Qt.value,{multiple:o,chronological:n}=t,r=[],{tableFullColumn:a}=d;return a.forEach(f=>{const{field:h,order:m}=f;f.sortable&&m&&r.push({column:f,field:h,property:h,order:m,sortTime:f.sortTime})}),o&&n&&r.length>1?s.orderBy(r,"sortTime"):r},closeFilter(){const{filterStore:t}=p,{column:o,visible:n}=t;return Object.assign(t,{isAllSelected:!1,isIndeterminate:!1,options:[],visible:!1}),n&&$t("filter-visible",{column:o,property:o.field,field:o.field,filterList:()=>c.getCheckedFilters(),visible:!1},null),ue()},isActiveFilterByColumn(t){const o=ao(c,t);return o?o.filters&&o.filters.some(n=>n.checked):c.getCheckedFilters().length>0},isFilter(t){return S.isActiveFilterByColumn(t)},isRowExpandLoaded(t){const{fullAllDataRowIdData:o}=d,n=o[Pe(c,t)];return n&&!!n.expandLoaded},clearRowExpandLoaded(t){const{fullAllDataRowIdData:o,rowExpandLazyLoadedMaps:n}=d,r=Pt.value,{lazy:a}=r,f=Pe(c,t),h=o[f];return a&&h&&(h.expandLoaded=!1,delete n[f]),p.rowExpandedFlag++,ue()},reloadRowExpand(t){const{rowExpandLazyLoadedMaps:o}=d,n=Pt.value,{lazy:r}=n,a=Pe(c,t);return r&&!o[a]&&c.clearRowExpandLoaded(t).then(()=>Ss(t)),ue()},reloadExpandContent(t){return c.reloadRowExpand(t)},toggleRowExpand(t){return c.setRowExpand(t,!c.isRowExpandByRow(t))},setAllRowExpand(t){const o=it.value,{tableFullData:n,tableFullTreeData:r}=d,a=o.children||o.childrenField;let f=[];return e.treeConfig?s.eachTree(r,h=>{f.push(h)},{children:a}):f=n,S.setRowExpand(f,t)},setRowExpand(t,o){const{expandColumn:n}=p;let{fullAllDataRowIdData:r,rowExpandedMaps:a,rowExpandLazyLoadedMaps:f}=d;const{handleGetRowId:h}=fo(c),m=Pt.value,{reserve:x,lazy:v,accordion:R,toggleMethod:D}=m,O=[],H=c.getColumnIndex(n),z=c.getVMColumnIndex(n);if(t){s.isArray(t)||(t=[t]),R&&(a={},d.rowExpandedMaps=a,t=t.slice(t.length-1,t.length));const P=D?t.filter(T=>D({$table:c,expanded:o,column:n,columnIndex:H,$columnIndex:z,row:T,rowIndex:S.getRowIndex(T),$rowIndex:S.getVMRowIndex(T)})):t;o?P.forEach(T=>{const Y=h(T);if(!a[Y]){const X=r[Y];v&&!X.expandLoaded&&!f[Y]?O.push(Ss(T)):a[Y]=T}}):P.forEach(T=>{const Y=h(T);a[Y]&&delete a[Y]}),x&&P.forEach(T=>Os(T,o))}return p.rowExpandedFlag++,Promise.all(O).then(()=>ue()).then(()=>c.recalculate(!0)).then(()=>(zl(),jl(),Ls(),c.updateCellAreas()))},isRowExpandByRow(t){const{rowExpandedFlag:o}=p,{rowExpandedMaps:n}=d,r=Pe(c,t);return!!o&&!!n[r]},isExpandByRow(t){return S.isRowExpandByRow(t)},clearRowExpand(){const{tableFullData:t}=d,o=Pt.value,{reserve:n}=o,r=c.getRowExpandRecords();return d.rowExpandedMaps={},p.rowExpandedFlag++,n&&t.forEach(a=>Os(a,!1)),ue().then(()=>{if(r.length)return c.recalculate(!0)}).then(()=>(zl(),jl(),Ls(),c.updateCellAreas()))},clearRowExpandReserve(){return d.rowExpandedReserveRowMap={},ue()},getRowExpandRecords(){const t=[];return s.each(d.rowExpandedMaps,o=>{o&&t.push(o)}),t},getTreeExpandRecords(){const t=[];return s.each(d.treeExpandedMaps,o=>{o&&t.push(o)}),t},isTreeExpandLoaded(t){const{fullAllDataRowIdData:o}=d,n=o[Pe(c,t)];return n&&!!n.treeLoaded},clearTreeExpandLoaded(t){const{fullAllDataRowIdData:o,treeExpandedMaps:n}=d,r=it.value,{transform:a}=r;return t?(s.isArray(t)||(t=[t]),t.forEach(f=>{const h=Pe(c,f),m=o[h];m&&(m.treeLoaded=!1,n[h]&&delete n[h])})):s.each(o,f=>{f.treeLoaded=!1}),d.treeExpandedMaps={},p.treeExpandedFlag++,a?(Ko(),c.handleTableData()):ue()},reloadTreeExpand(t){const{treeExpandLazyLoadedMaps:o}=d,n=it.value,r=n.hasChild||n.hasChildField,{transform:a,lazy:f}=n,h=Pe(c,t);return f&&t[r]&&!o[h]?S.clearTreeExpandLoaded(t).then(()=>ys(t)).then(()=>{if(a)return Ko(),q.handleTableData()}).then(()=>S.recalculate()):ue()},reloadTreeChilds(t){return S.reloadTreeExpand(t)},toggleTreeExpand(t){return S.setTreeExpand(t,!S.isTreeExpandByRow(t))},setAllTreeExpand(t){const{tableFullData:o}=d,n=it.value,{transform:r,lazy:a}=n,f=n.children||n.childrenField,h=[];return s.eachTree(o,m=>{const x=m[f];(a||x&&x.length)&&h.push(m)},{children:f}),S.setTreeExpand(h,t).then(()=>{if(r)return Ko(),S.recalculate()})},setTreeExpand(t,o){const n=it.value,{transform:r}=n;return t&&(s.isArray(t)||(t=[t]),t.length)?r?ba(t,o):Ts(t,o):ue()},isTreeExpandByRow(t){const{treeExpandedFlag:o}=p,{treeExpandedMaps:n}=d;return!!o&&!!n[Pe(c,t)]},clearTreeExpand(){const{tableFullTreeData:t}=d,o=it.value,n=o.children||o.childrenField,{transform:r,reserve:a}=o,f=c.getTreeExpandRecords();return d.treeExpandedMaps={},p.treeExpandedFlag++,a&&s.eachTree(t,h=>Rs(h,!1),{children:n}),c.handleTableData().then(()=>{if(r)return Ko(),c.handleTableData()}).then(()=>{if(f.length)return c.recalculate()})},clearTreeExpandReserve(){return d.treeExpandedReserveRowMap={},ue()},getScroll(){const{scrollXLoad:t,scrollYLoad:o}=p,{elemStore:n}=d,r=ot(n["main-body-scroll"]);return{virtualX:t,virtualY:o,scrollTop:r?r.scrollTop:0,scrollLeft:r?r.scrollLeft:0}},scrollTo(t,o){const{elemStore:n}=d,r=ot(n["main-header-scroll"]),a=ot(n["main-body-scroll"]),f=ot(n["main-footer-scroll"]),h=ot(n["left-body-scroll"]),m=ot(n["right-body-scroll"]),x=J.value,v=re.value;return d.intoRunScroll=!0,s.isNumber(t)&&(Ut(x,t),Ut(a,t),Ut(r,t),Ut(f,t)),s.isNumber(o)&&(Yt(v,o),Yt(a,o),Yt(h,o),Yt(m,o)),p.scrollXLoad||p.scrollYLoad?new Promise(R=>{setTimeout(()=>{ue(()=>{d.intoRunScroll=!1,R()})},30)}):ue()},scrollToRow(t,o){const{isAllOverflow:n,scrollYLoad:r,scrollXLoad:a}=p,f=[];return t&&(e.treeConfig?f.push(q.scrollToTreeRow(t)):f.push(Us(c,t))),o&&f.push(Ra(o,t)),Promise.all(f).then(()=>{if(t)return!n&&(r||a)&&(Qo(),Zo()),ue()})},scrollToColumn(t){const{fullColumnIdData:o}=d,n=ao(c,t);return n&&o[n.id]?Zs(c,n):ue()},clearScroll(){const{elemStore:t,scrollXStore:o,scrollYStore:n}=d,r=ot(t["main-header-scroll"]),a=ot(t["main-body-scroll"]),f=ot(t["main-footer-scroll"]),h=ot(t["left-body-scroll"]),m=ot(t["right-body-scroll"]),x=J.value,v=re.value;return d.intoRunScroll=!0,Ut(x,0),Ut(a,0),Ut(r,0),Ut(f,0),Yt(v,0),Yt(a,0),Yt(h,0),Yt(m,0),o.startIndex=0,o.visibleStartIndex=0,o.endIndex=o.visibleSize,o.visibleEndIndex=o.visibleSize,n.startIndex=0,n.visibleStartIndex=0,n.endIndex=n.visibleSize,n.visibleEndIndex=n.visibleSize,ue().then(()=>{d.intoRunScroll=!1})},updateFooter(){const{showFooter:t,footerData:o,footerMethod:n}=e,{visibleColumn:r,afterFullData:a}=d;let f=[];return t&&o&&o.length?f=o.slice(0):t&&n&&(f=r.length?n({columns:r,data:a,$table:c,$grid:Fe}):[]),p.footerTableData=f,ue()},updateStatus(t,o){return ue().then(()=>{const{editRules:n}=e;if(t&&n)return c.handleCellRuleUpdateStatus("change",t,o)})},setMergeCells(t){return e.spanMethod&&Qe("vxe.error.errConflicts",["merge-cells","span-method"]),Hl(t,p.mergeList,d.afterFullData),ue().then(()=>(S.updateCellAreas(),ho()))},removeMergeCells(t){e.spanMethod&&Qe("vxe.error.errConflicts",["merge-cells","span-method"]);const o=en(t,p.mergeList,d.afterFullData);return ue().then(()=>(S.updateCellAreas(),ho(),o))},getMergeCells(){return p.mergeList.slice(0)},clearMergeCells(){return p.mergeList=[],ue().then(()=>ho())},setMergeFooterItems(t){return e.footerSpanMethod&&Qe("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]),Hl(t,p.mergeFooterList),ue().then(()=>(S.updateCellAreas(),ho()))},removeMergeFooterItems(t){e.footerSpanMethod&&Qe("vxe.error.errConflicts",["merge-footer-items","footer-span-method"]);const o=en(t,p.mergeFooterList);return ue().then(()=>(S.updateCellAreas(),ho(),o))},getMergeFooterItems(){return p.mergeFooterList.slice(0)},clearMergeFooterItems(){return p.mergeFooterList=[],ue().then(()=>ho())},updateCellAreas(){const{mouseConfig:t}=e,o=Dt.value;return t&&o.area&&c.handleRecalculateCellAreaEvent?c.handleRecalculateCellAreaEvent():ue()},getCustomStoreData(){const{id:t}=e,o=Bo.value,{collectColumn:n}=d,{storage:r,checkMethod:a}=o,f=r===!0,h=f?{}:Object.assign({},r||{}),m=f||h.resizable,x=f||h.visible,v=f||h.fixed,R=f||h.sort,D={},O={},H={},z={},P={resizableData:void 0,sortData:void 0,visibleData:void 0,fixedData:void 0};if(!t)return Qe("vxe.error.reqProp",["id"]),P;let T=0,Y=0,X=0,ee=0;return s.eachTree(n,(fe,ye,Ie,Ge,Ne)=>{const We=fe.getKey();if(!We){Qe("vxe.error.reqProp",[`${fe.getTitle()||fe.type||""} -> column.field=?`]);return}Ne||(R&&(Y=1,O[We]=fe.renderSortNumber),v&&fe.fixed!==fe.defaultFixed&&(X=1,z[We]=fe.fixed)),m&&fe.resizeWidth&&(T=1,D[We]=fe.renderWidth),x&&(!a||a({column:fe}))&&(!fe.visible&&fe.defaultVisible?(ee=1,H[We]=!1):fe.visible&&!fe.defaultVisible&&(ee=1,H[We]=!0))}),T&&(P.resizableData=D),Y&&(P.sortData=O),X&&(P.fixedData=z),ee&&(P.visibleData=H),P},focus(){return d.isActivated=!0,ue()},blur(){return d.isActivated=!1,ue()},connect(t){return t?(Ke=t,Ke.syncUpdate({collectColumn:d.collectColumn,$table:c})):Qe("vxe.error.barUnableLink"),ue()}};const Sa=t=>{const{editStore:o,ctxMenuStore:n,filterStore:r,customStore:a}=p,{mouseConfig:f,editRules:h}=e,m=I.value,x=no.value,v=mt.value,R=Xt.value,{actived:D}=o,O=k.value,H=te.value,z=ce.value,P=_.value;if(H&&(Ft(t,m,"vxe-cell--filter").flag||Ft(t,H.$el).flag||Ft(t,document.body,"vxe-table--ignore-clear").flag||q.preventEvent(t,"event.clearFilter",r.args,S.closeFilter)),z&&(a.btnEl===t.target||Ft(t,document.body,"vxe-toolbar-custom-target").flag||Ft(t,z.$el).flag||Ft(t,document.body,"vxe-table--ignore-clear").flag||q.preventEvent(t,"event.clearCustom",{},()=>{c.closeCustom&&c.closeCustom()})),D.row){if(x.autoClear!==!1){const Y=D.args.cell;(!Y||!Ft(t,Y).flag)&&(O&&Ft(t,O.$el).flag||(!d._lastCallTime||d._lastCallTime+50<Date.now())&&(Ft(t,document.body,"vxe-table--ignore-clear").flag||q.preventEvent(t,"event.clearEdit",D.args,()=>{let X;if(x.mode==="row"){const ee=Ft(t,m,"vxe-body--row"),fe=ee.flag?S.getRowNode(ee.targetElem):null;X=fe?!c.eqRow(fe.item,D.args.row):!1}else X=!Ft(t,m,"col--edit").flag;if(X||(X=Ft(t,m,"vxe-header--row").flag),X||(X=Ft(t,m,"vxe-footer--row").flag),!X&&e.height&&!p.overflowY){const ee=t.target;hl(ee,"vxe-table--body-wrapper")&&(X=t.offsetY<ee.clientHeight)}(X||!Ft(t,m).flag)&&setTimeout(()=>{c.handleClearEdit(t).then(()=>{!d.isActivated&&h&&v.autoClear&&(p.validErrorMaps={})})})})))}}else if(f&&!Ft(t,m).flag&&!(Fe&&Ft(t,Fe.getRefMaps().refElem.value).flag)&&!(P&&Ft(t,P.getRefMaps().refElem.value).flag)&&!(Ke&&Ft(t,Ke.getRefMaps().refElem.value).flag)&&(c.clearSelected&&c.clearSelected(),R.autoClear&&c.getCellAreas)){const Y=c.getCellAreas();Y&&Y.length&&!Ft(t,document.body,"vxe-table--ignore-areas-clear").flag&&q.preventEvent(t,"event.clearAreas",{},()=>{c.clearCellAreas(),c.clearCopyCellArea(),$t("clear-cell-area-selection",{cellAreas:Y},t)})}c.closeMenu&&n.visible&&P&&!Ft(t,P.getRefMaps().refElem.value).flag&&c.closeMenu();const T=Ft(t,Fe?Fe.getRefMaps().refElem.value:m).flag;!T&&h&&v.autoClear&&(p.validErrorMaps={}),d.isActivated=T},Oa=()=>{S.closeFilter(),c.closeMenu&&c.closeMenu()},Da=()=>{S.closeTooltip(),c.closeMenu&&c.closeMenu()},Ma=t=>{const{mouseConfig:o,keyboardConfig:n}=e,{filterStore:r,ctxMenuStore:a,editStore:f}=p,h=Dt.value,m=Bt.value,{actived:x}=f;Wt.hasKey(t,jo.ESCAPE)&&q.preventEvent(t,"event.keydown",null,()=>{if($t("keydown-start",{},t),n&&o&&h.area&&c.handleKeyboardCellAreaEvent)c.handleKeyboardCellAreaEvent(t);else if((x.row||r.visible||a.visible)&&(t.stopPropagation(),c.closeMenu&&c.closeMenu(),S.closeFilter(),n&&m.isEsc&&x.row)){const R=x.args;c.handleClearEdit(t),h.selected&&ue(()=>c.handleSelected(R,t))}$t("keydown",{},t),$t("keydown-end",{},t)})},Ta=t=>{d.isActivated&&q.preventEvent(t,"event.keydown",null,()=>{const{mouseConfig:o,keyboardConfig:n,treeConfig:r,editConfig:a,highlightCurrentRow:f}=e,{ctxMenuStore:h,editStore:m,currentRow:x}=p,{afterFullData:v}=d,R=eo.value,D=Jt.value,O=Bt.value,H=Dt.value,z=no.value,P=it.value,T=ko.value,Y=ae.value,{selected:X,actived:ee}=m,fe=P.children||P.childrenField,ye=t.keyCode,Ie=Wt.hasKey(t,jo.ESCAPE),Ge=Wt.hasKey(t,jo.BACKSPACE),Ne=Wt.hasKey(t,jo.TAB),We=Wt.hasKey(t,jo.ENTER),st=Wt.hasKey(t,jo.SPACEBAR),Ze=Wt.hasKey(t,jo.ARROW_LEFT),Be=Wt.hasKey(t,jo.ARROW_UP),$e=Wt.hasKey(t,jo.ARROW_RIGHT),ht=Wt.hasKey(t,jo.ARROW_DOWN),jt=Wt.hasKey(t,jo.DELETE),Kt=Wt.hasKey(t,jo.F2),kt=Wt.hasKey(t,jo.CONTEXT_MENU),Mt=t.metaKey,At=t.ctrlKey,Lt=t.shiftKey,oo=t.altKey,ro=Ze||Be||$e||ht,io=R&&h.visible&&(We||st||ro),Co=gt(a)&&ee.column&&ee.row,Oo=z.beforeEditMethod||z.activeMethod;if(io)t.preventDefault(),h.showChild&&Cn(h.selected)?c.moveCtxMenu(t,h,"selectChild",Ze,!1,h.selected.children):c.moveCtxMenu(t,h,"selected",$e,!0,T);else if(n&&o&&H.area&&c.handleKeyboardCellAreaEvent)c.handleKeyboardCellAreaEvent(t);else if(Ie){if(c.closeMenu&&c.closeMenu(),S.closeFilter(),n&&O.isEsc&&ee.row){const Vt=ee.args;c.handleClearEdit(t),H.selected&&ue(()=>c.handleSelected(Vt,t))}}else if(st&&n&&O.isChecked&&X.row&&X.column&&(X.column.type==="checkbox"||X.column.type==="radio"))t.preventDefault(),X.column.type==="checkbox"?q.handleToggleCheckRowEvent(t,X.args):q.triggerRadioRowEvent(t,X.args);else if(Kt&&gt(a))Co||X.row&&X.column&&(t.preventDefault(),c.handleEdit(X.args,t));else if(kt)d._keyCtx=X.row&&X.column&&D.length,clearTimeout(d.keyCtxTimeout),d.keyCtxTimeout=setTimeout(()=>{d._keyCtx=!1},1e3);else if(We&&!oo&&n&&O.isEnter&&(X.row||ee.row||r&&(Y.isCurrent||f)&&x)){const{isLastEnterAppendRow:Vt,beforeEnterMethod:Nt,enterMethod:Vo}=O;if(At){if(ee.row){const go=ee.args;c.handleClearEdit(t),H.selected&&ue(()=>{c.handleSelected(go,t)})}}else if(X.row||ee.row){const go=X.row?X.args:ee.args;if(Lt)O.enterToTab?c.moveTabSelected(go,Lt,t):c.moveEnterSelected(go,Ze,!0,$e,!1,t);else if(O.enterToTab)c.moveTabSelected(go,Lt,t);else{const zo=X.row||ee.row,Yo=X.column||ee.column,an=c.getVTRowIndex(zo),xl={row:zo,rowIndex:c.getRowIndex(zo),$rowIndex:c.getVMRowIndex(zo),_rowIndex:an,column:Yo,columnIndex:c.getColumnIndex(Yo),$columnIndex:c.getVMColumnIndex(Yo),_columnIndex:c.getVTColumnIndex(Yo),$table:c};if(!Nt||Nt(xl)!==!1){if(Vt&&an>=v.length-1){c.insertAt({},-1).then(({row:dr})=>{c.scrollToRow(dr,Yo),c.handleSelected(Object.assign(Object.assign({},go),{row:dr}),t)}),c.dispatchEvent("enter-append-row",xl,t);return}c.moveEnterSelected(go,Ze,!1,$e,!0,t),Vo&&Vo(xl)}}}else if(r&&(Y.isCurrent||f)&&x){const go=x[fe];if(go&&go.length){t.preventDefault();const zo=go[0],Yo={$table:c,row:zo,rowIndex:S.getRowIndex(zo),$rowIndex:S.getVMRowIndex(zo)};S.setTreeExpand(x,!0).then(()=>S.scrollToRow(zo)).then(()=>q.triggerCurrentRowEvent(t,Yo))}}}else if(ro&&n&&O.isArrow)Co||X.row&&X.column&&c.moveArrowSelected(X.args,Ze,Be,$e,ht,t);else if(Ne&&n&&O.isTab)X.row||X.column?c.moveTabSelected(X.args,Lt,t):(ee.row||ee.column)&&c.moveTabSelected(ee.args,Lt,t);else if(n&&O.isDel&&jt&&gt(a)&&(X.row||X.column)){if(!Co){const{delMethod:Vt}=O,Nt={row:X.row,rowIndex:S.getRowIndex(X.row),column:X.column,columnIndex:S.getColumnIndex(X.column),$table:c,$grid:Fe};(!Oo||Oo(Nt))&&(Vt?Vt(Nt):dl(X.row,X.column,null),S.updateFooter(),$t("cell-delete-value",Nt,t))}}else if(Ge&&n&&O.isBack&&gt(a)&&(X.row||X.column)){if(!Co){const{backMethod:Vt}=O;if(O.isDel&&gt(a)&&(X.row||X.column)){const Nt={row:X.row,rowIndex:S.getRowIndex(X.row),column:X.column,columnIndex:S.getColumnIndex(X.column),$table:c,$grid:Fe};(!Oo||Oo(Nt))&&(Vt?Vt(Nt):(dl(X.row,X.column,null),c.handleEdit(X.args,t)),$t("cell-backspace-value",Nt,t))}}}else if(Ge&&n&&r&&O.isBack&&(Y.isCurrent||f)&&x){const{parent:Vt}=s.findTree(d.afterTreeFullData,Nt=>Nt===x,{children:fe});if(Vt){t.preventDefault();const Nt={row:Vt,rowIndex:S.getRowIndex(Vt),$rowIndex:S.getVMRowIndex(Vt),$table:c,$grid:Fe};S.setTreeExpand(Vt,!1).then(()=>S.scrollToRow(Vt)).then(()=>q.triggerCurrentRowEvent(t,Nt))}}else if(n&&gt(a)&&O.isEdit&&!At&&!Mt&&(st||ye>=48&&ye<=57||ye>=65&&ye<=90||ye>=96&&ye<=111||ye>=186&&ye<=192||ye>=219&&ye<=222)){const{editMode:Vt,editMethod:Nt}=O;if(X.column&&X.row&&gt(X.column.editRender)){const Vo=z.beforeEditMethod||z.activeMethod,go={row:X.row,rowIndex:S.getRowIndex(X.row),column:X.column,columnIndex:S.getColumnIndex(X.column),$table:c,$grid:Fe};(!Vo||Vo(Object.assign(Object.assign({},X.args),{$table:c,$grid:Fe})))&&(Nt?Nt(go):(Vt!=="insert"&&dl(X.row,X.column,null),c.handleEdit(X.args,t)))}}$t("keydown",{},t)})},Fa=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:r,filterStore:a}=p,{isActivated:f}=d,h=Dt.value,m=Bt.value,{actived:x}=r;f&&!a.visible&&(x.row||x.column||o&&m.isClip&&n&&h.area&&c.handlePasteCellAreaEvent&&c.handlePasteCellAreaEvent(t),$t("paste",{},t))},Ia=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:r,filterStore:a}=p,{isActivated:f}=d,h=Dt.value,m=Bt.value,{actived:x}=r;f&&!a.visible&&(x.row||x.column||o&&m.isClip&&n&&h.area&&c.handleCopyCellAreaEvent&&c.handleCopyCellAreaEvent(t),$t("copy",{},t))},ka=t=>{const{keyboardConfig:o,mouseConfig:n}=e,{editStore:r,filterStore:a}=p,{isActivated:f}=d,h=Dt.value,m=Bt.value,{actived:x}=r;f&&!a.visible&&(x.row||x.column||o&&m.isClip&&n&&h.area&&c.handleCutCellAreaEvent&&c.handleCutCellAreaEvent(t),$t("cut",{},t))},Hs=()=>{c.closeMenu&&c.closeMenu();const t=I.value;if(!t||!t.clientWidth)return ue();S.recalculate(!0),S.updateCellAreas()},ir=t=>{const o=oe.value;clearTimeout(d.tooltipTimeout),t?S.closeTooltip():o&&o.setActived&&o.setActived(!0)},Ps=()=>{const{dragRow:t,dragCol:o}=p;(t||o)&&(ar(),Kr(),nn(),p.dragRow=null,p.dragCol=null,p.isDragColMove=!1,p.isDragRowMove=!1)},Kr=()=>{const t=I.value;if(t){const o="row--drag-origin";s.arrayEach(t.querySelectorAll(`.${o}`),n=>{n.draggable=!1,Po(n,o)})}},Aa=t=>{const o=I.value;if(o){const n="row--drag-origin",r=Pe(c,t);s.arrayEach(o.querySelectorAll(`[rowid="${r}"]`),a=>{ol(a,n)})}},La=t=>{const{dragConfig:o}=e,{dragRow:n}=p,r=Ae.value,{tooltipMethod:a}=r,f=a||(o?o.rowTooltipMethod:null);let h="";f?h=`${f({row:n})||""}`:h=il("vxe.table.dragTip",[t.textContent||""]),p.dragTipText=h},Ha=t=>{const o=I.value;if(o){const n=[];s.eachTree([t],a=>{n.push(`[colid="${a.id}"]`)});const r="col--drag-origin";s.arrayEach(o.querySelectorAll(n.join(",")),a=>{ol(a,r)})}},ar=()=>{const t=I.value;if(t){const o="col--drag-origin";s.arrayEach(t.querySelectorAll(`.${o}`),n=>{n.draggable=!1,Po(n,o)})}},Pa=t=>{const{dragCol:o}=p,n=Xe.value,{tooltipMethod:r}=n;let a="";r?a=`${r({column:o})||""}`:a=il("vxe.table.dragTip",[t.textContent||""]),p.dragTipText=a},cr=(t,o,n,r,a)=>{const f=I.value;if(!f)return;const{overflowX:h,scrollbarWidth:m,overflowY:x,scrollbarHeight:v}=p,{prevDragToChild:R}=d,D=f.getBoundingClientRect(),O=x?m:0,H=h?v:0,z=f.clientWidth,P=f.clientHeight;if(o){const Y=se.value;if(Y)if(r){const X=_e.value,ee=o.getBoundingClientRect();let fe=o.clientHeight;const ye=Math.max(1,ee.y-D.y);ye+fe>P-H&&(fe=P-ye-H),Y.style.display="block",Y.style.left=`${X?O:0}px`,Y.style.top=`${ye}px`,Y.style.height=`${fe}px`,Y.style.width=`${z-O}px`,Y.setAttribute("drag-pos",a),Y.setAttribute("drag-to-child",R?"y":"n")}else Y.style.display=""}else if(n){const Y=N.value;if(Y)if(r){const X=Ve.value,ee=Ee.value,fe=ee?ee.clientWidth:0,ye=be.value,Ie=ye?ye.clientWidth:0,Ge=n.getBoundingClientRect();let Ne=n.clientWidth;const We=Math.max(0,Ge.y-D.y),st=fe;let Ze=Ge.x-D.x;Ze<st&&(Ne-=st-Ze,Ze=st);const Be=z-Ie-(Ie?0:O);Ze+Ne>Be&&(Ne=Be-Ze),Y.style.display="block",Y.style.top=`${We}px`,Y.style.left=`${Ze}px`,Y.style.width=`${Ne}px`,R?Y.style.height=`${Ge.height}px`:Y.style.height=`${P-We-(X?0:H)}px`,Y.setAttribute("drag-pos",a),Y.setAttribute("drag-to-child",R?"y":"n")}else Y.style.display=""}const T=A.value;T&&(T.style.display="block",T.style.top=`${Math.min(f.clientHeight-f.scrollTop-T.clientHeight,t.clientY-D.y)}px`,T.style.left=`${Math.min(f.clientWidth-f.scrollLeft-T.clientWidth-16,t.clientX-D.x)}px`,T.setAttribute("drag-status",r?R?"sub":"normal":"disabled"))},nn=()=>{const t=A.value,o=se.value,n=N.value;t&&(t.style.display=""),o&&(o.style.display=""),n&&(n.style.display="")},Yr=(t,o,n,r,a)=>{const f=n||o;if(!f)return ue();a.cell=o;const{tooltipStore:h}=p,m=rt.value,{column:x,row:v}=a,{showAll:R,contentMethod:D}=m,O=D?D(a):null,H=D&&!s.eqNull(O),z=H?O:s.toString(x.type==="html"?f.innerText:f.textContent).trim(),P=f.scrollWidth>f.clientWidth;return z&&(R||H||P)&&(Object.assign(h,{row:v,column:x,visible:!0,currOpts:{}}),ue(()=>{const T=oe.value;T&&T.open&&T.open(P?f:r,wo(z))})),ue()},Pn=(t,o)=>{if(t){if(Fe)return Fe.callSlot(t,o);if(s.isFunction(t))return To(t(o))}return[]};q={getSetupOptions(){return wt()},updateAfterDataIndex:to,callSlot:Pn,getParentElem(){const t=I.value;if(Fe){const o=Fe.getRefMaps().refElem.value;return o?o.parentNode:null}return t?t.parentNode:null},getParentHeight(){const{height:t}=e,o=I.value;if(o){const n=o.parentNode,r=t==="100%"||t==="auto"?gs(n):0;let a=0;return n&&(Fe&&hl(n,"vxe-grid--table-wrapper")?a=Fe.getParentHeight():a=n.clientHeight),Math.floor(a-r)}return 0},getExcludeHeight(){return Fe?Fe.getExcludeHeight():0},defineField(t){const{treeConfig:o}=e,n=Pt.value,r=it.value,a=xt.value,f=ut.value,h=r.children||r.childrenField,m=El(c);return s.isArray(t)||(t=[t]),t.map(x=>(d.tableFullColumn.forEach(R=>{const{field:D,editRender:O}=R;if(D&&!s.has(x,D)&&!x[D]){let H=null;if(O){const{defaultValue:z}=O;s.isFunction(z)?H=z({column:R}):s.isUndefined(z)||(H=z)}s.set(x,D,H)}}),[a.labelField,f.checkField,f.labelField,n.labelField].forEach(R=>{R&&pl(s.get(x,R))&&s.set(x,R,null)}),o&&r.lazy&&s.isUndefined(x[h])&&(x[h]=null),pl(s.get(x,m))&&s.set(x,m,vs()),x))},handleTableData(t){const{scrollYLoad:o}=p,{scrollYStore:n,fullDataRowIdData:r}=d;let a=d.afterFullData;t&&(er(),a=Ko());const f=o?a.slice(n.startIndex,n.endIndex):a.slice(0);return f.forEach((h,m)=>{const x=Pe(c,h),v=r[x];v&&(v.$index=m)}),p.tableData=f,ue()},cacheRowMap(){const{treeConfig:t}=e,{fullAllDataRowIdData:o,tableFullData:n,tableFullTreeData:r,treeExpandedMaps:a}=d,f=it.value,h=f.children||f.childrenField,m=f.hasChild||f.hasChildField,{lazy:x}=f,v=Object.assign({},o),R={},{handleUpdateRowId:D}=Xs(c),O=(H,z,P,T,Y,X,ee,fe)=>{let ye=v[X];ye||(ye={row:H,rowid:X,seq:fe,index:-1,_index:-1,$index:-1,treeIndex:z,items:P,parent:Y,level:ee,height:0,resizeHeight:0,oTop:0,expandHeight:0},R[X]=ye,v[X]=ye),ye.treeLoaded=!1,ye.expandLoaded=!1,ye.row=H,ye.items=P,ye.parent=Y,ye.level=ee,ye.index=T,ye.treeIndex=z,R[X]=ye,v[X]=ye};t?s.eachTree(r,(H,z,P,T,Y,X)=>{const ee=D(H);t&&x&&(H[m]&&H[h]===void 0&&(H[h]=null),a[ee]&&(!H[h]||!H[h].length)&&delete a[ee]),O(H,z,P,Y?-1:z,Y,ee,X.length-1,ic(T))},{children:h}):n.forEach((H,z,P)=>{O(H,z,P,z,null,D(H),0,z+1)}),d.fullDataRowIdData=R,d.fullAllDataRowIdData=v,p.treeExpandedFlag++},cacheSourceMap(t){const{treeConfig:o}=e,n=it.value,r=s.clone(t,!0),{handleUpdateRowId:a}=Xs(c),f={},h=m=>{const x=a(m);f[x]=m};if(o){const m=n.children||n.childrenField;s.eachTree(r,h,{children:n.transform?n.mapChildrenField:m})}else r.forEach(h);d.sourceDataRowIdData=f,d.tableSourceData=r},analyColumnWidth(){const{tableFullColumn:t}=d,o=qe.value,{width:n,minWidth:r}=o,a=[],f=[],h=[],m=[],x=[],v=[],R=[],D=[];t.forEach(O=>{n&&!O.width&&(O.width=n),r&&!O.minWidth&&(O.minWidth=r),O.visible&&(O.resizeWidth?a.push(O):O.width==="auto"?R.push(O):ps(O.width)?f.push(O):xn(O.width)?x.push(O):ps(O.minWidth)?h.push(O):O.minWidth==="auto"?m.push(O):xn(O.minWidth)?v.push(O):D.push(O))}),Object.assign(p.columnStore,{resizeList:a,pxList:f,pxMinList:h,autoMinList:m,scaleList:x,scaleMinList:v,autoList:R,remainList:D})},handleColResizeMousedownEvent(t,o,n){t.stopPropagation(),t.preventDefault();const{column:r}=n,{overflowX:a,scrollbarHeight:f}=p,{elemStore:h,visibleColumn:m}=d,x=ct.value,v=a?f:0,R=I.value,D=Ee.value,O=be.value,H=Oe.value;if(!H)return;const z=H.firstElementChild,P=Ve.value,{clientX:T}=t,Y=I.value,X=t.target;let ee=r;r.children&&r.children.length&&s.eachTree(r.children,Mt=>{ee=Mt});const fe=X.parentNode,ye=Object.assign(n,{cell:fe});let Ie=0;const Ge=ot(h["main-body-scroll"]);if(!Ge)return;const Ne=Ja(X,Y),We=X.clientWidth,st=Math.floor(We/2),Ze=Ys(ye)-st;let Be=Ne.left-fe.clientWidth+We+Ze,$e=Ne.left+st;const ht=o==="left",jt=o==="right";let Kt=0;if(ht||jt){const Mt=ht?"nextElementSibling":"previousElementSibling";let At=fe[Mt];for(;At&&!hl(At,"fixed--hidden");)hl(At,"col--group")||(Kt+=At.offsetWidth),At=At[Mt];jt&&O&&($e=O.offsetLeft+Kt)}const kt=Mt=>{Mt.stopPropagation(),Mt.preventDefault();const At=R.clientHeight,Lt=Mt.clientX-T;let oo=$e+Lt;const ro=o?0:Ge.scrollLeft;ht?oo=Math.min(oo,(O?O.offsetLeft:Ge.clientWidth)-Kt-Ze):jt?(Be=(D?D.clientWidth:0)+Kt+Ze,oo=Math.min(oo,$e+fe.clientWidth-Ze)):Be=Math.max(Ge.scrollLeft,Be),Ie=Math.max(oo,Be);const io=Math.max(1,Ie-ro);if(H.style.left=`${io}px`,H.style.top=`${P?v:0}px`,H.style.height=`${P?At-v:At}px`,x.showDragTip&&z){z.textContent=il("vxe.table.resizeColTip",[ee.renderWidth+(jt?$e-Ie:Ie-$e)]);const Co=R.clientWidth,Oo=Y.getBoundingClientRect(),Vt=H.clientWidth,Nt=z.clientWidth,Vo=z.clientHeight;let go=-Nt;io<Nt+Vt?go=0:io>Co&&(go+=Co-io),z.style.left=`${go}px`,z.style.top=`${Math.min(At-Vo,Math.max(0,Mt.clientY-Oo.y-Vo/2))}px`}p.isDragResize=!0};p.isDragResize=!0,ol(R,"col-drag--resize"),H.style.display="block",document.onmousemove=kt,document.onmouseup=function(Mt){document.onmousemove=null,document.onmouseup=null,H.style.display="none",d._lastResizeTime=Date.now(),setTimeout(()=>{p.isDragResize=!1},50);const At=ee.renderWidth+(jt?$e-Ie:Ie-$e),Lt=Object.assign(Object.assign({},n),{resizeWidth:At,resizeColumn:ee});x.dragMode==="fixed"&&m.forEach(oo=>{oo.id!==ee.id&&(oo.resizeWidth||(oo.resizeWidth=oo.renderWidth))}),c.handleColResizeCellAreaEvent?c.handleColResizeCellAreaEvent(Mt,Lt):(ee.resizeWidth=At,Is(Mt,Lt)),Po(R,"col-drag--resize")},kt(t),c.closeMenu&&c.closeMenu()},handleColResizeDblclickEvent(t,o){const n=ct.value,{isDblclickAutoWidth:r}=n,a=I.value;if(r&&a){t.stopPropagation(),t.preventDefault();const{fullColumnIdData:f}=d,{column:h}=o;let m=h;h.children&&h.children.length&&s.eachTree(h.children,T=>{m=T});const x=m.id,v=f[x],D=t.target.parentNode,O=Object.assign(o,{cell:D}),H=Ys(O);a.setAttribute("data-calc-col","Y");let z=Ln(m,a);a.removeAttribute("data-calc-col"),v&&(z=Math.max(z,v.width)),z=Math.max(H,z);const P=Object.assign(Object.assign({},o),{resizeWidth:z,resizeColumn:m});p.isDragResize=!1,d._lastResizeTime=Date.now(),c.handleColResizeDblclickCellAreaEvent?c.handleColResizeDblclickCellAreaEvent(t,P):(m.resizeWidth=z,Is(t,P))}},handleRowResizeMousedownEvent(t,o){t.stopPropagation(),t.preventDefault();const{row:n}=o,{overflowX:r,scrollbarWidth:a,overflowY:f,scrollbarHeight:h}=p,{elemStore:m,fullAllDataRowIdData:x}=d,v=f?a:0,R=r?h:0,D=_e.value,O=ct.value,H=ae.value,z=et.value,P=I.value,T=He.value;if(!T)return;const{clientY:Y}=t,X=T.firstElementChild,fe=t.currentTarget.parentNode,ye=fe.parentNode;if(!ot(m["main-body-scroll"]))return;const Ge=Pe(c,n),Ne=x[Ge];if(!Ne)return;const We=Me.value,st=Ne.resizeHeight||z.height||H.height||Ne.height||We,Ze=P.getBoundingClientRect(),Be=ye.getBoundingClientRect(),$e=Y-Be.y-ye.clientHeight;let ht=st;const jt=fe.querySelector(".vxe-cell");let Kt=0;if(jt){const At=getComputedStyle(jt);Kt=Math.max(1,Math.ceil(s.toNumber(At.paddingTop)+s.toNumber(At.paddingBottom)))}const kt=Be.y-Ze.y+Kt,Mt=At=>{At.stopPropagation(),At.preventDefault();const Lt=P.clientWidth-v,oo=P.clientHeight-R;let ro=At.clientY-Ze.y-$e;if(ro<kt?ro=kt:ht=Math.max(Kt,st+At.clientY-Y),T.style.left=`${D?v:0}px`,T.style.top=`${ro}px`,T.style.width=`${Lt}px`,O.showDragTip&&X){X.textContent=il("vxe.table.resizeRowTip",[ht]);const io=X.clientWidth,Co=X.clientHeight;let Oo=Math.max(2,At.clientX-Ze.x),Vt=0;Oo+io>=Lt-2&&(Oo=Lt-io-2),ro+Co>=oo&&(Vt=oo-(ro+Co)),X.style.left=`${Oo}px`,X.style.top=`${Vt}px`}p.isDragResize=!0};p.isDragResize=!0,ol(P,"row-drag--resize"),T.style.display="block",document.onmousemove=Mt,document.onmouseup=function(At){if(document.onmousemove=null,document.onmouseup=null,T.style.display="none",d._lastResizeTime=Date.now(),setTimeout(()=>{p.isDragResize=!1},50),ht!==st){const Lt=Object.assign(Object.assign({},o),{resizeHeight:ht,resizeRow:n});d.isResizeCellHeight=!0,c.handleRowResizeCellAreaEvent?c.handleRowResizeCellAreaEvent(At,Lt):(Ne.resizeHeight=ht,ks(At,Lt),zl())}Po(P,"row-drag--resize")},Mt(t)},handleRowResizeDblclickEvent(t,o){const n=ct.value,{isDblclickAutoHeight:r}=n,a=I.value;if(r&&a){t.stopPropagation(),t.preventDefault();const{editStore:f}=p,{fullAllDataRowIdData:h}=d,{actived:m}=f,{row:x}=o,v=Pe(c,x),R=h[v];if(!R)return;const D=()=>{a.setAttribute("data-calc-row","Y");const O=Hn(R,a);a.removeAttribute("data-calc-row");const H=Object.assign(Object.assign({},o),{resizeHeight:O,resizeRow:x});p.isDragResize=!1,d._lastResizeTime=Date.now(),c.handleRowResizeDblclickCellAreaEvent?c.handleRowResizeDblclickCellAreaEvent(t,H):(R.resizeHeight=O,ks(t,H))};m.row||m.column?c.clearEdit().then(D):D()}},saveCustomStore(t){const{customConfig:o}=e,n=Ye.value,r=Bo.value,{updateStore:a,storage:f}=r,h=f===!0,m=h?{}:Object.assign({},f||{}),x=h||m.resizable,v=h||m.visible,R=h||m.fixed,D=h||m.sort;if(t!=="reset"&&(p.isCustomStatus=!0),(o?gt(r):r.enabled)&&(x||v||R||D)){if(!n)return Qe("vxe.error.reqProp",["id"]),ue();const O=t==="reset"?{resizableData:{},sortData:{},visibleData:{},fixedData:{}}:S.getCustomStoreData();if(a)return a({id:n,type:t,storeData:O});In(n,t==="reset"?null:O)}return ue()},handleCustom(){const{mouseConfig:t}=e;return t&&(c.clearSelected&&c.clearSelected(),c.clearCellAreas&&(c.clearCellAreas(),c.clearCopyCellArea())),q.analyColumnWidth(),S.refreshColumn(!0)},handleUpdateDataQueue(){p.upDataFlag++},handleRefreshColumnQueue(){p.reColumnFlag++},preventEvent(t,o,n,r,a){let f=ui.get(o);!f.length&&o==="event.clearEdit"&&(f=ui.get("event.clearActived"));let h=null,m=!1;for(let x=0;x<f.length;x++){const v=f[x],R=v(Object.assign({$grid:Fe,$table:c,$event:t},n));if(R===!1){m=!0;break}else if(R&&R.status===!1){h=R.result,m=!0;break}}return m||r&&(h=r()),a&&a(),h},updateCheckboxStatus(){const{treeConfig:t}=e,{selectCheckboxMaps:o,treeIndeterminateRowMaps:n}=d,r=it.value,{transform:a,mapChildrenField:f}=r,h=r.children||r.childrenField,m=ut.value,{checkField:x,checkStrictly:v,checkMethod:R}=m,{afterTreeFullData:D}=d;if(!v){if(t){const{handleGetRowId:O}=fo(c),H={},z=[];s.eachTree(D,P=>{const T=O(P),Y=P[a?f:h];Y&&Y.length&&!H[T]&&(H[T]=1,z.unshift([P,T,Y]))},{children:a?f:h}),z.forEach(P=>{const T=P[0],Y=P[1],X=P[2];let ee=0,fe=0,ye=0;X.forEach(R?Ne=>{const We=O(Ne),st=x?s.get(Ne,x):o[We];R({row:Ne})?(st?ee++:n[We]&&fe++,ye++):st?ee++:n[We]&&fe++}:Ne=>{const We=O(Ne);(x?s.get(Ne,x):o[We])?ee++:n[We]&&fe++,ye++});const Ie=ee>=ye,Ge=!Ie&&(ee>=1||fe>=1);x&&s.set(T,x,Ie),Ie?(x||(o[Y]=T),n[Y]&&delete n[Y]):(x||o[Y]&&delete o[Y],Ge?n[Y]=T:n[Y]&&delete n[Y])})}p.updateCheckboxFlag++}},updateAllCheckboxStatus(){const{treeConfig:t}=e,{afterFullData:o,afterTreeFullData:n,checkboxReserveRowMap:r,selectCheckboxMaps:a,treeIndeterminateRowMaps:f}=d,h=ut.value,{checkField:m,checkMethod:x,showReserveStatus:v}=h,{handleGetRowId:R}=fo(c);let D=0,O=0,H=0;const z=t?n:o;z.forEach(x?Y=>{const X=R(Y),ee=m?s.get(Y,m):a[X];x({row:Y})?(ee?D++:f[X]&&O++,H++):ee?D++:f[X]&&O++}:Y=>{const X=R(Y);(m?s.get(Y,m):a[X])?D++:f[X]&&O++,H++});const P=z.length>0?H>0?D>=H:D>=z.length:!1;let T=!P&&(D>=1||O>=1);!P&&!T&&v&&(T=!s.isEmpty(r)),p.isAllSelected=P,p.isIndeterminate=T},checkSelectionStatus(){c.updateCheckboxStatus(),c.updateAllCheckboxStatus()},handleBatchSelectRows(t,o,n){const{treeConfig:r}=e,{selectCheckboxMaps:a}=d,f=it.value,{transform:h,mapChildrenField:m}=f,x=f.children||f.childrenField,v=ut.value,{checkField:R,checkStrictly:D,checkMethod:O}=v,{handleGetRowId:H}=fo(c),z=v.indeterminateField||v.halfField;if(R){if(r&&!D){s.eachTree(t,P=>{(n||!O||O({row:P}))&&(s.set(P,R,o),z&&s.set(P,z,!1),bl(P,o))},{children:h?m:x}),p.updateCheckboxFlag++;return}t.forEach(P=>{(n||!O||O({row:P}))&&(s.set(P,R,o),bl(P,o))}),p.updateCheckboxFlag++;return}if(r&&!D){s.eachTree(t,P=>{const T=H(P);(n||!O||O({row:P}))&&(o?a[T]=P:a[T]&&delete a[T],bl(P,o))},{children:h?m:x}),p.updateCheckboxFlag++;return}t.forEach(P=>{const T=H(P);(n||!O||O({row:P}))&&(o?a[T]||(a[T]=P):a[T]&&delete a[T],bl(P,o),p.updateCheckboxFlag++)})},handleSelectRow({row:t},o,n){c.handleBatchSelectRows([t],o,n)},triggerHeaderTitleEvent(t,o,n){const r=o.content||o.message;if(r){const{tooltipStore:a}=p,{column:f}=n,h=gl(r);ir(!0),a.row=null,a.column=f,a.visible=!0,a.currOpts=o,ue(()=>{const m=oe.value;m&&m.open&&m.open(t.currentTarget,h)})}},triggerHeaderTooltipEvent(t,o){const{tooltipStore:n}=p,{column:r}=o;ir(!0);const a=t.currentTarget;if(!a)return;const f=a.parentElement;if(!f)return;const h=f.parentElement;h&&(n.column!==r||!n.visible)&&Yr(t,h,h.querySelector(".vxe-cell--wrapper"),h.querySelector(".vxe-cell--title")||f,o)},triggerBodyTooltipEvent(t,o){const{editConfig:n}=e,{editStore:r}=p,{tooltipStore:a}=p,f=no.value,{actived:h}=r,{row:m,column:x}=o,v=t.currentTarget;ir(a.column!==x||a.row!==m),!(x.editRender&&gt(n)&&(f.mode==="row"&&h.row===m||h.row===m&&h.column===x))&&(a.column!==x||a.row!==m||!a.visible)&&Yr(t,v,v.querySelector(".vxe-cell--wrapper"),v.querySelector(".vxe-cell--label")||v.querySelector(".vxe-cell--wrapper"),o)},triggerFooterTooltipEvent(t,o){const{column:n}=o,{tooltipStore:r}=p,a=t.currentTarget;ir(r.column!==n||!!r.row),(r.column!==n||!r.visible)&&Yr(t,a,a.querySelector(".vxe-cell--wrapper"),a.querySelector(".vxe-cell--label")||a.querySelector(".vxe-cell--wrapper"),o)},handleTargetLeaveEvent(){const t=rt.value;let o=oe.value;o&&o.setActived&&o.setActived(!1),t.enterable?d.tooltipTimeout=setTimeout(()=>{o=oe.value,o&&o.isActived&&!o.isActived()&&c.closeTooltip()},t.leaveDelay):c.closeTooltip()},triggerHeaderCellClickEvent(t,o){const{_lastResizeTime:n}=d,r=Qt.value,a=qe.value,f=pt.value,{column:h}=o,m=t.currentTarget,x=n&&n>Date.now()-300,v=Ft(t,m,"vxe-cell--sort").flag,R=Ft(t,m,"vxe-cell--filter").flag;r.trigger==="cell"&&!(x||v||R)&&c.triggerSortEvent(t,h,qo(h)),$t("header-cell-click",Object.assign({triggerResizable:x,triggerSort:v,triggerFilter:R,cell:m},o),t),(a.isCurrent||e.highlightCurrentColumn)&&(!f.trigger||["header","default"].includes(f.trigger))&&c.triggerCurrentColumnEvent(t,o)},triggerHeaderCellDblclickEvent(t,o){$t("header-cell-dblclick",Object.assign({cell:t.currentTarget},o),t)},triggerCellClickEvent(t,o){const{highlightCurrentRow:n,highlightCurrentColumn:r,editConfig:a}=e,{editStore:f,isDragResize:h}=p;if(h)return;const m=Pt.value,x=no.value,v=it.value,R=xt.value,D=ut.value,O=Bt.value,H=ae.value,z=qe.value,P=pt.value,{actived:T,focused:Y}=f,{row:X,column:ee}=o,{type:fe,treeNode:ye}=ee,Ie=fe==="radio",Ge=fe==="checkbox",Ne=fe==="expand",We=t.currentTarget,st=Ie&&Ft(t,We,"vxe-cell--radio").flag,Ze=Ge&&Ft(t,We,"vxe-cell--checkbox").flag,Be=ye&&Ft(t,We,"vxe-tree--btn-wrapper").flag,$e=Ne&&Ft(t,We,"vxe-table--expanded").flag;o=Object.assign({cell:We,triggerRadio:st,triggerCheckbox:Ze,triggerTreeNode:Be,triggerExpandNode:$e},o),!Ze&&!st&&(!$e&&(m.trigger==="row"||Ne&&m.trigger==="cell")&&c.triggerRowExpandEvent(t,o),(v.trigger==="row"||ye&&v.trigger==="cell")&&c.triggerTreeExpandEvent(t,o)),Be||($e||((H.isCurrent||n)&&!Ze&&!st&&c.triggerCurrentRowEvent(t,o),(z.isCurrent||r)&&(!P.trigger||["cell","default"].includes(P.trigger))&&!Ze&&!st&&c.triggerCurrentColumnEvent(t,o),!st&&(R.trigger==="row"||Ie&&R.trigger==="cell")&&c.triggerRadioRowEvent(t,o),!Ze&&(D.trigger==="row"||Ge&&D.trigger==="cell")&&c.handleToggleCheckRowEvent(t,o)),gt(a)&&(O.arrowCursorLock&&t&&x.mode==="cell"&&t.target&&/^input|textarea$/i.test(t.target.tagName)&&(Y.column=ee,Y.row=X),x.trigger==="manual"?T.args&&T.row===X&&ee!==T.column&&$l(t,o):(!T.args||X!==T.row||ee!==T.column)&&(x.trigger==="click"||x.trigger==="dblclick"&&x.mode==="row"&&T.row===X)&&$l(t,o))),gt(a)&&x.trigger==="dblclick"&&T.row&&T.column&&(x.mode==="row"?c.eqRow(T.row,X)||c.handleClearEdit(t):x.mode==="cell"&&(!c.eqRow(T.row,X)||T.column.id!==ee.id)&&c.handleClearEdit(t)),$t("cell-click",o,t)},triggerCellDblclickEvent(t,o){const{editConfig:n}=e,{editStore:r,isDragResize:a}=p;if(a)return;const f=no.value,{actived:h}=r,m=t.currentTarget;o=Object.assign({cell:m},o),gt(n)&&f.trigger==="dblclick"&&(!h.args||t.currentTarget!==h.args.cell)&&(f.mode==="row"?Bl("blur").catch(x=>x).then(()=>{c.handleEdit(o,t).then(()=>Bl("change")).catch(x=>x)}):f.mode==="cell"&&c.handleEdit(o,t).then(()=>Bl("change")).catch(x=>x)),$t("cell-dblclick",o,t)},handleToggleCheckRowEvent(t,o){const{selectCheckboxMaps:n}=d,r=ut.value,{checkField:a,trigger:f}=r,{row:h}=o;if(f==="manual")return;let m=!1;a?m=!s.get(h,a):m=!n[Pe(c,h)],t?c.triggerCheckRowEvent(t,o,m):(c.handleBatchSelectRows([h],m),c.checkSelectionStatus())},triggerCheckRowEvent(t,o,n){const{row:r}=o,{afterFullData:a}=d,f=ut.value,{checkMethod:h,trigger:m}=f;if(m!=="manual"){if(t.stopPropagation(),f.isShiftKey&&t.shiftKey&&!e.treeConfig){const x=c.getCheckboxRecords();if(x.length){const v=x[0],R=c.getVTRowIndex(r),D=c.getVTRowIndex(v);if(R!==D){c.setAllCheckboxRow(!1);const O=R<D?a.slice(R,D+1):a.slice(D,R+1);ue(()=>{uo(O,!0,!1)}),$t("checkbox-range-select",Object.assign({rangeRecords:O},o),t);return}}}(!h||h({row:r}))&&(c.handleBatchSelectRows([r],n),c.checkSelectionStatus(),$t("checkbox-change",Object.assign({records:()=>c.getCheckboxRecords(),reserves:()=>c.getCheckboxReserveRecords(),indeterminates:()=>c.getCheckboxIndeterminateRecords(),checked:n},o),t))}},triggerCheckAllEvent(t,o){const n=ut.value,{trigger:r}=n;r!=="manual"&&(t&&t.stopPropagation(),Fs(t,o))},triggerRadioRowEvent(t,o){const{selectRadioRow:n}=p,{row:r}=o,a=xt.value,{trigger:f}=a;if(f==="manual")return;t.stopPropagation();let h=r,m=n!==h;m?Ct(h):a.strict||(m=n===h,m&&(h=null,S.clearRadioRow())),m&&$t("radio-change",Object.assign({oldValue:n,newValue:h},o),t)},triggerCurrentColumnEvent(t,o){const n=qe.value,{currentMethod:r}=n,{column:a}=o;(!r||r({column:a}))&&S.setCurrentColumn(a)},triggerCurrentRowEvent(t,o){const{currentRow:n}=p,r=ae.value,{currentMethod:a}=r,{row:f}=o,h=n!==f;(!a||a({row:f}))&&(S.setCurrentRow(f),h&&$t("current-change",Object.assign({oldValue:n,newValue:f},o),t))},triggerRowExpandEvent(t,o){const{expandColumn:n}=p,{rowExpandLazyLoadedMaps:r}=d,a=Pt.value,{row:f}=o,{lazy:h,trigger:m}=a;if(m==="manual")return;t.stopPropagation();const x=Pe(c,f);if(!h||!r[x]){const v=!c.isRowExpandByRow(f),R=c.getColumnIndex(n),D=c.getVMColumnIndex(n);c.setRowExpand(f,v),$t("toggle-row-expand",{expanded:v,column:n,columnIndex:R,$columnIndex:D,row:f,rowIndex:c.getRowIndex(f),$rowIndex:c.getVMRowIndex(f)},t)}},triggerTreeExpandEvent(t,o){const{treeExpandLazyLoadedMaps:n}=d,r=it.value,{row:a,column:f}=o,{lazy:h,trigger:m}=r;if(m==="manual")return;t.stopPropagation();const x=Pe(c,a);if(!h||!n[x]){const v=!c.isTreeExpandByRow(a),R=c.getColumnIndex(f),D=c.getVMColumnIndex(f);c.setTreeExpand(a,v),$t("toggle-tree-expand",{expanded:v,column:f,columnIndex:R,$columnIndex:D,row:a},t)}},handleColumnSortEvent(t,o){const{mouseConfig:n}=e,r=Dt.value,{field:a,sortable:f}=o;if(f){const h={$table:c,$event:t,column:o,field:a,property:a,order:o.order,sortList:S.getSortColumns(),sortTime:o.sortTime};n&&r.area&&c.handleSortEvent&&c.handleSortEvent(t,h),$t("sort-change",h,t)}},triggerSortEvent(t,o,n){const r=Qt.value,{multiple:a,allowClear:f}=r,{field:h,sortable:m}=o;m&&(!n||o.order===n?f&&S.clearSort(a?o:null):S.sort({field:h,order:n}),c.handleColumnSortEvent(t,o))},handleCellRuleUpdateStatus(t,o,n){const{validStore:r}=p,{row:a,column:f}=o;if(c.hasCellRules&&c.hasCellRules(t,a,f)){const h=c.getCellElement(a,f);if(h){const m=!s.isUndefined(n);return c.validCellRules(t,a,f,n).then(()=>{m&&r.visible&&dl(a,f,n),c.clearValidate(a,f)}).catch(({rule:x})=>{m&&dl(a,f,n),c.showValidTooltip({rule:x,row:a,column:f,cell:h})})}}return ue()},triggerHeaderCellMousedownEvent(t,o){const{mouseConfig:n}=e,r=Dt.value,a=qe.value,f=Xe.value,{trigger:h,isCrossDrag:m,isPeerDrag:x,disabledMethod:v}=f,R=t.currentTarget,D=R&&R.tagName&&R.tagName.toLowerCase()==="input",O=Ft(t,R,"vxe-cell--checkbox").flag,H=Ft(t,R,"vxe-cell--sort").flag,z=Ft(t,R,"vxe-cell--filter").flag;let P=!1;const T=a.drag&&h==="cell";if(!(D||O||H||z)){const{column:Y}=o;T&&!Y.fixed&&(m||x||!Y.parentId)&&!(v&&v(o))&&(P=!0,c.handleHeaderCellDragMousedownEvent(t,o))}!P&&n&&r.area&&c.handleHeaderCellAreaEvent&&c.handleHeaderCellAreaEvent(t,Object.assign({cell:R,triggerSort:H,triggerFilter:z},o)),c.focus(),c.closeMenu&&c.closeMenu()},triggerCellMousedownEvent(t,o){const{column:n}=o,{type:r,treeNode:a}=n,f=r==="radio",h=r==="checkbox",m=r==="expand",x=ae.value,v=Ae.value,{trigger:R,isCrossDrag:D,isPeerDrag:O,disabledMethod:H}=v,z=t.currentTarget;o.cell=z;const P=z&&z.tagName&&z.tagName.toLowerCase()==="input",T=f&&Ft(t,z,"vxe-cell--radio").flag,Y=h&&Ft(t,z,"vxe-cell--checkbox").flag,X=a&&Ft(t,z,"vxe-tree--btn-wrapper").flag,ee=m&&Ft(t,z,"vxe-table--expanded").flag;let fe=!1;x.drag&&(fe=R==="row"||n.dragSort&&R==="cell");let ye=!1;P||T||Y||X||ee||fe&&(D||O||!o.level)&&!(H&&H(o))&&(ye=!0,c.handleCellDragMousedownEvent(t,o)),!ye&&c.handleCellMousedownEvent&&c.handleCellMousedownEvent(t,o),c.focus(),c.closeFilter(),c.closeMenu&&c.closeMenu()},triggerCellMouseupEvent(){Ps()},handleRowDragDragstartEvent(t){t.dataTransfer&&t.dataTransfer.setDragImage(fs(),0,0)},handleRowDragSwapEvent(t,o,n,r,a,f){const{treeConfig:h,dragConfig:m}=e,x=Ae.value,{afterFullData:v,tableFullData:R,fullAllDataRowIdData:D}=d,{isPeerDrag:O,isCrossDrag:H,isSelfToChildDrag:z,dragEndMethod:P,dragToChildMethod:T}=x,Y=it.value,{transform:X,rowField:ee,mapChildrenField:fe,parentField:ye}=Y,Ie=Y.children||Y.childrenField,Ge=P||(m?m.dragEndMethod:null),Ne=a==="bottom"?1:0,We={status:!1};if(r&&n&&r!==n){const st={oldRow:n,newRow:r,dragRow:n,dragPos:a,dragToChild:!!f,offsetIndex:Ne},Ze=z&&T?T(st):f;return Promise.resolve(Ge?Ge(st):!0).then(Be=>{if(!Be)return We;let $e=-1,ht=-1;if(h){if(X){const jt=Pe(c,n),Kt=D[jt],kt=Pe(c,r),Mt=D[kt];if(Kt&&Mt){const{level:At}=Kt,{level:Lt}=Mt,oo={};s.eachTree([n],Nt=>{oo[Pe(c,Nt)]=Nt},{children:fe});let ro=!1;if(At&&Lt)if(O&&!H){if(Kt.row[ye]!==Mt.row[ye])return We}else{if(!H)return We;if(oo[kt]&&(ro=!0,!(H&&z)))return ge.modal&&ge.modal.message({status:"error",content:il("vxe.error.treeDragChild")}),We}else if(At){if(!H)return We}else if(Lt){if(!H)return We;if(oo[kt]&&(ro=!0,!(H&&z)))return ge.modal&&ge.modal.message({status:"error",content:il("vxe.error.treeDragChild")}),We}const io=s.toTreeArray(d.afterTreeFullData,{key:ee,parentKey:ye,children:fe}),Co=c.findRowIndexOf(io,n);io.splice(Co,1);const Vt=c.findRowIndexOf(io,r)+Ne;io.splice(Vt,0,n),ro&&H&&z&&s.each(n[Ie],Nt=>{Nt[ye]=n[ye]}),n[ye]=Ze?r[ee]:r[ye],d.tableFullTreeData=s.toArrayTree(io,{key:ee,parentKey:ye,children:Ie,mapChildren:fe})}}}else{$e=c.findRowIndexOf(v,n);const jt=c.findRowIndexOf(R,n);v.splice($e,1),R.splice(jt,1);const Kt=c.findRowIndexOf(v,r),kt=c.findRowIndexOf(R,r);ht=Kt+Ne;const Mt=kt+Ne;v.splice(ht,0,n),R.splice(Mt,0,n)}return p.isDragRowMove=!0,c.handleTableData(h&&X),c.cacheRowMap(!1),nr(),h&&X||c.updateAfterDataIndex(),c.checkSelectionStatus(),p.scrollYLoad&&c.updateScrollYSpace(),t&&$t("row-dragend",{oldRow:n,newRow:r,dragRow:n,dragPos:a,dragToChild:Ze,offsetIndex:Ne,_index:{newIndex:ht,oldIndex:$e}},t),ue().then(()=>{c.updateCellAreas(),c.recalculate()}).then(()=>({status:!0}))}).catch(()=>We)}return Promise.resolve(We)},handleRowDragDragendEvent(t){const{treeConfig:o}=e,{fullAllDataRowIdData:n,prevDragToChild:r}=d,{dragRow:a}=p,f=it.value,{lazy:h}=f,m=f.hasChild||f.hasChildField,{prevDragRow:x,prevDragPos:v}=d;if(o&&h&&r){const R=Pe(c,x),D=n[R];x[m]?D&&D.treeLoaded&&c.handleRowDragSwapEvent(t,!0,a,x,v,r):c.handleRowDragSwapEvent(t,!0,a,x,v,r)}else c.handleRowDragSwapEvent(t,!0,a,x,v,r);nn(),Kr(),d.prevDragToChild=!1,p.dragRow=null,p.dragCol=null,setTimeout(()=>{p.isDragRowMove=!1},500)},handleRowDragDragoverEvent(t){const{treeConfig:o}=e,{fullAllDataRowIdData:n}=d,{dragRow:r}=p,a=it.value,{lazy:f,transform:h,parentField:m}=a,x=a.hasChild||a.hasChildField,v=Ae.value,{isPeerDrag:R,isCrossDrag:D,isToChildDrag:O}=v;if(!r){t.preventDefault();return}const H=t.ctrlKey,z=t.currentTarget,P=z.getAttribute("rowid")||"",T=n[P];if(T){const Y=T.row,X=Pe(c,Y),ee=n[X];t.preventDefault();const{dragRow:fe}=p,Ie=t.clientY-z.getBoundingClientRect().y<z.clientHeight/2?"top":"bottom";if(d.prevDragToChild=!!(o&&h&&D&&O&&H),d.prevDragRow=Y,d.prevDragPos=Ie,c.eqRow(fe,Y)||H&&o&&f&&Y[x]&&ee&&!ee.treeLoaded||!D&&o&&h&&(R?fe[m]!==Y[m]:T.level)){cr(t,z,null,!1,Ie);return}cr(t,z,null,!0,Ie),$t("row-dragover",{oldRow:fe,targetRow:Y,dragPos:Ie},t)}},handleCellDragMousedownEvent(t,o){var n;t.stopPropagation();const{dragConfig:r}=e,a=Ae.value,{trigger:f,dragStartMethod:h}=a,{row:m}=o,x=t.currentTarget,v=f==="cell"||f==="row"?x:(n=x.parentElement)===null||n===void 0?void 0:n.parentElement,R=v.parentElement,D=h||(r?r.dragStartMethod:null);if(Kr(),D&&!D(o)){R.draggable=!1,p.dragRow=null,p.dragCol=null,nn();return}p.dragRow=m,p.dragCol=null,R.draggable=!0,Aa(m),La(v),$t("row-dragstart",o,t)},handleCellDragMouseupEvent(){Ps()},handleHeaderCellDragDragstartEvent(t){t.dataTransfer&&t.dataTransfer.setDragImage(fs(),0,0)},handleColDragSwapColumn(){Ds(),Wr(!1).then(()=>{c.updateCellAreas(),c.saveCustomStore("update:sort")})},handleColDragSwapEvent(t,o,n,r,a,f){const{mouseConfig:h}=e,m=Xe.value,{isPeerDrag:x,isCrossDrag:v,isSelfToChildDrag:R,isToChildDrag:D,dragEndMethod:O,dragToChildMethod:H}=m,{collectColumn:z}=d,P=a==="right"?1:0,T={status:!1};if(r&&n&&r!==n){const Y=n,X=r,ee={oldColumn:Y,newColumn:X,dragColumn:Y,dragPos:a,dragToChild:!!f,offsetIndex:P},fe=R&&H?H(ee):f;return Promise.resolve(O?O(ee):!0).then(ye=>{if(!ye)return T;let Ie=-1,Ge=-1;const Ne={};s.eachTree([Y],Be=>{Ne[Be.id]=Be});let We=!1;if(Y.parentId&&X.parentId)if(x&&!v){if(Y.parentId!==X.parentId)return T}else{if(!v)return T;if(Ne[X.id]&&(We=!0,!(v&&R)))return ge.modal&&ge.modal.message({status:"error",content:il("vxe.error.treeDragChild")}),T}else if(Y.parentId){if(!v)return T}else if(X.parentId){if(!v)return T;if(Ne[X.id]&&(We=!0,!(v&&R)))return ge.modal&&ge.modal.message({status:"error",content:il("vxe.error.treeDragChild")}),T}const st=s.findTree(z,Be=>Be.id===Y.id);if(We&&v&&R){if(st){const{items:Be,index:$e}=st,ht=Y.children||[];ht.forEach(jt=>{jt.parentId=Y.parentId}),Be.splice($e,1,...ht),Y.children=[]}}else if(st){const{items:Be,index:$e,parent:ht}=st;Be.splice($e,1),ht||(Ie=$e)}const Ze=s.findTree(z,Be=>Be.id===X.id);if(Ze){const{items:Be,index:$e,parent:ht}=Ze;v&&D&&fe?(Y.parentId=X.id,X.children=(X.children||[]).concat([Y])):(Y.parentId=X.parentId,Be.splice($e+P,0,Y)),ht||(Ge=$e)}return s.eachTree(z,(Be,$e,ht,jt,Kt)=>{if(!Kt){const kt=$e+1;Be.renderSortNumber=kt}}),p.isDragColMove=!0,h&&(c.clearSelected&&c.clearSelected(),c.clearCellAreas&&(c.clearCellAreas(),c.clearCopyCellArea())),t&&$t("column-dragend",{oldColumn:Y,newColumn:X,dragColumn:Y,dragPos:a,dragToChild:fe,offsetIndex:P,_index:{newIndex:Ge,oldIndex:Ie}},t),o&&c.handleColDragSwapColumn(),{status:!0}}).catch(()=>T)}return Promise.resolve(T)},handleHeaderCellDragDragendEvent(t){const{dragCol:o}=p,{prevDragCol:n,prevDragPos:r,prevDragToChild:a}=d;c.handleColDragSwapEvent(t,!0,o,n,r,a),nn(),ar(),d.prevDragToChild=!1,p.dragRow=null,p.dragCol=null,setTimeout(()=>{p.isDragColMove=!1,c.recalculate().then(()=>{ln()})},500)},handleHeaderCellDragDragoverEvent(t){const{dragCol:o}=p,n=Xe.value,{isToChildDrag:r,isPeerDrag:a,isCrossDrag:f}=n;if(!o){t.preventDefault();return}const h=t.ctrlKey,m=t.currentTarget,x=m.getAttribute("colid"),v=c.getColumnById(x);if(v){t.preventDefault();const{clientX:R}=t,O=R-m.getBoundingClientRect().x<m.clientWidth/2?"left":"right";if(d.prevDragToChild=!!(f&&r&&h),d.prevDragCol=v,d.prevDragPos=O,v.fixed||o&&o.id===v.id||!f&&(a?o.parentId!==v.parentId:v.parentId)){cr(t,null,m,!1,O);return}cr(t,null,m,!0,O),$t("column-dragover",{oldColumn:o,targetColumn:v,dragPos:O},t);const H=I.value;if(!H)return;const z=J.value,P=y.value,T=P?P.$el:null,Y=z||T;if(Y){const X=H.getBoundingClientRect(),ee=H.clientWidth,fe=Ee.value,ye=fe?fe.clientWidth:0,Ie=be.value,Ge=Ie?Ie.clientWidth:0,Ne=X.x+ye,We=X.x+ee-Ge,st=28,Ze=R-Ne,Be=We-R;if(Ze>0&&Ze<=st){const $e=Math.floor(ee/(Ze>st/2?240:120));Y.scrollLeft-=$e*(st-Ze)}else if(Be>0&&Be<=st){const $e=Math.floor(ee/(Be>st/2?240:120));Y.scrollLeft+=$e*(st-Be)}}}},handleHeaderCellDragMousedownEvent(t,o){var n;t.stopPropagation();const r=Xe.value,{trigger:a,dragStartMethod:f}=r,{column:h}=o,m=t.currentTarget,x=a==="cell"?m:(n=m.parentElement)===null||n===void 0?void 0:n.parentElement;if(p.isDragColMove=!1,ar(),f&&!f(o)){x.draggable=!1,p.dragRow=null,p.dragCol=null,nn();return}p.dragCol=h,p.dragRow=null,x.draggable=!0,Ha(h),Pa(x),$t("column-dragstart",o,t)},handleHeaderCellDragMouseupEvent(){ar(),nn(),p.dragRow=null,p.dragCol=null,p.isDragColMove=!1},handleScrollEvent(t,o,n,r,a,f){const{highlightHoverRow:h}=e,{lastScrollLeft:m,lastScrollTop:x}=d,v=J.value,R=re.value;if(!v||!R)return;const D=ae.value,O=k.value,H=oe.value,z=R.clientHeight,P=v.clientWidth,T=R.scrollHeight,Y=v.scrollWidth;let X=!1,ee=!1,fe=!1,ye=!1,Ie="",Ge=!1,Ne=!1,We=!1,st=!1;if(n){const Be=vt.value;fe=a<=0,fe||(ye=a+P>=Y),a>m?(Ie="right",a+P>=Y-Be&&(st=!0)):(Ie="left",a<=Be&&(We=!0)),c.checkScrolling(),d.lastScrollLeft=a}if(o){const Be=Je.value;X=r<=0,X||(ee=r+z>=T),r>x?(Ie="bottom",r+z>=T-Be&&(Ne=!0)):(Ie="top",r<=Be&&(Ge=!0)),d.lastScrollTop=r}p.isDragColMove=!1,p.isDragRowMove=!1,p.lastScrollTime=Date.now();const Ze=Object.assign({scrollTop:r,scrollLeft:a,bodyHeight:z,bodyWidth:P,scrollHeight:T,scrollWidth:Y,isX:n,isY:o,isTop:X,isBottom:ee,isLeft:fe,isRight:ye,direction:Ie},f);jl(),Ca(n,o),(D.isHover||h)&&c.clearHoverRow(),O&&O.reactData.visible&&O.close(),H&&H.reactData.visible&&H.close(),(Ne||Ge||st||We)&&$t("scroll-boundary",Ze,t),$t("scroll",Ze,t)},triggerScrollXEvent(){lt.value.immediate?ln():xa()},triggerScrollYEvent(){bt.value.immediate?rr():va()},triggerBodyScrollEvent(t,o){const{scrollYLoad:n,scrollXLoad:r}=p,{elemStore:a,intoRunScroll:f,lastScrollTop:h,lastScrollLeft:m,inWheelScroll:x,inVirtualScroll:v,inHeaderScroll:R,inBodyScroll:D,scrollRenderType:O,inFooterScroll:H}=d;if(x||v||R||H)return;const z=J.value,P=re.value,T=ot(a["left-body-scroll"]),Y=ot(a["main-body-scroll"]),X=ot(a["right-body-scroll"]),ee=ot(a["main-header-scroll"]),fe=ot(a["main-footer-scroll"]),ye=G.value;if(f||!Y||!z||!P||D&&O!==o)return;let Ie=P.scrollTop,Ge=z.scrollLeft;T&&o==="left"?Ie=T.scrollTop:X&&o==="right"?Ie=X.scrollTop:(Ie=Y.scrollTop,Ge=Y.scrollLeft);const Ne=Ge!==m,We=Ie!==h;d.inBodyScroll=!0,d.scrollRenderType=o,We&&(o==="left"?(Yt(Y,Ie),Yt(X,Ie)):o==="right"?(Yt(Y,Ie),Yt(T,Ie)):(Yt(T,Ie),Yt(X,Ie)),Yt(P,Ie),Yt(ye,Ie),n&&c.triggerScrollYEvent(t)),Ne&&(Ut(z,Ge),Ut(ee,Ge),Ut(fe,Ge),r&&c.triggerScrollXEvent(t)),c.handleScrollEvent(t,We,Ne,Ie,Ge,{type:"body",fixed:o})},triggerHeaderScrollEvent(t,o){const{scrollXLoad:n}=p,{elemStore:r,intoRunScroll:a,inWheelScroll:f,inVirtualScroll:h,inBodyScroll:m,inFooterScroll:x}=d;if(f||h||m||x)return;const v=re.value,R=J.value,D=ot(r["main-body-scroll"]),O=ot(r["main-header-scroll"]),H=ot(r["main-footer-scroll"]);if(a||!O||!R||!v)return;const z=v.scrollTop,P=O.scrollLeft,T=!0,Y=!1;d.inHeaderScroll=!0,Ut(R,P),Ut(H,P),Ut(D,P),n&&c.triggerScrollXEvent(t),c.handleScrollEvent(t,Y,T,z,P,{type:"header",fixed:o})},triggerFooterScrollEvent(t,o){const{scrollXLoad:n}=p,{elemStore:r,intoRunScroll:a,inWheelScroll:f,inVirtualScroll:h,inHeaderScroll:m,inBodyScroll:x}=d;if(f||h||m||x)return;const v=re.value,R=J.value,D=ot(r["main-body-scroll"]),O=ot(r["main-header-scroll"]),H=ot(r["main-footer-scroll"]);if(a||!H||!R||!v)return;const z=v.scrollTop,P=H.scrollLeft,T=!0,Y=!1;d.inFooterScroll=!0,Ut(R,P),Ut(O,P),Ut(D,P),n&&c.triggerScrollXEvent(t),c.handleScrollEvent(t,Y,T,z,P,{type:"footer",fixed:o})},triggerBodyWheelEvent(t){const{target:o,deltaY:n,deltaX:r,shiftKey:a}=t;if(o&&/^textarea$/i.test(o.tagName))return;const{highlightHoverRow:f}=Or,{scrollXLoad:h,scrollYLoad:m,expandColumn:x}=p,v=Ht.value,R=bo.value;if(!(v||R||x))return;const{elemStore:D,lastScrollTop:O,lastScrollLeft:H}=d,z=ae.value,P=J.value,T=re.value,Y=ot(D["left-body-scroll"]),X=ot(D["main-header-scroll"]),ee=ot(D["main-body-scroll"]),fe=ot(D["main-footer-scroll"]),ye=ot(D["right-body-scroll"]),Ie=G.value;if(!P||!T||!ee)return;const Ge=wa(p.lastScrollTime),Ne=a?0:Math.ceil(n*Ge),We=a?Math.ceil((a&&n||r)*Ge):0,st=Ne<0,Ze=ee.scrollTop;if(st?Ze<=0:Ze>=ee.scrollHeight-ee.clientHeight)return;const Be=Ze+Ne,$e=ee.scrollLeft+We,ht=$e!==H,jt=Be!==O;(z.isHover||f)&&c.clearHoverRow(),ht&&(t.preventDefault(),d.inWheelScroll=!0,Ea($e,Kt=>{d.inWheelScroll=!0;const kt=Kt;Ut(P,kt),Ut(ee,kt),Ut(X,kt),Ut(fe,kt),h&&c.triggerScrollXEvent(t),c.handleScrollEvent(t,jt,ht,ee.scrollTop,kt,{type:"table",fixed:""})})),jt&&(t.preventDefault(),d.inWheelScroll=!0,ya(Be-Ze,Kt=>{d.inWheelScroll=!0;const kt=ee.scrollTop+Kt;Yt(T,kt),Yt(ee,kt),Yt(Y,kt),Yt(ye,kt),Yt(Ie,kt),m&&c.triggerScrollYEvent(t),c.handleScrollEvent(t,jt,ht,kt,ee.scrollLeft,{type:"table",fixed:""})}))},triggerVirtualScrollXEvent(t){const{scrollXLoad:o}=p,{elemStore:n,inWheelScroll:r,lastScrollTop:a,inHeaderScroll:f,inBodyScroll:h,inFooterScroll:m}=d;if(f||h||m||r)return;const x=ot(n["main-header-scroll"]),v=ot(n["main-body-scroll"]),R=ot(n["main-footer-scroll"]),D=re.value,O=t.currentTarget,{scrollLeft:H}=O,z=D||v;let P=0;z&&(P=z.scrollTop);const T=!0,Y=P!==a;d.inVirtualScroll=!0,Ut(v,H),Ut(x,H),Ut(R,H),o&&c.triggerScrollXEvent(t),c.handleScrollEvent(t,Y,T,P,H,{type:"table",fixed:""})},triggerVirtualScrollYEvent(t){const{scrollYLoad:o}=p,{elemStore:n,inWheelScroll:r,lastScrollLeft:a,inHeaderScroll:f,inBodyScroll:h,inFooterScroll:m}=d;if(f||h||m||r)return;const x=ot(n["left-body-scroll"]),v=ot(n["main-body-scroll"]),R=ot(n["right-body-scroll"]),D=G.value,O=J.value,H=t.currentTarget,{scrollTop:z}=H,P=O||v;let T=0;P&&(T=P.scrollLeft);const Y=T!==a,X=!0;d.inVirtualScroll=!0,Yt(v,z),Yt(x,z),Yt(R,z),Yt(D,z),o&&c.triggerScrollYEvent(t),c.handleScrollEvent(t,X,Y,z,T,{type:"table",fixed:""})},scrollToTreeRow(t){const{treeConfig:o}=e,{tableFullData:n}=d,r=[];if(o){const a=it.value,f=a.children||a.childrenField,h=s.findTree(n,m=>c.eqRow(m,t),{children:f});if(h){const m=h.nodes;m.forEach((x,v)=>{v<m.length-1&&!S.isTreeExpandByRow(x)&&r.push(S.setTreeExpand(x,!0))})}}return Promise.all(r).then(()=>Us(c,t))},updateScrollYStatus:nr,updateScrollXSpace(){const{isGroup:t,scrollXLoad:o,overflowX:n,scrollXWidth:r}=p,{visibleColumn:a,scrollXStore:f,elemStore:h,fullColumnIdData:m}=d,x=y.value;if(x?x.$el:null){const R=ot(h["main-body-scroll"]),D=ot(h["main-body-table"]),O=ot(h["main-header-table"]),H=ot(h["main-footer-table"]);let z=0;const P=a[f.startIndex];P&&(z=(m[P.id]||{}).oLeft);let T=0;R&&(T=R.clientWidth);let Y=!1,X=r;r>fn&&(R&&D&&R.scrollLeft+T>=fn?z=fn-D.clientWidth:z=(fn-T)*(z/(r-T)),X=fn,Y=!0);let ee="";o&&n&&(ee=`${z}px`),O&&(O.style.marginLeft=t?"":ee),D&&(D.style.marginLeft=ee),H&&(H.style.marginLeft=ee),p.isScrollXBig=Y,["main"].forEach(Ie=>{["header","body","footer"].forEach(Ne=>{const We=ot(h[`${Ie}-${Ne}-xSpace`]);We&&(We.style.width=o?`${X}px`:"")})});const ye=Ce.value;ye&&(ye.style.width=`${X}px`),ue(()=>{ho()})}},updateScrollYSpace(){const{isAllOverflow:t,scrollYLoad:o,expandColumn:n}=p,{scrollYStore:r,elemStore:a,isResizeCellHeight:f,afterFullData:h,fullAllDataRowIdData:m,rowExpandedMaps:x}=d,{startIndex:v}=r,R=Pt.value,D=ae.value,O=et.value,H=Me.value,z=ot(a["main-body-scroll"]),P=ot(a["main-body-table"]),T=["main","left","right"];let Y=0,X=0,ee=!1;if(o)if(!(f||O.height||D.height)&&!n&&t)X=h.length*H,X>Xl&&(ee=!0),Y=Math.max(0,v*H);else{const st=h[v];let Ze=Pe(c,st),Be=m[Ze]||{};Y=Be.oTop;const $e=h[h.length-1];Ze=Pe(c,$e),Be=m[Ze]||{},X=Be.oTop+(Be.resizeHeight||O.height||D.height||Be.height||H),n&&x[Ze]&&(X+=Be.expandHeight||R.height||0),X>Xl&&(ee=!0)}else P&&(X=P.clientHeight);let fe=0;z&&(fe=z.clientHeight);let ye=X,Ie=Y;ee&&(z&&P&&z.scrollTop+fe>=Xl?Ie=Xl-P.clientHeight:Ie=(Xl-fe)*(Y/(X-fe)),ye=Xl),T.forEach(We=>{const st=["header","body","footer"],Ze=ot(a[`${We}-body-table`]);Ze&&(Ze.style.marginTop=Ie?`${Ie}px`:""),st.forEach(Be=>{const $e=ot(a[`${We}-${Be}-ySpace`]);$e&&($e.style.height=ye?`${ye}px`:"")})});const Ge=Le.value;Ge&&(Ge.style.height=ye?`${ye}px`:"");const Ne=ie.value;return Ne&&(Ne.style.height=ye?`${ye}px`:""),p.scrollYTop=Ie,p.scrollYHeight=X,p.isScrollYBig=ee,ue().then(()=>{ho()})},updateScrollXData(){const{isAllOverflow:t}=p;return _r(),c.updateScrollYSpace(),ue().then(()=>{_r(),c.updateScrollXSpace(),t||c.updateScrollYSpace()})},updateScrollYData(){return c.handleTableData(),c.updateScrollYSpace(),ue().then(()=>{c.handleTableData(),c.updateScrollYSpace()})},checkScrolling(){const{elemStore:t}=d,o=ot(t["main-body-scroll"]),n=Ee.value,r=be.value,f=J.value||o;f&&(n&&(f.scrollLeft>0?ol(n,"scrolling--middle"):Po(n,"scrolling--middle")),r&&(f.clientWidth<f.scrollWidth-Math.ceil(f.scrollLeft)?ol(r,"scrolling--middle"):Po(r,"scrolling--middle")))},updateZindex(){e.zIndex?d.tZindex=e.zIndex:d.tZindex<ki()&&(d.tZindex=Ii())},handleCheckedCheckboxRow:uo,triggerHoverEvent(t,{row:o}){q.setHoverRow(o)},setHoverRow(t){const o=Pe(c,t),n=I.value;q.clearHoverRow(),n&&s.arrayEach(n.querySelectorAll(`.vxe-body--row[rowid="${o}"]`),r=>ol(r,"row--hover")),d.hoverRow=t},clearHoverRow(){const t=I.value;t&&s.arrayEach(t.querySelectorAll(".vxe-body--row.row--hover"),o=>Po(o,"row--hover")),d.hoverRow=null},getCell(t,o){return S.getCellElement(t,o)},findRowIndexOf(t,o){return o?s.findIndexOf(t,n=>c.eqRow(n,o)):-1},eqRow(t,o){return t&&o?t===o?!0:Pe(c,t)===Pe(c,o):!1}},"openExport,openPrint,exportData,openImport,importData,saveFile,readFile,importByFile,print".split(",").forEach(t=>{c[t]=function(){Qe("vxe.error.reqModule",["VxeTableExportModule"])}}),"clearValidate,fullValidate,validate".split(",").forEach(t=>{c[t]=function(){Qe("vxe.error.reqModule",["VxeTableValidatorModule"])}}),Object.assign(c,S,q);const Bs=t=>{const{showHeader:o,showFooter:n}=e,{tableData:r,tableColumn:a,tableGroupColumn:f,columnStore:h,footerTableData:m}=p,x=t==="left",v=x?h.leftList:h.rightList;return g("div",{ref:x?Ee:be,class:`vxe-table--fixed-${t}-wrapper`},[o?g(ni,{ref:x?U:W,fixedType:t,tableData:r,tableColumn:a,tableGroupColumn:f,fixedColumn:v}):Mo(c),g(oi,{ref:x?ne:he,fixedType:t,tableData:r,tableColumn:a,fixedColumn:v}),n?g(ii,{ref:x?F:Se,footerTableData:m,tableColumn:a,fixedColumn:v,fixedType:t}):Mo(c)])},Ba=()=>{const t=co.value,o={$table:c};if(i.empty)return i.empty(o);{const n=t.name?ci.get(t.name):null,r=n?n.renderTableEmpty||n.renderTableEmptyView||n.renderEmpty:null;if(r)return To(r(t,o))}return gl(e.emptyText)||il("vxe.table.emptyText")},$a=()=>{const{dragConfig:t}=e,{dragRow:o,dragCol:n,dragTipText:r}=p,a=Xe.value,m=(Ae.value.slots||{}).tip||(t&&t.slots?t.slots.rowTip:null),v=(a.slots||{}).tip;return o&&m?Pn(m,{row:o}):n&&v?Pn(v,{column:n}):[g("span",r)]},Va=()=>{const{dragRow:t,dragCol:o}=p,n=ae.value,r=qe.value,a=Ae.value,f=Xe.value;return n.drag||r.drag?g("div",{class:"vxe-table--drag-wrapper"},[g("div",{ref:se,class:["vxe-table--drag-row-line",{"is--guides":a.showGuidesStatus}]}),g("div",{ref:N,class:["vxe-table--drag-col-line",{"is--guides":f.showGuidesStatus}]}),t&&a.showDragTip||o&&f.showDragTip?g("div",{ref:A,class:"vxe-table--drag-sort-tip"},[g("div",{class:"vxe-table--drag-sort-tip-wrapper"},[g("div",{class:"vxe-table--drag-sort-tip-status"},[g("span",{class:["vxe-table--drag-sort-tip-normal-status",t?mr().TABLE_DRAG_STATUS_ROW:mr().TABLE_DRAG_STATUS_COLUMN]}),g("span",{class:["vxe-table--drag-sort-tip-sub-status",mr().TABLE_DRAG_STATUS_SUB_ROW]}),g("span",{class:["vxe-table--drag-sort-tip-disabled-status",mr().TABLE_DRAG_DISABLED]})]),g("div",{class:"vxe-table--drag-sort-tip-content"},$a())])]):Mo(c)]):Mo(c)},za=()=>{const{treeConfig:t}=e,{expandColumn:o}=p,n=Ql.value,r=Pt.value,{mode:a}=r;if(a!=="fixed")return Mo(c);const f=[g("div",{key:"repY",ref:ie})];if(o){const{handleGetRowId:h}=fo(c);n.forEach(m=>{const x=Pt.value,{height:v,padding:R}=x,{fullAllDataRowIdData:D}=d,O=it.value,{transform:H,seqMode:z}=O,P={},T=h(m),Y=D[T];let X=0,ee=-1,fe=0;const ye=c.getRowIndex(m),Ie=c.getVMRowIndex(m);Y&&(X=Y.level,t&&H&&z==="increasing"?ee=Y._index+1:ee=Y.seq,fe=Y._index),v&&(P.height=`${v}px`),t&&(P.paddingLeft=`${X*O.indent+30}px`);const Ge={$table:c,seq:ee,column:o,fixed:"",type:"body",level:X,row:m,rowIndex:ye,$rowIndex:Ie,_rowIndex:fe};f.push(g("div",{key:T,class:["vxe-body--row-expanded-cell",{"is--padding":R,"is--ellipsis":v}],rowid:T,style:P},o.renderData(Ge)))})}return g("div",{ref:G,class:"vxe-table--row-expanded-wrapper"},f)},$s=()=>g("div",{key:"vsx",ref:pe,class:"vxe-table--scroll-x-virtual"},[g("div",{ref:we,class:"vxe-table--scroll-x-left-corner"}),g("div",{ref:me,class:"vxe-table--scroll-x-wrapper"},[g("div",{ref:J,class:"vxe-table--scroll-x-handle",onScroll:c.triggerVirtualScrollXEvent},[g("div",{ref:Ce,class:"vxe-table--scroll-x-space"})])]),g("div",{ref:Q,class:"vxe-table--scroll-x-right-corner"})]),Vs=()=>g("div",{ref:xe,class:"vxe-table--scroll-y-virtual"},[g("div",{ref:ve,class:"vxe-table--scroll-y-top-corner"}),g("div",{ref:Z,class:"vxe-table--scroll-y-wrapper"},[g("div",{ref:re,class:"vxe-table--scroll-y-handle",onScroll:c.triggerVirtualScrollYEvent},[g("div",{ref:Le,class:"vxe-table--scroll-y-space"})])]),g("div",{ref:Te,class:"vxe-table--scroll-y-bottom-corner"})]),zs=()=>{const{showHeader:t,showFooter:o}=e,{overflowX:n,tableData:r,tableColumn:a,tableGroupColumn:f,footerTableData:h,columnStore:m}=p,{leftList:x,rightList:v}=m;return g("div",{ref:V,class:"vxe-table--viewport-wrapper"},[g("div",{class:"vxe-table--main-wrapper"},[t?g(ni,{ref:w,tableData:r,tableColumn:a,tableGroupColumn:f}):Mo(c),g(oi,{ref:y,tableData:r,tableColumn:a}),o?g(ii,{ref:j,footerTableData:h,tableColumn:a}):Mo(c)]),g("div",{class:"vxe-table--fixed-wrapper"},[x&&x.length&&n?Bs("left"):Mo(c),v&&v.length&&n?Bs("right"):Mo(c)]),za()])},js=()=>{const t=_e.value;return g("div",{class:"vxe-table--layout-wrapper"},t?[Vs(),zs()]:[zs(),Vs()])},ja=()=>{const{loading:t,stripe:o,showHeader:n,height:r,treeConfig:a,mouseConfig:f,showFooter:h,highlightCell:m,highlightHoverRow:x,highlightHoverColumn:v,editConfig:R,editRules:D}=e,{isGroup:O,overflowX:H,overflowY:z,scrollXLoad:P,scrollYLoad:T,tableData:Y,initStore:X,columnStore:ee,filterStore:fe,customStore:ye}=p,{leftList:Ie,rightList:Ge}=ee,Ne=i.loading,We=zt.value,st=qt.value,Ze=mt.value,Be=ut.value,$e=it.value,ht=ae.value,jt=qe.value,Kt=le.value,kt=Gn.value,Mt=Dt.value,At=Xt.value,Lt=vo.value,oo=eo.value,ro=p.isColLoading||p.isRowLoading||t,io=ct.value,Co=f&&Mt.area,Oo=Xe.value,Vt=Ve.value,Nt=_e.value;return g("div",{ref:I,class:["vxe-table","vxe-table--render-default",`tid_${C}`,`border--${kt}`,`sx-pos--${Vt?"top":"bottom"}`,`sy-pos--${Nt?"left":"right"}`,{[`size--${Kt}`]:Kt,[`valid-msg--${Ze.msgMode}`]:!!D,"vxe-editable":!!R,"old-cell-valid":D&&wt().cellVaildMode==="obsolete","cell--highlight":m,"cell--selected":f&&Mt.selected,"cell--area":Co,"header-cell--area":Co&&At.selectCellByHeader,"body-cell--area":Co&&At.selectCellByBody,"row--highlight":ht.isHover||x,"column--highlight":jt.isHover||v,"checkbox--range":Be.range,"col--drag-cell":jt.drag&&Oo.trigger==="cell","is--header":n,"is--footer":h,"is--group":O,"is--tree-line":a&&($e.showLine||$e.line),"is--fixed-left":Ie.length,"is--fixed-right":Ge.length,"is--animat":!!e.animat,"is--round":e.round,"is--stripe":!a&&o,"is--loading":ro,"is--empty":!ro&&!Y.length,"is--scroll-y":z,"is--scroll-x":H,"is--virtual-x":P,"is--virtual-y":T}],spellcheck:!1,onKeydown:Ma},[g("div",{class:"vxe-table-slots"},i.default?i.default({}):[]),g("div",{ref:B,class:"vxe-table-vars"},[g("div",{class:"vxe-table-var-default"}),g("div",{class:"vxe-table-var-medium"}),g("div",{class:"vxe-table-var-small"}),g("div",{class:"vxe-table-var-mini"})]),g("div",{key:"tw",class:"vxe-table--render-wrapper"},Vt?[$s(),js()]:[js(),$s()]),g("div",{key:"tn",ref:De,class:"vxe-table--empty-placeholder"},[g("div",{class:"vxe-table--empty-content"},Ba())]),g("div",{key:"tl",class:"vxe-table--border-line"}),g("div",{key:"tcl",ref:Oe,class:"vxe-table--resizable-col-bar"},io.showDragTip?[g("div",{class:"vxe-table--resizable-number-tip"})]:[]),g("div",{key:"trl",ref:He,class:"vxe-table--resizable-row-bar"},io.showDragTip?[g("div",{class:"vxe-table--resizable-number-tip"})]:[]),E?g(E,{key:"lg",class:"vxe-table--loading",modelValue:ro,icon:Lt.icon,text:Lt.text},Ne?{default:()=>Pn(Ne,{$table:c,$grid:Fe,loading:ro})}:{}):Ne?g("div",{class:["vxe-loading--custom-wrapper",{"is--visible":ro}]},Pn(Ne,{$table:c,$grid:Fe,loading:ro})):Mo(c),X.custom?g(Rc,{key:"cs",ref:ce,customStore:ye}):Mo(c),X.filter?g(Sc,{key:"tf",ref:te,filterStore:fe}):Mo(c),X.import&&e.importConfig?g(Dc,{key:"it",defaultOptions:p.importParams,storeData:p.importStore}):Mo(c),X.export&&(e.exportConfig||e.printConfig)?g(Mc,{key:"et",defaultOptions:p.exportParams,storeData:p.exportStore}):Mo(c),oo?g(Fc,{key:"tm",ref:_}):Mo(c),Va(),M?g("div",{},[g(M,{key:"ctp",ref:L,isArrow:!1,enterable:!1}),g(M,{key:"btp",ref:oe,theme:We.theme,enterable:We.enterable,enterDelay:We.enterDelay,leaveDelay:We.leaveDelay}),e.editRules&&Ze.showMessage&&(Ze.message==="default"?!r:Ze.message==="tooltip")?g(M,{key:"vtp",ref:k,class:[{"old-cell-valid":D&&wt().cellVaildMode==="obsolete"},"vxe-table--valid-error"],theme:st.theme,enterable:st.enterable,enterDelay:st.enterDelay,leaveDelay:st.leaveDelay}):Mo(c)]):Mo(c)])},Gr=je(0);Rt(()=>e.data?e.data.length:-1,()=>{Gr.value++}),Rt(()=>e.data,()=>{Gr.value++}),Rt(Gr,()=>{const{initStatus:t}=d,o=e.data||[];o.length>=5e4&&St("vxe.error.errLargeData",["loadData(data), reloadData(data)"]),tr(o,!1).then(()=>{const{scrollXLoad:n,scrollYLoad:r,expandColumn:a}=p,f=Pt.value;return d.inited=!0,d.initStatus=!0,t||or(),(n||r)&&a&&f.mode!=="fixed"&&St("vxe.error.scrollErrProp",["column.type=expand"]),S.recalculate()})});const Ur=je(0);Rt(()=>p.staticColumns.length,()=>{Ur.value++}),Rt(()=>p.staticColumns,()=>{Ur.value++}),Rt(Ur,()=>{Ms(s.clone(p.staticColumns))});const Zr=je(0);Rt(()=>p.tableColumn.length,()=>{Zr.value++}),Rt(()=>p.tableColumn,()=>{Zr.value++}),Rt(Zr,()=>{q.analyColumnWidth()}),Rt(()=>p.upDataFlag,()=>{ue(()=>{S.updateData()})}),Rt(()=>p.reColumnFlag,()=>{ue(()=>{S.refreshColumn()})});const rn=je(0);Rt(le,()=>{rn.value++}),Rt(()=>e.showHeader,()=>{rn.value++}),Rt(()=>e.showFooter,()=>{rn.value++}),Rt(()=>p.overflowX,()=>{rn.value++}),Rt(()=>p.overflowY,()=>{rn.value++}),Rt(rn,()=>{ue(()=>{S.recalculate(!0).then(()=>S.refreshScroll())})});const sn=je(0);Rt(()=>e.height,()=>{sn.value++}),Rt(()=>e.maxHeight,()=>{sn.value++}),Rt(Ve,()=>{sn.value++}),Rt(_e,()=>{sn.value++}),Rt(()=>ge.getLanguage(),()=>{sn.value++}),Rt(sn,()=>{ue(()=>S.recalculate(!0))});const Qr=je(0);Rt(()=>e.footerData?e.footerData.length:-1,()=>{Qr.value++}),Rt(()=>e.footerData,()=>{Qr.value++}),Rt(Qr,()=>{S.updateFooter()}),Rt(()=>e.syncResize,t=>{t&&(Xr(),ue(()=>{Xr(),setTimeout(()=>Xr())}))});const Jr=je(0);Rt(()=>e.mergeCells?e.mergeCells.length:-1,()=>{Jr.value++}),Rt(()=>e.mergeCells,()=>{Jr.value++}),Rt(Jr,()=>{S.clearMergeCells(),ue(()=>{e.mergeCells&&S.setMergeCells(e.mergeCells)})});const es=je(0);Rt(()=>e.mergeFooterItems?e.mergeFooterItems.length:-1,()=>{es.value++}),Rt(()=>e.mergeFooterItems,()=>{es.value++}),Rt(es,()=>{S.clearMergeFooterItems(),ue(()=>{e.mergeFooterItems&&S.setMergeFooterItems(e.mergeFooterItems)})}),$&&Rt(()=>$?$.reactData.resizeFlag:null,()=>{Hs()}),Ac.forEach(t=>{const{setupTable:o}=t;if(o){const n=o(c);n&&s.isObject(n)&&Object.assign(c,n)}}),q.preventEvent(null,"created",{$table:c});let Bn;return Wa(()=>{S.recalculate().then(()=>S.refreshScroll()),q.preventEvent(null,"activated",{$table:c})}),qa(()=>{d.isActivated=!1,q.preventEvent(null,"deactivated",{$table:c})}),Ul(()=>{const t=qe.value,o=ae.value,n=Bo.value;(t.drag||o.drag||n.allowSort)&&Li(),ue(()=>{const{data:a,exportConfig:f,importConfig:h,treeConfig:m,showOverflow:x}=e,{scrollXStore:v,scrollYStore:R}=d,D=no.value,O=it.value,H=xt.value,z=ut.value,P=Pt.value,T=ae.value,Y=Bo.value,X=Dt.value,ee=Ao.value,fe=So.value;if(e.rowId&&St("vxe.error.delProp",["row-id","row-config.keyField"]),e.rowKey&&St("vxe.error.delProp",["row-key","row-config.useKey"]),e.columnKey&&St("vxe.error.delProp",["column-id","column-config.useKey"]),!(e.rowId||T.keyField)&&(z.reserve||z.checkRowKeys||H.reserve||H.checkRowKey||P.expandRowKeys||O.expandRowKeys)&&St("vxe.error.reqProp",["row-config.keyField"]),e.editConfig&&(D.showStatus||D.showUpdateStatus||D.showInsertStatus)&&!e.keepSource&&St("vxe.error.reqProp",["keep-source"]),m&&(O.showLine||O.line)&&(!(e.rowKey||T.useKey)||!x)&&St("vxe.error.reqProp",["row-config.useKey | show-overflow"]),m&&!O.transform&&e.stripe&&St("vxe.error.noTree",["stripe"]),e.showFooter&&!(e.footerMethod||e.footerData)&&St("vxe.error.reqProp",["footer-data | footer-method"]),T.height&&St("vxe.error.delProp",["row-config.height","cell-config.height"]),e.highlightCurrentRow&&St("vxe.error.delProp",["highlight-current-row","row-config.isCurrent"]),e.highlightHoverRow&&St("vxe.error.delProp",["highlight-hover-row","row-config.isHover"]),e.highlightCurrentColumn&&St("vxe.error.delProp",["highlight-current-column","column-config.isCurrent"]),e.highlightHoverColumn&&St("vxe.error.delProp",["highlight-hover-column","column-config.isHover"]),h&&fe.types&&!fe.importMethod&&!s.includeArrays(s.keys(fe._typeMaps),fe.types)&&St("vxe.error.errProp",[`export-config.types=${fe.types.join(",")}`,fe.types.filter(ye=>s.includes(s.keys(fe._typeMaps),ye)).join(",")||s.keys(fe._typeMaps).join(",")]),f&&ee.types&&!ee.exportMethod&&!s.includeArrays(s.keys(ee._typeMaps),ee.types)&&St("vxe.error.errProp",[`export-config.types=${ee.types.join(",")}`,ee.types.filter(ye=>s.includes(s.keys(ee._typeMaps),ye)).join(",")||s.keys(ee._typeMaps).join(",")]),e.id||(e.customConfig?gt(Y):Y.enabled)&&Y.storage&&Qe("vxe.error.reqProp",["id"]),e.treeConfig&&z.range&&Qe("vxe.error.noTree",["checkbox-config.range"]),T.height&&!e.showOverflow&&St("vxe.error.notProp",["table.show-overflow"]),!c.handleCellAreaMousedownEvent&&(e.areaConfig&&St("vxe.error.notProp",["area-config"]),e.clipConfig&&St("vxe.error.notProp",["clip-config"]),e.fnrConfig&&St("vxe.error.notProp",["fnr-config"]),X.area)){Qe("vxe.error.notProp",["mouse-config.area"]);return}if(m&&T.drag&&!O.transform&&Qe("vxe.error.notSupportProp",["column-config.drag","tree-config.transform=false","tree-config.transform=true"]),e.dragConfig&&St("vxe.error.delProp",["drag-config","row-drag-config"]),e.treeConfig&&O.children&&St("vxe.error.delProp",["tree-config.children","tree-config.childrenField"]),e.treeConfig&&O.line&&St("vxe.error.delProp",["tree-config.line","tree-config.showLine"]),X.area&&X.selected&&St("vxe.error.errConflicts",["mouse-config.area","mouse-config.selected"]),X.area&&e.treeConfig&&!O.transform&&Qe("vxe.error.noTree",["mouse-config.area"]),e.editConfig&&D.activeMethod&&St("vxe.error.delProp",["edit-config.activeMethod","edit-config.beforeEditMethod"]),e.treeConfig&&z.isShiftKey&&Qe("vxe.error.errConflicts",["tree-config","checkbox-config.isShiftKey"]),z.halfField&&St("vxe.error.delProp",["checkbox-config.halfField","checkbox-config.indeterminateField"]),e.editConfig&&!c.insert&&Qe("vxe.error.reqModule",["Edit"]),e.editRules&&!c.validate&&Qe("vxe.error.reqModule",["Validator"]),(z.range||e.keyboardConfig||e.mouseConfig)&&!c.handleCellMousedownEvent&&Qe("vxe.error.reqModule",["Keyboard"]),(e.printConfig||e.importConfig||e.exportConfig)&&!c.exportData&&Qe("vxe.error.reqModule",["Export"]),Object.assign(R,{startIndex:0,endIndex:0,visibleSize:0}),Object.assign(v,{startIndex:0,endIndex:0,visibleSize:0}),tr(a||[],!0).then(()=>{a&&a.length&&(d.inited=!0,d.initStatus=!0,or()),ga(),ho()}),e.autoResize){const ye=I.value,Ie=q.getParentElem();Bn=kc.create(()=>{e.autoResize&&S.recalculate(!0)}),ye&&Bn.observe(ye),Ie&&Bn.observe(Ie)}});const r=V.value;r&&r.addEventListener("wheel",c.triggerBodyWheelEvent,{passive:!1}),Wt.on(c,"paste",Fa),Wt.on(c,"copy",Ia),Wt.on(c,"cut",ka),Wt.on(c,"mousedown",Sa),Wt.on(c,"blur",Oa),Wt.on(c,"mousewheel",Da),Wt.on(c,"keydown",Ta),Wt.on(c,"resize",Hs),Wt.on(c,"contextmenu",c.handleGlobalContextmenuEvent),q.preventEvent(null,"mounted",{$table:c})}),Xa(()=>{const t=V.value;t&&t.removeEventListener("wheel",c.triggerBodyWheelEvent),Bn&&Bn.disconnect(),S.closeFilter(),c.closeMenu&&c.closeMenu(),q.preventEvent(null,"beforeUnmount",{$table:c})}),Zl(()=>{Wt.off(c,"paste"),Wt.off(c,"copy"),Wt.off(c,"cut"),Wt.off(c,"mousedown"),Wt.off(c,"blur"),Wt.off(c,"mousewheel"),Wt.off(c,"keydown"),Wt.off(c,"resize"),Wt.off(c,"contextmenu"),q.preventEvent(null,"unmounted",{$table:c})}),ue(()=>{e.loading&&!E&&!i.loading&&Qe("vxe.error.reqComp",["vxe-loading"]),(e.showOverflow===!0||e.showOverflow==="tooltip"||e.showHeaderOverflow===!0||e.showHeaderOverflow==="tooltip"||e.showFooterOverflow===!0||e.showFooterOverflow==="tooltip"||e.tooltipConfig||e.editRules)&&(M||Qe("vxe.error.reqComp",["vxe-tooltip"]))}),Gl("$xeColgroup",null),Gl("$xeTable",c),c.renderVN=ja,c},render(){return this.renderVN()}});function Hc(e){const l=ze(()=>{const{renderParams:b}=e;return b.column}),i=ze(()=>{const{renderParams:b}=e;return b.row}),u=ze(()=>{const{renderOpts:b}=e;return b.props||{}}),C=ze({get(){const{renderParams:b}=e,{row:E,column:M}=b;return s.get(E,M.field)},set(b){const{renderParams:E}=e,{row:M,column:$}=E;return s.set(M,$.field,b)}});return{currColumn:l,currRow:i,cellModel:C,cellOptions:u}}const{renderer:hi,hooks:Pc}=ge,Bc=["openFilter","setFilter","clearFilter","saveFilterPanel","resetFilterPanel","getCheckedFilters","updateFilterOptionStatus"];Pc.add("tableFilterModule",{setupTable(e){const{props:l,reactData:i,internalData:u}=e,{refElem:C,refTableFilter:b}=e.getRefMaps(),{computeFilterOpts:E,computeMouseOpts:M}=e.getComputeMaps(),$=I=>{const{filterStore:B}=i;B.options.forEach(oe=>{oe.checked=oe._checked}),e.confirmFilterEvent(I)},le=(I,B,oe)=>{const{filterStore:L}=i;L.options.forEach(k=>{k._checked=!1}),oe._checked=B,e.checkFilterOptions(),$(I)},p=(I,B,oe)=>{oe._checked=B,e.checkFilterOptions()},d=I=>{const{filterStore:B}=i;e.handleClearFilter(B.column),e.confirmFilterEvent(I)},S={checkFilterOptions(){const{filterStore:I}=i;I.isAllSelected=I.options.every(B=>B._checked),I.isIndeterminate=!I.isAllSelected&&I.options.some(B=>B._checked)},triggerFilterEvent(I,B,oe){const{initStore:L,filterStore:k}=i,{elemStore:_}=u;if(k.column===B&&k.visible)k.visible=!1;else{const{clientY:te,pageX:ce}=I,V=C.value,w=V.getBoundingClientRect(),y=I.target,{visibleWidth:j}=Ir(),{filters:U,filterMultiple:ne,filterRender:F}=B,W=gt(F)?hi.get(F.name):null,he=B.filterRecoverMethod||(W?W.tableFilterRecoverMethod||W.filterRecoverMethod:null);u._currFilterParams=oe,Object.assign(k,{multiple:ne,options:U,column:B,style:null}),k.options.forEach(Se=>{const{_checked:Ee,checked:be}=Se;Se._checked=be,!be&&Ee!==be&&he&&he({option:Se,column:B,$table:e})}),this.checkFilterOptions(),k.visible=!0,L.filter=!0,ue(()=>{const Se=ot(_["main-header-scroll"]);if(!Se)return;const Ee=b.value,be=Ee?Ee.$el:null;if(!be)return;const Oe=be.offsetWidth,He=be.querySelector(".vxe-table--filter-header"),De=be.querySelector(".vxe-table--filter-footer"),A=Oe/2,se=10,N=V.clientWidth-Oe-se;let G,ie;const pe=y.offsetParent,xe=pe.offsetParent,J={top:`${y.offsetTop+pe.offsetTop+y.offsetHeight}px`},we=Math.max(40,V.clientHeight-(te-w.y)-(He?He.clientHeight:0)-(De?De.clientHeight:0)-14);if(B.fixed==="left"?G=y.offsetLeft+pe.offsetLeft-A:B.fixed==="right"?ie=pe.offsetWidth-y.offsetLeft+(xe.offsetWidth-xe.offsetLeft)-B.renderWidth-A:G=y.offsetLeft+pe.offsetLeft-A-Se.scrollLeft,G){const Q=ce+Oe-A+se-j;Q>0&&(G-=Q),J.left=`${Math.min(N,Math.max(se,G))}px`}else if(ie){const Q=ce+Oe-A+se-j;Q>0&&(ie+=Q),J.right=`${Math.max(se,ie)}px`}k.style=J,k.maxHeight=we})}e.dispatchEvent("filter-visible",{column:B,field:B.field,property:B.field,filterList:e.getCheckedFilters(),visible:k.visible},I)},handleClearFilter(I){if(I){const{filters:B,filterRender:oe}=I;if(B){const L=gt(oe)?hi.get(oe.name):null,k=I.filterResetMethod||(L?L.tableFilterResetMethod||L.filterResetMethod:null);B.forEach(_=>{_._checked=!1,_.checked=!1,k||(_.data=s.clone(_.resetValue,!0))}),k&&k({options:B,column:I,$table:e})}}},handleColumnConfirmFilter(I,B){const{mouseConfig:oe}=l,{scrollXLoad:L,scrollYLoad:k}=i,_=E.value,te=M.value,{field:ce}=I,V=[],w=[];I.filters.forEach(U=>{U.checked&&(V.push(U.value),w.push(U.data))});const y=e.getCheckedFilters(),j={$table:e,$event:B,column:I,field:ce,property:ce,values:V,datas:w,filters:y,filterList:y};return _.remote||(e.handleTableData(!0),e.checkSelectionStatus()),oe&&te.area&&e.handleFilterEvent&&e.handleFilterEvent(B,j),B&&e.dispatchEvent("filter-change",j,B),e.closeFilter(),e.updateFooter().then(()=>{const{scrollXLoad:U,scrollYLoad:ne}=i;if(L||U||k||ne)return(L||U)&&e.updateScrollXSpace(),(k||ne)&&e.updateScrollYSpace(),e.refreshScroll()}).then(()=>(e.updateCellAreas(),e.recalculate(!0))).then(()=>{setTimeout(()=>e.recalculate(),50)})},confirmFilterEvent(I){const{filterStore:B}=i,{column:oe}=B;e.handleColumnConfirmFilter(oe,I)},handleFilterChangeRadioOption:le,handleFilterChangeMultipleOption:p,handleFilterChangeOption(I,B,oe){const{filterStore:L}=i;L.multiple?p(I,B,oe):le(I,B,oe)},handleFilterConfirmFilter:$,handleFilterResetFilter:d};return Object.assign(Object.assign({},{openFilter(I){const B=ao(e,I);if(B&&B.filters){const{elemStore:oe}=u,{fixed:L}=B;return e.scrollToColumn(B).then(()=>{const k=ot(oe[`${L||"main"}-header-wrapper`]||oe["main-header-wrapper"]);if(k){const _=k.querySelector(`.vxe-header--column.${B.id} .vxe-filter--btn`);tc(_,"click")}})}return ue()},setFilter(I,B,oe){const L=ao(e,I);return L&&L.filters&&(L.filters=Ni(B||[]),oe)?e.handleColumnConfirmFilter(L,new Event("click")):ue()},clearFilter(I){const{filterStore:B}=i,{tableFullColumn:oe}=u,L=E.value;let k;return I?(k=ao(e,I),k&&S.handleClearFilter(k)):oe.forEach(S.handleClearFilter),(!I||k!==B.column)&&Object.assign(B,{isAllSelected:!1,isIndeterminate:!1,style:null,options:[],column:null,multiple:!1,visible:!1}),L.remote?ue():e.updateData()},saveFilterPanel(){return $(null),ue()},resetFilterPanel(){return d(null),ue()},getCheckedFilters(){const{tableFullColumn:I}=u,B=[];return I.forEach(oe=>{const{field:L,filters:k}=oe,_=[],te=[];k&&k.length&&(k.forEach(ce=>{ce.checked&&(_.push(ce.value),te.push(ce.data))}),_.length&&B.push({column:oe,field:L,property:L,values:_,datas:te}))}),B},updateFilterOptionStatus(I,B){return I._checked=B,I.checked=B,ue()}}),S)},setupGrid(e){return e.extendTableMethods(Bc)}});const{menus:$c,hooks:Vc,globalEvents:br,GLOBAL_EVENT_KEYS:xr}=ge,zc=["closeMenu"];Vc.add("tableMenuModule",{setupTable(e){const{xID:l,props:i,reactData:u,internalData:C}=e,{refElem:b,refTableFilter:E,refTableMenu:M}=e.getRefMaps(),{computeMouseOpts:$,computeIsMenu:le,computeMenuOpts:p}=e.getComputeMaps();let d={},S={};const q=(I,B,oe)=>{const{ctxMenuStore:L}=u,k=le.value,_=p.value,te=_[B],ce=_.visibleMethod;if(te){const{options:V,disabled:w}=te;w?I.preventDefault():k&&V&&V.length&&(oe.options=V,e.preventEvent(I,"event.showMenu",oe,()=>{if(!ce||ce(oe)){I.preventDefault(),e.updateZindex();const{scrollTop:y,scrollLeft:j,visibleHeight:U,visibleWidth:ne}=Ir();let F=I.clientY+y,W=I.clientX+j;const he=()=>{C._currMenuParams=oe,Object.assign(L,{visible:!0,list:V,selected:null,selectChild:null,showChild:!1,style:{zIndex:C.tZindex,top:`${F}px`,left:`${W}px`}}),ue(()=>{const He=M.value.getRefMaps().refElem.value,De=He.clientHeight,A=He.clientWidth,{boundingTop:se,boundingLeft:N}=yr(He),G=se+De-U,ie=N+A-ne;G>-10&&(L.style.top=`${Math.max(y+2,F-De-2)}px`),ie>-10&&(L.style.left=`${Math.max(j+2,W-A-2)}px`)})},{keyboard:Se,row:Ee,column:be}=oe;Se&&Ee&&be?e.scrollToRow(Ee,be).then(()=>{const Oe=e.getCellElement(Ee,be);if(Oe){const{boundingTop:He,boundingLeft:De}=yr(Oe);F=He+y+Math.floor(Oe.offsetHeight/2),W=De+j+Math.floor(Oe.offsetWidth/2)}he()}):he()}else d.closeMenu()}))}e.closeFilter()};return d={closeMenu(){return Object.assign(u.ctxMenuStore,{visible:!1,selected:null,selectChild:null,showChild:!1}),ue()}},S={moveCtxMenu(I,B,oe,L,k,_){let te;const ce=s.findIndexOf(_,V=>B[oe]===V);if(L)k&&Cn(B.selected)?B.showChild=!0:(B.showChild=!1,B.selectChild=null);else if(br.hasKey(I,xr.ARROW_UP)){for(let V=ce-1;V>=0;V--)if(_[V].visible!==!1){te=_[V];break}B[oe]=te||_[_.length-1]}else if(br.hasKey(I,xr.ARROW_DOWN)){for(let V=ce+1;V<_.length;V++)if(_[V].visible!==!1){te=_[V];break}B[oe]=te||_[0]}else B[oe]&&(br.hasKey(I,xr.ENTER)||br.hasKey(I,xr.SPACEBAR))&&S.ctxMenuLinkEvent(I,B[oe])},handleOpenMenuEvent:q,handleGlobalContextmenuEvent(I){const{mouseConfig:B,menuConfig:oe}=i,{editStore:L,ctxMenuStore:k}=u,{visibleColumn:_}=C,te=E.value,ce=M.value,V=$.value,w=p.value,y=b.value,{selected:j}=L,U=["header","body","footer"];if(gt(oe)){if(k.visible&&ce&&Ft(I,ce.getRefMaps().refElem.value).flag){I.preventDefault();return}if(C._keyCtx){const ne="body",F={type:ne,$table:e,keyboard:!0,columns:_.slice(0),$event:I};if(B&&V.area){const W=e.getActiveCellArea();if(W&&W.row&&W.column){F.row=W.row,F.column=W.column,q(I,ne,F);return}}else if(B&&V.selected&&j.row&&j.column){F.row=j.row,F.column=j.column,q(I,ne,F);return}}for(let ne=0;ne<U.length;ne++){const F=U[ne],W=Ft(I,y,`vxe-${F}--column`,Se=>Se.parentNode.parentNode.parentNode.getAttribute("xid")===l),he={type:F,$table:e,columns:_.slice(0),$event:I};if(W.flag){const Se=W.targetElem,Ee=e.getColumnNode(Se),be=Ee?Ee.item:null;let Oe=`${F}-`;if(be&&Object.assign(he,{column:be,columnIndex:e.getColumnIndex(be),cell:Se}),F==="body"){const De=e.getRowNode(Se.parentNode),A=De?De.item:null;Oe="",A&&(he.row=A,he.rowIndex=e.getRowIndex(A))}const He=`${Oe}cell-menu`;q(I,F,he),e.dispatchEvent(He,he,I);return}else if(Ft(I,y,`vxe-table--${F}-wrapper`,Se=>Se.getAttribute("xid")===l).flag){w.trigger==="cell"?I.preventDefault():q(I,F,he);return}}}te&&!Ft(I,te.$el).flag&&e.closeFilter(),d.closeMenu()},ctxMenuMouseoverEvent(I,B,oe){const L=I.currentTarget,{ctxMenuStore:k}=u;I.preventDefault(),I.stopPropagation(),k.selected=B,k.selectChild=oe,oe||(k.showChild=Cn(B),k.showChild&&ue(()=>{const _=L.nextElementSibling;if(_){const{boundingTop:te,boundingLeft:ce,visibleHeight:V,visibleWidth:w}=yr(L),y=te+L.offsetHeight,j=ce+L.offsetWidth;let U="",ne="";j+_.offsetWidth>w-10&&(U="auto",ne=`${L.offsetWidth}px`);let F="",W="";y+_.offsetHeight>V-10&&(F="auto",W="0"),_.style.left=U,_.style.right=ne,_.style.top=F,_.style.bottom=W}}))},ctxMenuMouseoutEvent(I,B){const{ctxMenuStore:oe}=u;B.children||(oe.selected=null),oe.selectChild=null},ctxMenuLinkEvent(I,B){const oe=e.xeGrid;if(!B.disabled&&(B.code||!B.children||!B.children.length)){const L=$c.get(B.code),k=Object.assign({},C._currMenuParams,{menu:B,$table:e,$grid:oe,$event:I}),_=L?L.tableMenuMethod||L.menuMethod:null;_&&_(k,I),e.dispatchEvent("menu-click",k,I),d.closeMenu()}}},Object.assign(Object.assign({},d),S)},setupGrid(e){return e.extendTableMethods(zc)}});const{getConfig:jc,renderer:Nc,hooks:_c,getI18n:gi}=ge,Wc=["insert","insertAt","insertNextAt","insertChild","insertChildAt","insertChildNextAt","remove","removeCheckboxRow","removeRadioRow","removeCurrentRow","getRecordset","getInsertRecords","getRemoveRecords","getUpdateRecords","getEditRecord","getActiveRecord","getSelectedCell","clearEdit","clearActived","clearSelected","isEditByRow","isActiveByRow","setEditRow","setActiveRow","setEditCell","setActiveCell","setSelectCell"];_c.add("tableEditModule",{setupTable(e){const{props:l,reactData:i,internalData:u}=e,{refElem:C}=e.getRefMaps(),{computeMouseOpts:b,computeEditOpts:E,computeCheckboxOpts:M,computeTreeOpts:$,computeValidOpts:le}=e.getComputeMaps(),p=s.browse();let d={},S={};const q=(w,y)=>{const{model:j,editRender:U}=y;U&&(j.value=Eo(w,y),j.update=!1)},I=(w,y)=>{const{model:j,editRender:U}=y;U&&j.update&&(dl(w,y,j.value),j.update=!1,j.value=null)},B=()=>{const w=C.value;if(w){const y=w.querySelector(".col--selected");y&&Po(y,"col--selected")}},oe=()=>{const{editStore:w,tableColumn:y}=i,j=E.value,{actived:U}=w,{row:ne,column:F}=U;(ne||F)&&(j.mode==="row"?y.forEach(W=>I(ne,W)):I(ne,F))},L=(w,y)=>{const{tableFullTreeData:j,afterFullData:U,fullDataRowIdData:ne,fullAllDataRowIdData:F}=u,W=$.value,{rowField:he,parentField:Se,mapChildrenField:Ee}=W,be=W.children||W.childrenField,Oe=y?"push":"unshift";w.forEach(He=>{const De=He[Se],A=Pe(e,He),se=De?s.findTree(j,N=>De===N[he],{children:Ee}):null;if(se){const{item:N}=se,G=F[Pe(e,N)],ie=G?G.level:0;let pe=N[be],xe=N[Ee];s.isArray(pe)||(pe=N[be]=[]),s.isArray(xe)||(xe=N[be]=[]),pe[Oe](He),xe[Oe](He);const J={row:He,rowid:A,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:pe,parent:N,level:ie+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};ne[A]=J,F[A]=J}else{U[Oe](He),j[Oe](He);const N={row:He,rowid:A,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:j,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};ne[A]=N,F[A]=N}})},k=(w,y,j)=>{const{treeConfig:U}=l,{mergeList:ne}=i,{tableFullTreeData:F,afterFullData:W,tableFullData:he,fullDataRowIdData:Se,fullAllDataRowIdData:Ee,insertRowMaps:be}=u,Oe=$.value,{transform:He,rowField:De,mapChildrenField:A}=Oe,se=Oe.children||Oe.childrenField;s.isArray(w)||(w=[w]);const N=fl(e.defineField(w.map(G=>Object.assign(U&&He?{[A]:[],[se]:[]}:{},G))));if(s.eqNull(y))U&&He?L(N,!1):(N.forEach(G=>{const ie=Pe(e,G),pe={row:G,rowid:ie,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:W,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Se[ie]=pe,Ee[ie]=pe,W.unshift(G),he.unshift(G)}),ne.forEach(G=>{const{row:ie}=G;ie>0&&(G.row=ie+N.length)}));else if(y===-1)U&&He?L(N,!0):(N.forEach(G=>{const ie=Pe(e,G),pe={row:G,rowid:ie,seq:-1,index:-1,_index:-1,treeIndex:-1,$index:-1,items:W,parent:null,level:0,height:0,resizeHeight:0,oTop:0,expandHeight:0};Se[ie]=pe,Ee[ie]=pe,W.push(G),he.push(G)}),ne.forEach(G=>{const{row:ie,rowspan:pe}=G;ie+pe>W.length&&(G.rowspan=pe+N.length)}));else if(U&&He){const G=s.findTree(F,ie=>y[De]===ie[De],{children:A});if(G){const{parent:ie}=G,pe=ie?ie[A]:F,xe=Ee[Pe(e,ie)],J=xe?xe.level:0;if(N.forEach((we,Q)=>{const re=Pe(e,we);ie&&(we[Oe.parentField]=ie[De]);let ve=G.index+Q;j&&(ve=ve+1),pe.splice(ve,0,we);const me={row:we,rowid:re,seq:-1,index:-1,_index:-1,$index:-1,treeIndex:-1,items:pe,parent:ie,level:J+1,height:0,resizeHeight:0,oTop:0,expandHeight:0};Se[re]=me,Ee[re]=me}),ie){const we=s.findTree(F,Q=>y[De]===Q[De],{children:se});if(we){const Q=we.items;let re=we.index;j&&(re=re+1),Q.splice(re,0,...N)}}}else L(N,!0)}else{if(U)throw new Error(gi("vxe.error.noTree",["insert"]));let G=-1;if(s.isNumber(y)?y<W.length&&(G=y):G=e.findRowIndexOf(W,y),j&&(G=Math.min(W.length,G+1)),G===-1)throw new Error(gi("vxe.error.unableInsert"));W.splice(G,0,...N);const ie=e.findRowIndexOf(he,y);ie>-1?he.splice(ie+(j?1:0),0,...N):he.push(...N),ne.forEach(pe=>{const{row:xe,rowspan:J}=pe;xe>G?pe.row=xe+N.length:xe+J>G&&(pe.rowspan=J+N.length)})}return N.forEach(G=>{const ie=Pe(e,G);be[ie]=G}),i.insertRowFlag++,e.cacheRowMap(!1),e.updateScrollYStatus(),e.handleTableData(U&&He),U&&He||e.updateAfterDataIndex(),e.updateFooter(),e.checkSelectionStatus(),i.scrollYLoad&&e.updateScrollYSpace(),ue().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:N.length?N[N.length-1]:null,rows:N}))},_=(w,y,j,U)=>{const{treeConfig:ne}=l,F=$.value,{transform:W,rowField:he,parentField:Se}=F;return ne&&W?(s.isArray(w)||(w=[w]),k(w.map(Ee=>Object.assign({},Ee,{[Se]:y[he]})),j,U)):(Qe("vxe.error.errProp",["tree-config.transform=false","tree-config.transform=true"]),Promise.resolve({row:null,rows:[]}))},te=(w,y)=>{const{editStore:j}=i,{actived:U,focused:ne}=j,{row:F,column:W}=U,he=le.value;if(F||W){if(y&&Pe(e,y)!==Pe(e,F))return ue();oe(),U.args=null,U.row=null,U.column=null,e.updateFooter(),e.dispatchEvent("edit-closed",{row:F,rowIndex:e.getRowIndex(F),$rowIndex:e.getVMRowIndex(F),column:W,columnIndex:e.getColumnIndex(W),$columnIndex:e.getVMColumnIndex(W)},w||null)}return ne.row=null,ne.column=null,he.autoClear&&(he.msgMode!=="full"||jc().cellVaildMode==="obsolete")&&e.clearValidate?e.clearValidate():ue().then(()=>e.updateCellAreas())},ce=(w,y,j,U)=>{const ne=e.xeGrid,{editConfig:F,mouseConfig:W}=l,{editStore:he,tableColumn:Se}=i,Ee=E.value,{mode:be}=Ee,{actived:Oe,focused:He}=he,{row:De,column:A}=w,{editRender:se}=A,N=w.cell||e.getCellElement(De,A),G=Ee.beforeEditMethod||Ee.activeMethod;if(w.cell=N,N&&gt(F)&&gt(se)&&!e.isPendingByRow(De)){if(Oe.row!==De||be==="cell"&&Oe.column!==A){let ie="edit-disabled";if(!G||G(Object.assign(Object.assign({},w),{$table:e,$grid:ne}))){W&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),e.closeTooltip(),Oe.column&&te(y),ie="edit-activated",A.renderHeight=N.offsetHeight,Oe.args=w,Oe.row=De,Oe.column=A,be==="row"?Se.forEach(xe=>q(De,xe)):q(De,A);const pe=Ee.afterEditMethod;ue(()=>{j&&e.handleFocus(w,y),pe&&pe(Object.assign(Object.assign({},w),{$table:e,$grid:ne}))})}e.dispatchEvent(ie,{row:De,rowIndex:e.getRowIndex(De),$rowIndex:e.getVMRowIndex(De),column:A,columnIndex:e.getColumnIndex(A),$columnIndex:e.getVMColumnIndex(A)},y),ie==="edit-activated"&&e.dispatchEvent("edit-actived",{row:De,rowIndex:e.getRowIndex(De),$rowIndex:e.getVMRowIndex(De),column:A,columnIndex:e.getColumnIndex(A),$columnIndex:e.getVMColumnIndex(A)},y)}else{const{column:ie}=Oe;if(W&&(e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea())),ie!==A){const{model:pe}=ie;pe.update&&dl(De,ie,pe.value),e.clearValidate&&e.clearValidate(De,A)}A.renderHeight=N.offsetHeight,Oe.args=w,Oe.column=A,U&&setTimeout(()=>{e.handleFocus(w,y)})}He.column=null,He.row=null,e.focus()}return ue()},V=(w,y,j)=>{const{editConfig:U}=l,ne=s.isString(y)?e.getColumnByField(y):y;return w&&ne&&gt(U)&&gt(ne.editRender)?Promise.resolve(j?e.scrollToRow(w,ne):null).then(()=>{const F=e.getCellElement(w,ne);return F&&(ce({row:w,rowIndex:e.getRowIndex(w),column:ne,columnIndex:e.getColumnIndex(ne),cell:F,$table:e},null,j,j),u._lastCallTime=Date.now()),ue()}):ue()};return d={insert(w){return k(w,null)},insertAt(w,y){return k(w,y)},insertNextAt(w,y){return k(w,y,!0)},insertChild(w,y){return _(w,y,null)},insertChildAt(w,y,j){return _(w,y,j)},insertChildNextAt(w,y,j){return _(w,y,j,!0)},remove(w){const{treeConfig:y}=l,{mergeList:j,editStore:U}=i,{tableFullTreeData:ne,selectCheckboxMaps:F,afterFullData:W,tableFullData:he,pendingRowMaps:Se,insertRowMaps:Ee,removeRowMaps:be}=u,Oe=M.value,He=$.value,{transform:De,mapChildrenField:A}=He,se=He.children||He.childrenField,{actived:N}=U,{checkField:G}=Oe;let ie=[];return w?s.isArray(w)||(w=[w]):w=he,w.forEach(pe=>{if(!e.isInsertByRow(pe)){const xe=Pe(e,pe);be[xe]=pe}}),G||(w.forEach(pe=>{const xe=Pe(e,pe);F[xe]&&delete F[xe]}),i.updateCheckboxFlag++),he===w?(w=ie=he.slice(0),u.tableFullData=[],u.afterFullData=[],e.clearMergeCells()):y&&De?w.forEach(pe=>{const xe=Pe(e,pe),J=s.findTree(ne,re=>xe===Pe(e,re),{children:A});if(J){const re=J.items.splice(J.index,1);ie.push(re[0])}const we=s.findTree(ne,re=>xe===Pe(e,re),{children:se});we&&we.items.splice(we.index,1);const Q=e.findRowIndexOf(W,pe);Q>-1&&W.splice(Q,1)}):w.forEach(pe=>{const xe=e.findRowIndexOf(he,pe);if(xe>-1){const we=he.splice(xe,1);ie.push(we[0])}const J=e.findRowIndexOf(W,pe);J>-1&&(j.forEach(we=>{const{row:Q,rowspan:re}=we;Q>J?we.row=Q-1:Q+re>J&&(we.rowspan=re-1)}),W.splice(J,1))}),N.row&&e.findRowIndexOf(w,N.row)>-1&&d.clearEdit(),w.forEach(pe=>{const xe=Pe(e,pe);Ee[xe]&&delete Ee[xe],Se[xe]&&delete Se[xe]}),i.removeRowFlag++,i.insertRowFlag++,i.pendingRowFlag++,e.updateFooter(),e.cacheRowMap(!1),e.handleTableData(y&&De),y&&De||e.updateAfterDataIndex(),e.checkSelectionStatus(),i.scrollYLoad&&e.updateScrollYSpace(),ue().then(()=>(e.updateCellAreas(),e.recalculate())).then(()=>({row:ie.length?ie[ie.length-1]:null,rows:ie}))},removeCheckboxRow(){return d.remove(e.getCheckboxRecords()).then(w=>(e.clearCheckboxRow(),w))},removeRadioRow(){const w=e.getRadioRecord();return d.remove(w||[]).then(y=>(e.clearRadioRow(),y))},removeCurrentRow(){const w=e.getCurrentRecord();return d.remove(w||[]).then(y=>(e.clearCurrentRow(),y))},getRecordset(){const w=d.getRemoveRecords(),y=e.getPendingRecords(),j=w.concat(y),U=d.getUpdateRecords().filter(ne=>!j.some(F=>e.eqRow(F,ne)));return{insertRecords:d.getInsertRecords(),removeRecords:w,updateRecords:U,pendingRecords:y}},getInsertRecords(){const{fullAllDataRowIdData:w,insertRowMaps:y}=u,j=[];return s.each(y,(U,ne)=>{w[ne]&&j.push(U)}),j},getRemoveRecords(){const{removeRowMaps:w}=u,y=[];return s.each(w,j=>{y.push(j)}),y},getUpdateRecords(){const{keepSource:w,treeConfig:y}=l,{tableFullData:j}=u,U=$.value;return w?(oe(),y?s.filterTree(j,ne=>e.isUpdateByRow(ne),U):j.filter(ne=>e.isUpdateByRow(ne))):[]},getActiveRecord(){return e.getEditRecord()},getEditRecord(){const{editStore:w}=i,{afterFullData:y}=u,j=C.value,{args:U,row:ne}=w.actived;return U&&e.findRowIndexOf(y,ne)>-1&&j.querySelectorAll(".vxe-body--column.col--active").length?Object.assign({},U):null},getSelectedCell(){const{editStore:w}=i,{args:y,column:j}=w.selected;return y&&j?Object.assign({},y):null},clearActived(w){return e.clearEdit(w)},clearEdit(w){return te(null,w)},clearSelected(){const{editStore:w}=i,{selected:y}=w;return y.row=null,y.column=null,B(),ue()},isActiveByRow(w){return e.isEditByRow(w)},isEditByRow(w){const{editStore:y}=i;return y.actived.row===w},setActiveRow(w){return d.setEditRow(w)},setEditRow(w,y){const{visibleColumn:j}=u;let U=s.find(j,F=>gt(F.editRender)),ne=!1;return y&&(ne=!0,y!==!0&&(U=s.isString(y)?e.getColumnByField(y):y)),V(w,U,ne)},setActiveCell(w,y){return d.setEditCell(w,y)},setEditCell(w,y){return V(w,y,!0)},setSelectCell(w,y){const{tableData:j}=i,U=E.value,ne=s.isString(y)?e.getColumnByField(y):y;if(w&&ne&&U.trigger!=="manual"){const F=e.findRowIndexOf(j,w);if(F>-1&&ne){const W=e.getCellElement(w,ne),he={row:w,rowIndex:F,column:ne,columnIndex:e.getColumnIndex(ne),cell:W};e.handleSelected(he,{})}}return ue()}},S={handleEdit(w,y){return ce(w,y,!0,!0)},handleActived(w,y){return S.handleEdit(w,y)},handleClearEdit:te,handleFocus(w){const{row:y,column:j,cell:U}=w,{editRender:ne}=j,F=E.value;if(gt(ne)){const W=Nc.get(ne.name);let he=ne.autofocus||ne.autoFocus,Se=ne.autoSelect||ne.autoselect,Ee;if(F.autoFocus&&(!he&&W&&(he=W.tableAutoFocus||W.tableAutofocus||W.autofocus),!Se&&W&&(Se=W.tableAutoSelect||W.autoselect),s.isFunction(he)?Ee=he(w):he&&(he===!0?Ee=U.querySelector("input,textarea"):Ee=U.querySelector(he),Ee&&Ee.focus())),Ee){if(Se)Ee.select();else if(p.msie){const be=Ee.createTextRange();be.collapse(!1),be.select()}}else F.autoPos&&(j.fixed||e.scrollToRow(y,j))}},handleSelected(w,y){const{mouseConfig:j}=l,{editStore:U}=i,ne=b.value,F=E.value,{actived:W,selected:he}=U,{row:Se,column:Ee}=w,be=j&&ne.selected;return be&&(he.row!==Se||he.column!==Ee)&&(W.row!==Se||F.mode==="cell"&&W.column!==Ee)&&(te(y),e.clearSelected(),e.clearCellAreas&&(e.clearCellAreas(),e.clearCopyCellArea()),he.args=w,he.row=Se,he.column=Ee,be&&S.addCellSelectedClass(),e.focus(),y&&e.dispatchEvent("cell-selected",w,y)),ue()},addCellSelectedClass(){const{editStore:w}=i,{selected:y}=w,{row:j,column:U}=y;if(B(),j&&U){const ne=e.getCellElement(j,U);ne&&ol(ne,"col--selected")}}},Object.assign(Object.assign({},d),S)},setupGrid(e){return e.extendTableMethods(Wc)}});const qc='body{margin:0;padding: 0 1px;color:#333333;font-size:14px;font-family:"Microsoft YaHei",微软雅黑,"MicrosoftJhengHei",华文细黑,STHeiti,MingLiu}body *{-webkit-box-sizing:border-box;box-sizing:border-box}.vxe-table{border-collapse:collapse;text-align:left;border-spacing:0}.vxe-table:not(.is--print){table-layout:fixed}.vxe-table,.vxe-table th,.vxe-table td,.vxe-table td{border-color:#D0D0D0;border-style:solid;border-width:0}.vxe-table.is--print{width:100%}.border--default,.border--full,.border--outer{border-top-width:1px}.border--default,.border--full,.border--outer{border-left-width:1px}.border--outer,.border--default th,.border--default td,.border--full th,.border--full td,.border--outer th,.border--inner th,.border--inner td{border-bottom-width:1px}.border--default,.border--outer,.border--full th,.border--full td{border-right-width:1px}.border--default th,.border--full th,.border--outer th{background-color:#f8f8f9}.vxe-table td>div,.vxe-table th>div{padding:.5em .4em}.col--center{text-align:center}.col--right{text-align:right}.vxe-table:not(.is--print) .col--ellipsis>div{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-break:break-all}.vxe-table--tree-node{text-align:left}.vxe-table--tree-node-wrapper{position:relative}.vxe-table--tree-icon-wrapper{position:absolute;top:50%;width:1em;height:1em;text-align:center;-webkit-transform:translateY(-50%);transform:translateY(-50%);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.vxe-table--tree-unfold-icon,.vxe-table--tree-fold-icon{position:absolute;width:0;height:0;border-style:solid;border-width:.5em;border-right-color:transparent;border-bottom-color:transparent}.vxe-table--tree-unfold-icon{left:.3em;top:0;border-left-color:#939599;border-top-color:transparent}.vxe-table--tree-fold-icon{left:0;top:.3em;border-left-color:transparent;border-top-color:#939599}.vxe-table--tree-cell{display:block;padding-left:1.5em}.vxe-table input[type="checkbox"]{margin:0}.vxe-table input[type="checkbox"],.vxe-table input[type="radio"],.vxe-table input[type="checkbox"]+span,.vxe-table input[type="radio"]+span{vertical-align:middle;padding-left:0.4em}';function Xc(e,l){return new Blob([e],{type:`text/${l.type};charset=utf-8;`})}function Kc(e,l){const{style:i}=e;return["<!DOCTYPE html><html>","<head>",'<meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no,minimal-ui">',`<title>${e.sheetName}</title>`,'<style media="print">.vxe-page-break-before{page-break-before:always;}.vxe-page-break-after{page-break-after:always;}</style>',`<style>${qc}</style>`,i?`<style>${i}</style>`:"","</head>",`<body>${l}</body>`,"</html>"].join("")}const{getI18n:al,hooks:Yc,renderer:ss}=ge;let pn;const Gc="\uFEFF",Kl=`\r
`;function vr(e){return e.field||["seq","checkbox","radio"].indexOf(e.type)>-1}const Qi=e=>{const l=[];return e.forEach(i=>{i.childNodes&&i.childNodes.length?(l.push(i),l.push(...Qi(i.childNodes))):l.push(i)}),l},Uc=e=>{let l=1;const i=(b,E)=>{if(E&&(b._level=E._level+1,l<b._level&&(l=b._level)),b.childNodes&&b.childNodes.length){let M=0;b.childNodes.forEach($=>{i($,b),M+=$._colSpan}),b._colSpan=M}else b._colSpan=1};e.forEach(b=>{b._level=1,i(b)});const u=[];for(let b=0;b<l;b++)u.push([]);return Qi(e).forEach(b=>{b.childNodes&&b.childNodes.length?b._rowSpan=1:b._rowSpan=l-b._level+1,u[b._level-1].push(b)}),u};function Zc(e){return e===!0?"full":e||"default"}function hn(e){return e==="TRUE"||e==="true"||e===!0}function Cr(e,l){const{footerFilterMethod:i}=e;return i?l.filter((u,C)=>i({items:u,$rowIndex:C})):l}function Qc(e,l){if(l){if(e.type==="seq")return`	${l}`;switch(e.cellType){case"string":if(!isNaN(l))return`	${l}`;break;case"number":break;default:if(l.length>=12&&!isNaN(l))return`	${l}`;break}}return l}function gn(e){return/[",\s\n]/.test(e)?`"${e.replace(/"/g,'""')}"`:e}function No(e,l){return e.getElementsByTagName(l)}function mi(e){return`#${e}@${s.uniqueId()}`}function Ji(e,l){return e.replace(/#\d+@\d+/g,i=>s.hasOwnProp(l,i)?l[i]:i)}function bi(e,l){return Ji(e,l).replace(/^"+$/g,u=>'"'.repeat(Math.ceil(u.length/2)))}function ws(e,l){const{fieldMaps:i,titleMaps:u}=e;if(!i[l]){const C=u[l];C&&C.field&&(l=C.field)}return l}function ea(e,l,i){const u=l.split(Kl),C=[];let b=[];if(u.length){const E={},M=Date.now();u.forEach($=>{if($){const le={};$=$.replace(/("")|(\n)/g,(d,S)=>{const q=mi(M);return E[q]=S?'"':`
`,q}).replace(/"(.*?)"/g,(d,S)=>{const q=mi(M);return E[q]=Ji(S,E),q});const p=$.split(i);b.length?(p.forEach((d,S)=>{S<b.length&&(le[b[S]]=bi(d.trim(),E))}),C.push(le)):b=p.map(d=>ws(e,bi(d.trim(),E)))}})}return{fields:b,rows:C}}function Jc(e,l){return ea(e,l,",")}function ed(e,l){return ea(e,l,"	")}function td(e,l){const u=new DOMParser().parseFromString(l,"text/html"),C=No(u,"body"),b=[],E=[];if(C.length){const M=No(C[0],"table");if(M.length){const $=No(M[0],"thead");if($.length){s.arrayEach(No($[0],"tr"),p=>{s.arrayEach(No(p,"th"),d=>{E.push(ws(e,d.textContent||""))})});const le=No(M[0],"tbody");le.length&&s.arrayEach(No(le[0],"tr"),p=>{const d={};s.arrayEach(No(p,"td"),(S,q)=>{E[q]&&(d[E[q]]=S.textContent||"")}),b.push(d)})}}}return{fields:E,rows:b}}function od(e,l){const u=new DOMParser().parseFromString(l,"application/xml"),C=No(u,"Worksheet"),b=[],E=[];if(C.length){const M=No(C[0],"Table");if(M.length){const $=No(M[0],"Row");$.length&&(s.arrayEach(No($[0],"Cell"),le=>{E.push(ws(e,le.textContent||""))}),s.arrayEach($,(le,p)=>{if(p){const d={},S=No(le,"Cell");s.arrayEach(S,(q,I)=>{E[I]&&(d[E[I]]=q.textContent)}),b.push(d)}}))}}return{fields:E,rows:b}}function xi(e){s.eachTree(e,l=>{delete l._level,delete l._colSpan,delete l._rowSpan,delete l._children,delete l.childNodes},{children:"children"})}const ld=["exportData","importByFile","importData","saveFile","readFile","print","getPrintHtml","openImport","closeImport","openExport","closeExport","openPrint","closePrint"];Yc.add("tableExportModule",{setupTable(e){const{props:l,reactData:i,internalData:u}=e,{computeTreeOpts:C,computePrintOpts:b,computeExportOpts:E,computeImportOpts:M,computeCustomOpts:$,computeSeqOpts:le,computeRadioOpts:p,computeCheckboxOpts:d,computeColumnOpts:S}=e.getComputeMaps(),q=Io("$xeGrid",null),I=A=>{const se=C.value,N=se.children||se.childrenField;return A[N]&&A[N].length},B=(A,se,N,G,ie)=>{const xe=le.value.seqMethod||G.seqMethod;return xe?xe({row:se,rowIndex:e.getRowIndex(se),$rowIndex:N,column:G,columnIndex:e.getColumnIndex(G),$columnIndex:ie}):A};function oe(A,se){const N=S.value,G=se.headerExportMethod||N.headerExportMethod;return G?G({column:se,options:A,$table:e}):(A.original?se.field:se.getTitle())||""}const L=A=>s.isBoolean(A)?A?"TRUE":"FALSE":A,k=A=>pl(A)?"":`${A}`,_=(A,se,N)=>{const{isAllExpand:G,mode:ie}=A,{treeConfig:pe}=l,xe=p.value,J=d.value,we=C.value,Q=S.value;if(pn||(pn=document.createElement("div")),pe){const re=we.children||we.childrenField,ve=[],me=new Map;return s.eachTree(N,(Z,Te,Ce,Le,Fe,Ke)=>{const Ye=Z._row||Z,mt=Fe&&Fe._row?Fe._row:Fe;if(G||!mt||me.has(mt)&&e.isTreeExpandByRow(mt)){const Et=I(Ye),vt={_row:Ye,_level:Ke.length-1,_hasChild:Et,_expand:Et&&e.isTreeExpandByRow(Ye)};se.forEach((nt,lt)=>{let bt="";const Ue=nt.editRender||nt.cellRender;let Ve=nt.exportMethod||Q.exportMethod;if(!Ve&&Ue&&Ue.name){const _e=ss.get(Ue.name);_e&&(Ve=_e.tableExportMethod||_e.exportMethod)}if(Ve||(Ve=Q.exportMethod),Ve)bt=Ve({$table:e,row:Ye,column:nt,options:A});else switch(nt.type){case"seq":{const _e=Le.map((Je,Re)=>Re%2===0?Number(Je)+1:".").join("");bt=ie==="all"?_e:B(_e,Ye,Te,nt,lt);break}case"checkbox":bt=L(e.isCheckedByCheckboxRow(Ye)),vt._checkboxLabel=J.labelField?s.get(Ye,J.labelField):"",vt._checkboxDisabled=J.checkMethod&&!J.checkMethod({row:Ye});break;case"radio":bt=L(e.isCheckedByRadioRow(Ye)),vt._radioLabel=xe.labelField?s.get(Ye,xe.labelField):"",vt._radioDisabled=xe.checkMethod&&!xe.checkMethod({row:Ye});break;default:if(A.original)bt=Eo(Ye,nt);else if(bt=e.getCellLabel(Ye,nt),nt.type==="html")pn.innerHTML=bt,bt=pn.innerText.trim();else{const _e=e.getCellElement(Ye,nt);_e&&!hl(_e,"is--progress")&&(bt=_e.innerText.trim())}}vt[nt.id]=k(bt)}),me.set(Ye,1),ve.push(Object.assign(vt,Ye))}},{children:re}),ve}return N.map((re,ve)=>{const me={_row:re};return se.forEach((Z,Te)=>{let Ce="";const Le=Z.editRender||Z.cellRender;let Fe=Z.exportMethod||Q.exportMethod;if(!Fe&&Le&&Le.name){const Ke=ss.get(Le.name);Ke&&(Fe=Ke.tableExportMethod||Ke.exportMethod)}if(Fe)Ce=Fe({$table:e,row:re,column:Z,options:A});else switch(Z.type){case"seq":{const Ke=ve+1;Ce=ie==="all"?Ke:B(Ke,re,ve,Z,Te);break}case"checkbox":Ce=L(e.isCheckedByCheckboxRow(re)),me._checkboxLabel=J.labelField?s.get(re,J.labelField):"",me._checkboxDisabled=J.checkMethod&&!J.checkMethod({row:re});break;case"radio":Ce=L(e.isCheckedByRadioRow(re)),me._radioLabel=xe.labelField?s.get(re,xe.labelField):"",me._radioDisabled=xe.checkMethod&&!xe.checkMethod({row:re});break;default:if(A.original)Ce=Eo(re,Z);else if(Ce=e.getCellLabel(re,Z),Z.type==="html")pn.innerHTML=Ce,Ce=pn.innerText.trim();else{const Ke=e.getCellElement(re,Z);Ke&&!hl(Ke,"is--progress")&&(Ce=Ke.innerText.trim())}}me[Z.id]=k(Ce)}),me})},te=A=>{const{columns:se,dataFilterMethod:N}=A;let G=A.data;return N&&(G=G.filter((ie,pe)=>N({row:ie,$rowIndex:pe}))),_(A,se,G)},ce=(A,se,N)=>{const G=S.value,ie=N.editRender||N.cellRender;let pe=N.footerExportMethod;if(!pe&&ie&&ie.name){const J=ss.get(ie.name);J&&(pe=J.tableFooterExportMethod||J.footerExportMethod)}pe||(pe=G.footerExportMethod);const xe=e.getVTColumnIndex(N);return pe?pe({$table:e,items:se,itemIndex:xe,row:se,_columnIndex:xe,column:N,options:A}):s.isArray(se)?s.toValueString(se[xe]):s.get(se,N.field)},V=(A,se,N)=>{let G=Gc;if(A.isHeader&&(G+=se.map(ie=>gn(oe(A,ie))).join(",")+Kl),N.forEach(ie=>{G+=se.map(pe=>gn(Qc(pe,ie[pe.id]))).join(",")+Kl}),A.isFooter){const{footerTableData:ie}=i;Cr(A,ie).forEach(xe=>{G+=se.map(J=>gn(ce(A,xe,J))).join(",")+Kl})}return G},w=(A,se,N)=>{let G="";if(A.isHeader&&(G+=se.map(ie=>gn(oe(A,ie))).join("	")+Kl),N.forEach(ie=>{G+=se.map(pe=>gn(ie[pe.id])).join("	")+Kl}),A.isFooter){const{footerTableData:ie}=i;Cr(A,ie).forEach(xe=>{G+=se.map(J=>gn(ce(A,xe,J))).join("	")+Kl})}return G},y=(A,se,N)=>{const G=A[se],ie=s.isUndefined(G)||s.isNull(G)?N:G;let we=ie==="title"||(ie===!0||ie==="tooltip")||ie==="ellipsis";const{scrollXLoad:Q,scrollYLoad:re}=i;return(Q||re)&&!we&&(we=!0),we},j=(A,se,N)=>{const{id:G,border:ie,treeConfig:pe,headerAlign:xe,align:J,footerAlign:we,showOverflow:Q,showHeaderOverflow:re}=l,{isAllSelected:ve,isIndeterminate:me,mergeList:Z}=i,Te=C.value,{print:Ce,isHeader:Le,isFooter:Fe,isColgroup:Ke,isMerge:Ye,colgroups:mt,original:Et}=A,vt="check-all",lt=[`<table class="${["vxe-table",`border--${Zc(ie)}`,Ce?"is--print":"",Le?"is--header":""].filter(Ue=>Ue).join(" ")}" border="0" cellspacing="0" cellpadding="0">`,`<colgroup>${se.map(Ue=>`<col style="width:${Ue.renderWidth}px">`).join("")}</colgroup>`];if(Le&&(lt.push("<thead>"),Ke&&!Et?mt.forEach(Ue=>{lt.push(`<tr>${Ue.map(Ve=>{const _e=Ve.headerAlign||Ve.align||xe||J,Je=y(Ve,"showHeaderOverflow",re)?["col--ellipsis"]:[],Re=oe(A,Ve);let Me=0,qe=0;s.eachTree([Ve],et=>{(!et.childNodes||!Ve.childNodes.length)&&qe++,Me+=et.renderWidth},{children:"childNodes"});const pt=Me-qe;return _e&&Je.push(`col--${_e}`),Ve.type==="checkbox"?`<th class="${Je.join(" ")}" colspan="${Ve._colSpan}" rowspan="${Ve._rowSpan}"><div ${Ce?"":`style="width: ${pt}px"`}><input type="checkbox" class="${vt}" ${ve?"checked":""}><span>${Re}</span></div></th>`:`<th class="${Je.join(" ")}" colspan="${Ve._colSpan}" rowspan="${Ve._rowSpan}" title="${Re}"><div ${Ce?"":`style="width: ${pt}px"`}><span>${wo(Re,!0)}</span></div></th>`}).join("")}</tr>`)}):lt.push(`<tr>${se.map(Ue=>{const Ve=Ue.headerAlign||Ue.align||xe||J,_e=y(Ue,"showHeaderOverflow",re)?["col--ellipsis"]:[],Je=oe(A,Ue);return Ve&&_e.push(`col--${Ve}`),Ue.type==="checkbox"?`<th class="${_e.join(" ")}"><div ${Ce?"":`style="width: ${Ue.renderWidth}px"`}><input type="checkbox" class="${vt}" ${ve?"checked":""}><span>${Je}</span></div></th>`:`<th class="${_e.join(" ")}" title="${Je}"><div ${Ce?"":`style="width: ${Ue.renderWidth}px"`}><span>${wo(Je,!0)}</span></div></th>`}).join("")}</tr>`),lt.push("</thead>")),N.length&&(lt.push("<tbody>"),pe?N.forEach(Ue=>{lt.push("<tr>"+se.map(Ve=>{const _e=Ve.align||J,Je=y(Ve,"showOverflow",Q)?["col--ellipsis"]:[],Re=Ue[Ve.id];if(_e&&Je.push(`col--${_e}`),Ve.treeNode){let Me="";return Ue._hasChild&&(Me=`<i class="${Ue._expand?"vxe-table--tree-fold-icon":"vxe-table--tree-unfold-icon"}"></i>`),Je.push("vxe-table--tree-node"),Ve.type==="radio"?`<td class="${Je.join(" ")}" title="${Re}"><div ${Ce?"":`style="width: ${Ve.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Ue._level*Te.indent}px"><div class="vxe-table--tree-icon-wrapper">${Me}</div><div class="vxe-table--tree-cell"><input type="radio" name="radio_${G}" ${Ue._radioDisabled?"disabled ":""}${hn(Re)?"checked":""}><span>${Ue._radioLabel}</span></div></div></div></td>`:Ve.type==="checkbox"?`<td class="${Je.join(" ")}" title="${Re}"><div ${Ce?"":`style="width: ${Ve.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Ue._level*Te.indent}px"><div class="vxe-table--tree-icon-wrapper">${Me}</div><div class="vxe-table--tree-cell"><input type="checkbox" ${Ue._checkboxDisabled?"disabled ":""}${hn(Re)?"checked":""}><span>${Ue._checkboxLabel}</span></div></div></div></td>`:`<td class="${Je.join(" ")}" title="${Re}"><div ${Ce?"":`style="width: ${Ve.renderWidth}px"`}><div class="vxe-table--tree-node-wrapper" style="padding-left: ${Ue._level*Te.indent}px"><div class="vxe-table--tree-icon-wrapper">${Me}</div><div class="vxe-table--tree-cell">${Re}</div></div></div></td>`}return Ve.type==="radio"?`<td class="${Je.join(" ")}"><div ${Ce?"":`style="width: ${Ve.renderWidth}px"`}><input type="radio" name="radio_${G}" ${Ue._radioDisabled?"disabled ":""}${hn(Re)?"checked":""}><span>${Ue._radioLabel}</span></div></td>`:Ve.type==="checkbox"?`<td class="${Je.join(" ")}"><div ${Ce?"":`style="width: ${Ve.renderWidth}px"`}><input type="checkbox" ${Ue._checkboxDisabled?"disabled ":""}${hn(Re)?"checked":""}><span>${Ue._checkboxLabel}</span></div></td>`:`<td class="${Je.join(" ")}" title="${Re}"><div ${Ce?"":`style="width: ${Ve.renderWidth}px"`}>${wo(Re,!0)}</div></td>`}).join("")+"</tr>")}):N.forEach(Ue=>{lt.push("<tr>"+se.map(Ve=>{const _e=Ve.align||J,Je=y(Ve,"showOverflow",Q)?["col--ellipsis"]:[],Re=Ue[Ve.id];let Me=1,qe=1;if(Ye&&Z.length){const pt=e.getVTRowIndex(Ue._row),et=e.getVTColumnIndex(Ve),K=Gi(Z,pt,et);if(K){const{rowspan:de,colspan:ae}=K;if(!de||!ae)return"";de>1&&(Me=de),ae>1&&(qe=ae)}}return _e&&Je.push(`col--${_e}`),Ve.type==="radio"?`<td class="${Je.join(" ")}" rowspan="${Me}" colspan="${qe}"><div ${Ce?"":`style="width: ${Ve.renderWidth}px"`}><input type="radio" name="radio_${G}" ${Ue._radioDisabled?"disabled ":""}${hn(Re)?"checked":""}><span>${Ue._radioLabel}</span></div></td>`:Ve.type==="checkbox"?`<td class="${Je.join(" ")}" rowspan="${Me}" colspan="${qe}"><div ${Ce?"":`style="width: ${Ve.renderWidth}px"`}><input type="checkbox" ${Ue._checkboxDisabled?"disabled ":""}${hn(Re)?"checked":""}><span>${Ue._checkboxLabel}</span></div></td>`:`<td class="${Je.join(" ")}" rowspan="${Me}" colspan="${qe}" title="${Re}"><div ${Ce?"":`style="width: ${Ve.renderWidth}px"`}>${wo(Re,!0)}</div></td>`}).join("")+"</tr>")}),lt.push("</tbody>")),Fe){const{footerTableData:Ue}=i,Ve=Cr(A,Ue);Ve.length&&(lt.push("<tfoot>"),Ve.forEach(_e=>{lt.push(`<tr>${se.map(Je=>{const Re=Je.footerAlign||Je.align||we||J,Me=y(Je,"showOverflow",Q)?["col--ellipsis"]:[],qe=ce(A,_e,Je);return Re&&Me.push(`col--${Re}`),`<td class="${Me.join(" ")}" title="${qe}"><div ${Ce?"":`style="width: ${Je.renderWidth}px"`}>${wo(qe,!0)}</div></td>`}).join("")}</tr>`)}),lt.push("</tfoot>"))}const bt=!ve&&me?`<script>(function(){var a=document.querySelector(".${vt}");if(a){a.indeterminate=true}})()<\/script>`:"";return lt.push("</table>",bt),Ce?lt.join(""):Kc(A,lt.join(""))},U=(A,se,N)=>{let G=['<?xml version="1.0"?>','<?mso-application progid="Excel.Sheet"?>','<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">','<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office">',"<Version>16.00</Version>","</DocumentProperties>",'<ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel">',"<WindowHeight>7920</WindowHeight>","<WindowWidth>21570</WindowWidth>","<WindowTopX>32767</WindowTopX>","<WindowTopY>32767</WindowTopY>","<ProtectStructure>False</ProtectStructure>","<ProtectWindows>False</ProtectWindows>","</ExcelWorkbook>",`<Worksheet ss:Name="${A.sheetName}">`,"<Table>",se.map(ie=>`<Column ss:Width="${ie.renderWidth}"/>`).join("")].join("");if(A.isHeader&&(G+=`<Row>${se.map(ie=>`<Cell><Data ss:Type="String">${oe(A,ie)}</Data></Cell>`).join("")}</Row>`),N.forEach(ie=>{G+="<Row>"+se.map(pe=>`<Cell><Data ss:Type="String">${ie[pe.id]}</Data></Cell>`).join("")+"</Row>"}),A.isFooter){const{footerTableData:ie}=i;Cr(A,ie).forEach(xe=>{G+=`<Row>${se.map(J=>`<Cell><Data ss:Type="String">${ce(A,xe,J)}</Data></Cell>`).join("")}</Row>`})}return`${G}</Table></Worksheet></Workbook>`},ne=(A,se,N)=>{if(se.length)switch(A.type){case"csv":return V(A,se,N);case"txt":return w(A,se,N);case"html":return j(A,se,N);case"xml":return U(A,se,N)}return""},F=(A,se)=>{const{filename:N,type:G,download:ie}=A;if(!ie){const pe=Xc(se,A);return Promise.resolve({type:G,content:se,blob:pe})}ge.saveFile&&ge.saveFile({filename:N,type:G,content:se}).then(()=>{A.message!==!1&&ge.modal&&ge.modal.message({content:al("vxe.table.expSuccess"),status:"success"})})},W=A=>{const{remote:se,columns:N,colgroups:G,exportMethod:ie,afterExportMethod:pe}=A;return new Promise(xe=>{if(se){const J={options:A,$table:e,$grid:q};xe(ie?ie(J):J)}else{const J=te(A);xe(e.preventEvent(null,"event.export",{options:A,columns:N,colgroups:G,datas:J},()=>F(A,ne(A,N,J))))}}).then(xe=>(xi(N),A.print||pe&&pe({status:!0,options:A,$table:e,$grid:q}),Object.assign({status:!0},xe))).catch(()=>{xi(N),A.print||pe&&pe({status:!1,options:A,$table:e,$grid:q});const xe={status:!1};return Promise.reject(xe)})},he=(A,se)=>{const{tableFullColumn:N,_importResolve:G,_importReject:ie}=u;let pe={fields:[],rows:[]};const xe={},J={};N.forEach(me=>{const Z=me.field,Te=me.getTitle();Z&&(xe[Z]=me),Te&&(J[me.getTitle()]=me)});const we={fieldMaps:xe,titleMaps:J};switch(se.type){case"csv":pe=Jc(we,A);break;case"txt":pe=ed(we,A);break;case"html":pe=td(we,A);break;case"xml":pe=od(we,A);break}const{fields:Q,rows:re}=pe;Q.some(me=>xe[me]||J[me])?e.createData(re).then(me=>{let Z;return(se.mode==="insert"||se.mode==="insertBottom")&&(Z=e.insertAt(me,-1)),se.mode==="insertTop"?Z=e.insert(me):Z=e.reloadData(me),se.message!==!1&&ge.modal&&ge.modal.message({content:al("vxe.table.impSuccess",[re.length]),status:"success"}),Z.then(()=>{G&&G({status:!0})})}):se.message!==!1&&(ge.modal&&ge.modal.message({content:al("vxe.error.impFields"),status:"error"}),ie&&ie({status:!1}))},Se=(A,se)=>{const{importMethod:N,afterImportMethod:G}=se,{type:ie,filename:pe}=Fi(A),xe=M.value;if(!N&&!s.includes(s.keys(xe._typeMaps),ie)){se.message!==!1&&ge.modal&&ge.modal.message({content:al("vxe.error.notType",[ie]),status:"error"});const we={status:!1};return Promise.reject(we)}return new Promise((we,Q)=>{const re=me=>{we(me),u._importResolve=null,u._importReject=null},ve=me=>{Q(me),u._importResolve=null,u._importReject=null};if(u._importResolve=re,u._importReject=ve,window.FileReader){const me=Object.assign({mode:"insertTop"},se,{type:ie,filename:pe});if(me.remote)N?Promise.resolve(N({file:A,options:me,$table:e})).then(()=>{re({status:!0})}).catch(()=>{re({status:!0})}):re({status:!0});else{const{tableFullColumn:Z}=u;e.preventEvent(null,"event.import",{file:A,options:me,columns:Z},()=>{const Te=new FileReader;Te.onerror=()=>{Qe("vxe.error.notType",[ie]),ve({status:!1})},Te.onload=Ce=>{he(Ce.target.result,me)},Te.readAsText(A,me.encoding||"UTF-8")})}}else Qe("vxe.error.notExp"),re({status:!0})}).then(()=>{G&&G({status:!0,options:se,$table:e})}).catch(we=>(G&&G({status:!1,options:se,$table:e}),Promise.reject(we)))},Ee=(A,se,N)=>N.some(G=>{if(Rr(G))return se.id===G.id;if(s.isString(G))return se.field===G;{const ie=G.id||G.colId,pe=G.type,xe=G.field;if(ie)return se.id===ie;if(xe&&pe)return se.field===xe&&se.type===pe;if(xe)return se.field===xe;if(pe)return se.type===pe}return!1}),be=(A,se,N,G)=>G&&s.includes(G,se.field)?!1:N?!!s.includes(N,se.field):A.original?se.field:vr(se),Oe=(A,se)=>{const{treeConfig:N,showHeader:G,showFooter:ie}=l,{initStore:pe,mergeList:xe,mergeFooterList:J,isGroup:we,footerTableData:Q,exportStore:re,exportParams:ve}=i,{collectColumn:me}=u,Z=E.value,Te=N,Ce=$.value,Le=e.getCheckboxRecords(),Fe=q?q.getComputeMaps().computeProxyOpts.value:{},Ke=!!Q.length,Ye=!!(xe.length||J.length),mt=Object.assign({message:!0,isHeader:G,isFooter:ie,isColgroup:we,isMerge:Ye,useStyle:!0,current:"current",modes:(Fe.ajax&&Fe.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"])},A),Et=mt.types||s.keys(Z._typeMaps),vt=mt.modes||[],nt=Ce.checkMethod,lt=me.slice(0),{columns:bt,excludeFields:Ue,includeFields:Ve}=mt,_e=Et.map(et=>({value:et,label:al(`vxe.export.types.${et}`)})),Je=vt.map(et=>et&&et.value?{value:et.value,label:et.label||et.value}:{value:et,label:al(`vxe.export.modes.${et}`)});s.eachTree(lt,(et,K,de,ae,ke)=>{const Ae=et.children&&et.children.length;let Xe=!1;bt&&bt.length?Xe=Ee(mt,et,bt):Ue||Ve?Xe=be(mt,et,Ve,Ue):Xe=et.visible&&(Ae||vr(et)),et.checked=Xe,et.halfChecked=!1,et.disabled=ke&&ke.disabled||(nt?!nt({column:et}):!1)}),Object.assign(re,{columns:lt,typeList:_e,modeList:Je,hasFooter:Ke,hasMerge:Ye,hasTree:Te,isPrint:se,hasColgroup:we,visible:!0}),Object.assign(ve,{mode:Le.length?"selected":"current"},mt);const{filename:Re,sheetName:Me,mode:qe,type:pt}=ve;return Re&&(s.isFunction(Re)?ve.filename=Re({options:mt,$table:e,$grid:q}):ve.filename=`${Re}`),Me&&(s.isFunction(Me)?ve.sheetName=Me({options:mt,$table:e,$grid:q}):ve.sheetName=`${Me}`),Je.some(et=>et.value===qe)||(ve.mode=Je[0].value),_e.some(et=>et.value===pt)||(ve.type=_e[0].value),pe.export=!0,ue()},He=()=>ge.modal?ge.modal.close("VXE_EXPORT_MODAL"):Promise.resolve(),De={exportData(A){const{treeConfig:se,showHeader:N,showFooter:G}=l,{mergeList:ie,mergeFooterList:pe,isGroup:xe}=i,{tableFullColumn:J,afterFullData:we,collectColumn:Q}=u,re=E.value,ve=C.value,me=q?q.getComputeMaps().computeProxyOpts.value:{},Z=!!(ie.length||pe.length),Te=Object.assign({message:!0,isHeader:N,isFooter:G,isColgroup:xe,isMerge:Z,useStyle:!0,current:"current",modes:(me.ajax&&me.ajax.queryAll?["all"]:[]).concat(["current","selected","empty"]),download:!0,type:"csv"},re,A);let{filename:Ce,sheetName:Le,type:Fe,mode:Ke,columns:Ye,original:mt,columnFilterMethod:Et,beforeExportMethod:vt,includeFields:nt,excludeFields:lt}=Te,bt=[];const Ue=e.getCheckboxRecords();Ke||(Ke=Ue.length?"selected":"current");const Ve=Ye&&Ye.length?Ye:s.searchTree(Q,Re=>{const Me=Re.children&&Re.children.length;let qe=!1;return Ye&&Ye.length?qe=Ee(Te,Re,Ye):lt||nt?qe=be(Te,Re,nt,lt):qe=Re.visible&&(Me||vr(Re)),qe},{children:"children",mapChildren:"childNodes",original:!0}),_e=Object.assign({},Te,{filename:"",sheetName:""});!Ve&&!Et&&(_e.columnFilterMethod=({column:Re})=>lt&&s.includes(lt,Re.field)?!1:nt?!!s.includes(nt,Re.field):mt?Re.field:vr(Re)),Ve?(_e._isCustomColumn=!0,bt=s.searchTree(s.mapTree(Ve,Re=>{let Me;if(Re){if(Rr(Re))Me=Re;else if(s.isString(Re))Me=e.getColumnByField(Re);else{const qe=Re.id||Re.colId,pt=Re.type,et=Re.field;qe?Me=e.getColumnById(qe):et&&pt?Me=J.find(K=>K.field===et&&K.type===pt):et?Me=e.getColumnByField(et):pt&&(Me=J.find(K=>K.type===pt))}return Me||{}}},{children:"childNodes",mapChildren:"_children"}),(Re,Me)=>Rr(Re)&&(!Et||Et({column:Re,$columnIndex:Me})),{children:"_children",mapChildren:"childNodes",original:!0})):bt=s.searchTree(xe?Q:J,(Re,Me)=>Re.visible&&(!Et||Et({column:Re,$columnIndex:Me})),{children:"children",mapChildren:"childNodes",original:!0});const Je=[];if(s.eachTree(bt,Re=>{Re.children&&Re.children.length||Je.push(Re)},{children:"childNodes"}),_e.columns=Je,_e.colgroups=Uc(bt),Ce&&(s.isFunction(Ce)?_e.filename=Ce({options:Te,$table:e,$grid:q}):_e.filename=`${Ce}`),_e.filename||(_e.filename=al(_e.original?"vxe.table.expOriginFilename":"vxe.table.expFilename",[s.toDateString(Date.now(),"yyyyMMddHHmmss")])),Le&&(s.isFunction(Le)?_e.sheetName=Le({options:Te,$table:e,$grid:q}):_e.sheetName=`${Le}`),_e.sheetName||(_e.sheetName=document.title||""),!_e.exportMethod&&!s.includes(s.keys(re._typeMaps),Fe)){Qe("vxe.error.notType",[Fe]);const Re={status:!1};return Promise.reject(Re)}if(_e.print||vt&&vt({options:_e,$table:e,$grid:q}),!_e.data){if(_e.data=[],Ke==="selected")["html","pdf"].indexOf(Fe)>-1&&se?_e.data=s.searchTree(e.getTableData().fullData,Re=>e.findRowIndexOf(Ue,Re)>-1,Object.assign({},ve,{data:"_row"})):_e.data=Ue;else if(Ke==="all"&&q&&!_e.remote){const Re=q.reactData,{computeProxyOpts:Me}=q.getComputeMaps(),qe=Me.value,{sortData:pt}=Re,{beforeQueryAll:et,afterQueryAll:K,ajax:de={}}=qe,ae=qe.response||qe.props||{},ke=de.queryAll,Ae=de.queryAllSuccess,Xe=de.queryAllError;if(ke){const at={$table:e,$grid:q,sort:pt.length?pt[0]:{},sorts:pt,filters:Re.filterData,form:Re.formData,options:_e};return Promise.resolve((et||ke)(at)).then(ct=>{const ft=ae.list;return _e.data=(ft?s.isFunction(ft)?ft({data:ct,$grid:q}):s.get(ct,ft):ct)||[],K&&K(at),Ae&&Ae(Object.assign(Object.assign({},at),{response:ct})),W(_e)}).catch(ct=>{Xe&&Xe(Object.assign(Object.assign({},at),{response:ct}))})}}Ke==="current"&&(_e.data=we)}return W(_e)},importByFile(A,se){const N=Object.assign({},se),{beforeImportMethod:G}=N;return G&&G({options:N,$table:e}),Se(A,N)},importData(A){const se=M.value,N=Object.assign({types:s.keys(se._typeMaps)},se,A),{beforeImportMethod:G,afterImportMethod:ie}=N;return G&&G({options:N,$table:e}),ge.readFile(N).catch(pe=>(ie&&ie({status:!1,options:N,$table:e}),Promise.reject(pe))).then(pe=>{const{file:xe}=pe;return Se(xe,N)})},saveFile(A){return ge.saveFile(A)},readFile(A){return ge.readFile(A)},print(A){const se=b.value,N=Object.assign({original:!1},se,A,{type:"html",download:!1,remote:!1,print:!0}),{sheetName:G}=N;let ie="";G&&(s.isFunction(G)?ie=G({options:N,$table:e,$grid:q}):ie=`${G}`),ie||(ie=document.title||"");const pe=N.beforePrintMethod,xe=N.html||N.content;return new Promise((J,we)=>{ge.print?J(xe?ge.print({title:ie,html:xe,customStyle:N.style,beforeMethod:pe?({html:Q})=>pe({html:Q,content:Q,options:N,$table:e}):void 0}):De.exportData(N).then(({content:Q})=>ge.print({title:ie,html:Q,customStyle:N.style,beforeMethod:pe?({html:re})=>pe({html:re,content:re,options:N,$table:e}):void 0}))):we({status:!1})})},getPrintHtml(A){const se=b.value,N=Object.assign({original:!1},se,A,{type:"html",download:!1,remote:!1,print:!0});return e.exportData(N).then(({content:G})=>({html:G}))},closeImport(){return ge.modal?ge.modal.close("VXE_IMPORT_MODAL"):Promise.resolve()},openImport(A){const{treeConfig:se,importConfig:N}=l,{initStore:G,importStore:ie,importParams:pe}=i,xe=M.value,J=Object.assign({mode:"insertTop",message:!0,types:s.keys(xe._typeMaps),modes:["insertTop","covering"]},xe,A),we=J.types||[],Q=J.modes||[];if(!!se){J.message&&ge.modal&&ge.modal.message({content:al("vxe.error.treeNotImp"),status:"error"});return}N||Qe("vxe.error.reqProp",["import-config"]);const ve=we.map(Z=>({value:Z,label:al(`vxe.export.types.${Z}`)})),me=Q.map(Z=>Z&&Z.value?{value:Z.value,label:Z.label||Z.value}:{value:Z,label:al(`vxe.import.modes.${Z}`)});Object.assign(ie,{file:null,type:"",filename:"",modeList:me,typeList:ve,visible:!0}),Object.assign(pe,J),me.some(Z=>Z.value===pe.mode)||(pe.mode=me[0].value),G.import=!0},closeExport:He,openExport(A){const se=E.value,N=Object.assign({message:!0,types:s.keys(se._typeMaps)},se,A);l.exportConfig||Qe("vxe.error.reqProp",["export-config"]),Oe(N)},closePrint:He,openPrint(A){const se=b.value,N=Object.assign({message:!0},se,A);l.printConfig||Qe("vxe.error.reqProp",["print-config"]),Oe(N,!0)}};return De},setupGrid(e){return e.extendTableMethods(ld)}});const{hooks:nd}=ge,rd=s.browse();function sd(e,l){let i=0,u=0;const C=!rd.firefox&&hl(e,"vxe-checkbox--label");if(C){const b=getComputedStyle(e);i-=s.toNumber(b.paddingTop),u-=s.toNumber(b.paddingLeft)}for(;e&&e!==l;)if(i+=e.offsetTop,u+=e.offsetLeft,e=e.offsetParent,C){const b=getComputedStyle(e);i-=s.toNumber(b.paddingTop),u-=s.toNumber(b.paddingLeft)}return{offsetTop:i,offsetLeft:u}}nd.add("tableKeyboardModule",{setupTable(e){const{props:l,reactData:i,internalData:u}=e,{refElem:C}=e.getRefMaps(),{computeEditOpts:b,computeCheckboxOpts:E,computeMouseOpts:M,computeTreeOpts:$,computeRowOpts:le,computeColumnOpts:p,computeCellOpts:d,computeDefaultRowHeight:S,computeCurrentRowOpts:q,computeCurrentColumnOpts:I}=e.getComputeMaps();function B(te,ce,V,w,y,j){const{showOverflow:U}=l,{fullAllDataRowIdData:ne,isResizeCellHeight:F}=u,W=le.value,he=d.value,Se=S.value,{row:Ee}=ce;let be=0,Oe=[],He=0;const De=j>0,{scrollYLoad:A}=i,{afterFullData:se}=u;if(De?He=y+j:He=w.height-y+Math.abs(j),A){const N=e.getVTRowIndex(Ee);if(!(F||he.height||W.height)&&U)De?Oe=se.slice(N,N+Math.ceil(He/Se)):Oe=se.slice(N-Math.floor(He/Se),N+1);else if(De)for(let ie=N;ie<se.length;ie++){const pe=se[ie],xe=e.getRowid(pe),J=ne[xe]||{};if(be+=J.resizeHeight||he.height||W.height||J.height||Se,Oe.push(pe),be>He)return Oe}else for(let ie=N;ie>=0;ie--){const pe=se[ie],xe=e.getRowid(pe),J=ne[xe]||{};if(be+=J.resizeHeight||he.height||W.height||J.height||Se,Oe.push(pe),be>He)return Oe}}else{const N=De?"next":"previous";for(;V&&be<He;){const G=e.getRowNode(V);G&&(Oe.push(G.item),be+=V.offsetHeight,V=V[`${N}ElementSibling`])}}return Oe}const oe=(te,ce)=>{const{elemStore:V}=u,w=ot(V["main-body-scroll"]),y=ot(V["left-body-scroll"]),j=ot(V["right-body-scroll"]),{column:U,cell:ne}=ce;if(U.type==="checkbox"){let F=w;if(y&&U.fixed==="left"?F=y:j&&U.fixed==="right"&&(F=j),!F)return;const W=C.value,he=te.clientX,Se=te.clientY,Ee=F.querySelector(".vxe-table--checkbox-range"),be=ne.parentElement,Oe=e.getCheckboxRecords();let He=[];const De=1,A=sd(te.target,F),se=A.offsetTop+te.offsetY,N=A.offsetLeft+te.offsetX,G=F.scrollTop,ie=be.offsetHeight,pe=be.getBoundingClientRect(),xe=Se-pe.y;let J=null,we=!1,Q=1;const re=(Te,Ce)=>{e.dispatchEvent(`checkbox-range-${Te}`,{records:e.getCheckboxRecords(),reserves:e.getCheckboxReserveRecords()},Ce)},ve=Te=>{const{clientX:Ce,clientY:Le}=Te,Fe=Ce-he,Ke=Le-Se+(F.scrollTop-G);let Ye=Math.abs(Ke),mt=Math.abs(Fe),Et=se,vt=N;Ke<De?(Et+=Ke,Et<De&&(Et=De,Ye=se)):Ye=Math.min(Ye,F.scrollHeight-se-De),Fe<De?(vt+=Fe,mt>N&&(vt=De,mt=N)):mt=Math.min(mt,F.clientWidth-N-De),Ee.style.height=`${Ye}px`,Ee.style.width=`${mt}px`,Ee.style.left=`${vt}px`,Ee.style.top=`${Et}px`,Ee.style.display="block";const nt=B(Te,ce,be,pe,xe,Ke<De?-Ye:Ye);Ye>10&&nt.length!==He.length&&(He=nt,Te.ctrlKey?nt.forEach(lt=>{e.handleBatchSelectRows([lt],Oe.indexOf(lt)===-1)}):(e.setAllCheckboxRow(!1),e.handleCheckedCheckboxRow(nt,!0,!1)),re("change",Te))},me=()=>{clearTimeout(J),J=null},Z=Te=>{me(),J=setTimeout(()=>{if(J){const{scrollLeft:Ce,scrollTop:Le,clientHeight:Fe,scrollHeight:Ke}=F,Ye=Math.ceil(Q*50/ie);we?Le+Fe<Ke?(e.scrollTo(Ce,Le+Ye),Z(Te),ve(Te)):me():Le?(e.scrollTo(Ce,Le-Ye),Z(Te),ve(Te)):me()}},50)};ol(W,"drag--range"),document.onmousemove=Te=>{Te.preventDefault(),Te.stopPropagation();const{clientY:Ce}=Te,{boundingTop:Le}=yr(F);Ce<Le?(we=!1,Q=Le-Ce,J||Z(Te)):Ce>Le+F.clientHeight?(we=!0,Q=Ce-Le-F.clientHeight,J||Z(Te)):J&&me(),ve(Te)},document.onmouseup=Te=>{me(),Po(W,"drag--range"),Ee.removeAttribute("style"),document.onmousemove=null,document.onmouseup=null,re("end",Te)},re("start",te)}},L=(te,ce)=>{const{editConfig:V,checkboxConfig:w,mouseConfig:y}=l,j=E.value,U=M.value,ne=b.value;if(y&&U.area&&e.handleCellAreaMousedownEvent)return e.handleCellAreaMousedownEvent(te,ce);w&&j.range&&oe(te,ce),y&&U.selected&&(!V||ne.mode==="cell")&&e.handleSelected(ce,te)},k=(te,ce,V,w,y,j)=>{const{afterFullData:U,visibleColumn:ne}=u,F=Object.assign({},ce),W=e.getVTRowIndex(F.row),he=e.getVTColumnIndex(F.column);return te.preventDefault(),w&&W>0?(F.rowIndex=W-1,F.row=U[F.rowIndex]):j&&W<U.length-1?(F.rowIndex=W+1,F.row=U[F.rowIndex]):V&&he?(F.columnIndex=he-1,F.column=ne[F.columnIndex]):y&&he<ne.length-1&&(F.columnIndex=he+1,F.column=ne[F.columnIndex]),e.scrollToRow(F.row,F.column).then(()=>{F.cell=e.getCellElement(F.row,F.column),e.handleSelected(F,te)}),F};return{moveTabSelected(te,ce,V){const{editConfig:w}=l,{afterFullData:y,visibleColumn:j}=u,U=b.value,ne=le.value,F=q.value,W=p.value,he=I.value;let Se,Ee,be;const Oe=Object.assign({},te),He=e.getVTRowIndex(Oe.row),De=e.getVTColumnIndex(Oe.column);V.preventDefault(),ce?De<=0?He>0&&(Ee=He-1,Se=y[Ee],be=j.length-1):be=De-1:De>=j.length-1?He<y.length-1&&(Ee=He+1,Se=y[Ee],be=0):be=De+1;const A=j[be];A&&(Se?(Oe.rowIndex=Ee,Oe.row=Se):Oe.rowIndex=He,Oe.columnIndex=be,Oe.column=A,Oe.cell=e.getCellElement(Oe.row,Oe.column),ne.isCurrent&&F.isFollowSelected&&e.triggerCurrentRowEvent(V,Oe),W.isCurrent&&he.isFollowSelected&&e.triggerCurrentColumnEvent(V,Oe),w?(U.trigger==="click"||U.trigger==="dblclick")&&(U.mode==="row"?e.handleEdit(Oe,V):e.scrollToRow(Oe.row,Oe.column).then(()=>{e.handleSelected(Oe,V)})):e.scrollToRow(Oe.row,Oe.column).then(()=>{e.handleSelected(Oe,V)}))},moveCurrentRow(te,ce,V){const{treeConfig:w}=l,{currentRow:y}=i,{afterFullData:j}=u,U=$.value,ne=U.children||U.childrenField;let F;if(y)if(w){const{index:W,items:he}=s.findTree(j,Se=>Se===y,{children:ne});te&&W>0?F=he[W-1]:ce&&W<he.length-1&&(F=he[W+1])}else{const W=e.getVTRowIndex(y);te&&W>0?F=j[W-1]:ce&&W<j.length-1&&(F=j[W+1])}else F=j[0];if(F){V.preventDefault();const W={$table:e,row:F,rowIndex:e.getRowIndex(F),$rowIndex:e.getVMRowIndex(F)};e.scrollToRow(F).then(()=>e.triggerCurrentRowEvent(V,W))}},moveCurrentColumn(te,ce,V){const{currentColumn:w}=i,{visibleColumn:y}=u;let j=null;if(w){const U=e.getVTColumnIndex(w);te&&U>0?j=y[U-1]:ce&&U<y.length-1&&(j=y[U+1])}else j=y[0];if(j){V.preventDefault();const U={$table:e,column:j,columnIndex:e.getColumnIndex(j),$columnIndex:e.getVMColumnIndex(j)};e.scrollToColumn(j).then(()=>e.triggerCurrentColumnEvent(V,U))}},moveArrowSelected(te,ce,V,w,y,j){const{highlightCurrentRow:U,highlightCurrentColumn:ne}=l,F=le.value,W=p.value;k(j,te,ce,V,w,y),(V||y)&&(F.isCurrent||U)&&e.moveCurrentRow(V,y,j),(ce||w)&&(W.isCurrent||ne)&&e.moveCurrentColumn(ce,w,j)},moveEnterSelected(te,ce,V,w,y,j){const U=le.value,ne=q.value,F=p.value,W=I.value,he=k(j,te,ce,V,w,y);U.isCurrent&&ne.isFollowSelected&&e.triggerCurrentRowEvent(j,he),F.isCurrent&&W.isFollowSelected&&e.triggerCurrentColumnEvent(j,he)},moveSelected(te,ce,V,w,y,j){k(j,te,ce,V,w,y)},handleCellMousedownEvent:L}}});const{getConfig:id,validators:ad,hooks:cd}=ge;class Nn{constructor(l){Object.assign(this,{$options:l,required:l.required,min:l.min,max:l.max,type:l.type,pattern:l.pattern,validator:l.validator,trigger:l.trigger,maxWidth:l.maxWidth})}get content(){return gl(this.$options.content||this.$options.message)}get message(){return this.content}}const dd=["fullValidate","validate","fullValidateField","validateField","clearValidate"];cd.add("tableValidatorModule",{setupTable(e){const{props:l,reactData:i,internalData:u}=e,{refValidTooltip:C}=e.getRefMaps(),{computeValidOpts:b,computeTreeOpts:E,computeEditOpts:M}=e.getComputeMaps();let $={},le={},p;const d=B=>new Promise(oe=>{b.value.autoPos===!1?(e.dispatchEvent("valid-error",B,null),oe()):e.handleEdit(B,{type:"valid-error",trigger:"call"}).then(()=>{oe(le.showValidTooltip(B))})}),S=B=>{if(b.value.msgMode==="single"){const L=Object.keys(B),k={};if(L.length){const _=L[0];k[_]=B[_]}return k}return B},q=(B,oe,L,k)=>{const _={},{editRules:te,treeConfig:ce}=l,{afterFullData:V,pendingRowMaps:w,removeRowMaps:y}=u,j=E.value,U=j.children||j.childrenField,ne=b.value;let F;B===!0?F=V:B&&(s.isFunction(B)?L=B:F=s.isArray(B)?B:[B]),F||(e.getInsertRecords?F=e.getInsertRecords().concat(e.getUpdateRecords()):F=[]);const W=[];u._lastCallTime=Date.now(),p=!1,$.clearValidate();const he={};if(te){const Se=oe&&oe.length?oe:e.getColumns(),Ee=be=>{const Oe=Pe(e,be);if(!y[Oe]&&!w[Oe]&&(k||!p)){const He=[];Se.forEach(De=>{const A=s.isString(De)?De:De.field;(k||!p)&&s.has(te,A)&&He.push(le.validCellRules("all",be,De).catch(({rule:se,rules:N})=>{const G={rule:se,rules:N,rowIndex:e.getRowIndex(be),row:be,columnIndex:e.getColumnIndex(De),column:De,field:A,$table:e};if(_[A]||(_[A]=[]),he[`${Pe(e,be)}:${De.id}`]={column:De,row:be,rule:se,content:se.content},_[A].push(G),!k)return p=!0,Promise.reject(G)}))}),W.push(Promise.all(He))}};return ce?s.eachTree(F,Ee,{children:U}):F.forEach(Ee),Promise.all(W).then(()=>{const be=Object.keys(_);return i.validErrorMaps=S(he),ue().then(()=>{if(be.length)return Promise.reject(_[be[0]][0]);L&&L()})}).catch(be=>new Promise((Oe,He)=>{const De=()=>{ue(()=>{L?(L(_),Oe()):id().validToReject==="obsolete"?He(_):Oe(_)})},A=()=>{be.cell=e.getCellElement(be.row,be.column),ec(be.cell),d(be).then(De)};if(ne.autoPos===!1)De();else{const se=be.row,N=be.column;e.scrollToRow(se,N).then(A)}}))}else i.validErrorMaps={};return ue().then(()=>{L&&L()})};$={fullValidate(B,oe){return q(B,null,oe,!0)},validate(B,oe){return q(B,null,oe)},fullValidateField(B,oe){const L=(s.isArray(oe)?oe:oe?[oe]:[]).map(k=>ao(e,k));return L.length?q(B,L,null,!0):ue()},validateField(B,oe){const L=(s.isArray(oe)?oe:oe?[oe]:[]).map(k=>ao(e,k));return L.length?q(B,L,null):ue()},clearValidate(B,oe){const{validErrorMaps:L}=i,k=C.value,_=b.value,te=s.isArray(B)?B:B?[B]:[],ce=(s.isArray(oe)?oe:oe?[oe]:[]).map(w=>ao(e,w));let V={};if(k&&k.reactData.visible&&k.close(),_.msgMode==="single")return i.validErrorMaps={},ue();if(te.length&&ce.length)V=Object.assign({},L),te.forEach(w=>{ce.forEach(y=>{const j=`${Pe(e,w)}:${y.id}`;V[j]&&delete V[j]})});else if(te.length){const w=te.map(y=>`${Pe(e,y)}`);s.each(L,(y,j)=>{w.indexOf(j.split(":")[0])>-1&&(V[j]=y)})}else if(ce.length){const w=ce.map(y=>`${y.id}`);s.each(L,(y,j)=>{w.indexOf(j.split(":")[1])>-1&&(V[j]=y)})}return i.validErrorMaps=V,ue()}};const I=(B,oe)=>{const{type:L,min:k,max:_,pattern:te}=B,ce=L==="number",V=ce?s.toNumber(oe):s.getSize(oe);return!!(ce&&isNaN(oe)||!s.eqNull(k)&&V<s.toNumber(k)||!s.eqNull(_)&&V>s.toNumber(_)||te&&!(s.isRegExp(te)?te:new RegExp(te)).test(oe))};return le={validCellRules(B,oe,L,k){const _=e.xeGrid,{editRules:te}=l,{field:ce}=L,V=[],w=[];if(ce&&te){const y=s.get(te,ce);if(y){const j=s.isUndefined(k)?s.get(oe,ce):k;y.forEach(U=>{const{type:ne,trigger:F,required:W,validator:he}=U;if(B==="all"||!F||B===F)if(he){const Se={cellValue:j,rule:U,rules:y,row:oe,rowIndex:e.getRowIndex(oe),column:L,columnIndex:e.getColumnIndex(L),field:L.field,$table:e,$grid:_};let Ee;if(s.isString(he)){const be=ad.get(he);if(be){const Oe=be.tableCellValidatorMethod||be.cellValidatorMethod;Oe&&(Ee=Oe(Se))}else Qe("vxe.error.notValidators",[he])}else Ee=he(Se);Ee&&(s.isError(Ee)?(p=!0,V.push(new Nn({type:"custom",trigger:F,content:Ee.message,rule:new Nn(U)}))):Ee.catch&&w.push(Ee.catch(be=>{p=!0,V.push(new Nn({type:"custom",trigger:F,content:be&&be.message?be.message:U.content||U.message,rule:new Nn(U)}))})))}else{const Se=ne==="array",Ee=s.isArray(j);let be=!0;Se||Ee?be=!Ee||!j.length:s.isString(j)?be=pl(j.trim()):be=pl(j),(W?be||I(U,j):!be&&I(U,j))&&(p=!0,V.push(new Nn(U)))}})}}return Promise.all(w).then(()=>{if(V.length){const y={rules:V,rule:V[0]};return Promise.reject(y)}})},hasCellRules(B,oe,L){const{editRules:k}=l,{field:_}=L;if(_&&k){const te=s.get(k,_);return te&&!!s.find(te,ce=>B==="all"||!ce.trigger||B===ce.trigger)}return!1},triggerValidate(B){const{editConfig:oe,editRules:L}=l,{editStore:k}=i,{actived:_}=k,te=M.value,ce=b.value;if(L&&ce.msgMode==="single"&&(i.validErrorMaps={}),oe&&L&&_.row){const{row:V,column:w,cell:y}=_.args;if(le.hasCellRules(B,V,w))return le.validCellRules(B,V,w).then(()=>{te.mode==="row"&&$.clearValidate(V,w)}).catch(({rule:j})=>{if(!j.trigger||B===j.trigger){const U={rule:j,row:V,column:w,cell:y};return le.showValidTooltip(U),Promise.reject(U)}return Promise.resolve()})}return Promise.resolve()},showValidTooltip(B){const{height:oe}=l,{tableData:L,validStore:k,validErrorMaps:_}=i,{rule:te,row:ce,column:V,cell:w}=B,y=b.value,j=C.value,U=te.content;return k.visible=!0,y.msgMode==="single"?i.validErrorMaps={[`${Pe(e,ce)}:${V.id}`]:{column:V,row:ce,rule:te,content:U}}:i.validErrorMaps=Object.assign({},_,{[`${Pe(e,ce)}:${V.id}`]:{column:V,row:ce,rule:te,content:U}}),e.dispatchEvent("valid-error",B,null),j&&j&&(y.message==="tooltip"||y.message==="default"&&!oe&&L.length<2)?j.open(w,U):ue()}},Object.assign(Object.assign({},$),le)},setupGrid(e){return e.extendTableMethods(dd)}});const ud=["openCustom","closeCustom","saveCustom","cancelCustom","resetCustom","toggleCustomAllCheckbox","setCustomAllCheckbox"];ge.hooks.add("tableCustomModule",{setupTable(e){const{reactData:l,internalData:i}=e,{computeCustomOpts:u}=e.getComputeMaps(),{refElem:C}=e.getRefMaps(),b=e.xeGrid,E=()=>{const{customStore:L}=l,k=C.value;let _=0;k&&(_=k.clientHeight-28),L.maxHeight=Math.max(88,_)},M=()=>{const{initStore:L,customStore:k}=l;return k.visible=!0,L.custom=!0,$(),I(),E(),ue().then(()=>E())},$=()=>{const{customStore:L}=l,{collectColumn:k}=i;if(L.visible){const _={},te={},ce={};s.eachTree(k,V=>{const w=V.getKey();V.renderFixed=V.fixed,V.renderVisible=V.visible,V.renderResizeWidth=V.renderWidth,_[w]=V.renderSortNumber,te[w]=V.fixed,ce[w]=V.visible}),L.oldSortMaps=_,L.oldFixedMaps=te,L.oldVisibleMaps=ce,l.customColumnList=k.slice(0)}},le=()=>{const{customStore:L}=l,k=u.value;return L.visible&&(L.visible=!1,k.immediate||e.handleCustom()),ue()},p=()=>{const{customColumnList:L}=l,k=u.value,{allowVisible:_,allowSort:te,allowFixed:ce,allowResizable:V}=k;return s.eachTree(L,(w,y,j,U,ne)=>{if(ne)w.fixed=ne.fixed;else{if(te){const F=y+1;w.renderSortNumber=F}ce&&(w.fixed=w.renderFixed)}V&&w.renderVisible&&(!w.children||w.children.length)&&w.renderResizeWidth!==w.renderWidth&&(w.resizeWidth=w.renderResizeWidth,w.renderWidth=w.renderResizeWidth),_&&(w.visible=w.renderVisible)}),l.isCustomStatus=!0,l.isDragColMove=!0,setTimeout(()=>{l.isDragColMove=!1},1e3),e.saveCustomStore("confirm")},d=()=>{const{customColumnList:L,customStore:k}=l,{oldSortMaps:_,oldFixedMaps:te,oldVisibleMaps:ce}=k,V=u.value,{allowVisible:w,allowSort:y,allowFixed:j,allowResizable:U}=V;return s.eachTree(L,ne=>{const F=ne.getKey(),W=!!ce[F],he=te[F]||"";w&&(ne.renderVisible=W,ne.visible=W),j&&(ne.renderFixed=he,ne.fixed=he),y&&(ne.renderSortNumber=_[F]||0),U&&(ne.renderResizeWidth=ne.renderWidth)},{children:"children"}),ue()},S=L=>{const{customStore:k}=l,{customColumnList:_}=l,te=u.value,{checkMethod:ce,visibleMethod:V}=te,w=!!L;return te.immediate?(s.eachTree(_,y=>{V&&!V({column:y})||ce&&!ce({column:y})||(y.visible=w,y.renderVisible=w,y.halfVisible=!1)}),k.isAll=w,l.isCustomStatus=!0,e.handleCustom(),e.saveCustomStore("update:visible")):(s.eachTree(_,y=>{V&&!V({column:y})||ce&&!ce({column:y})||(y.renderVisible=w,y.halfVisible=!1)}),k.isAll=w),e.checkCustomStatus(),ue()},q={openCustom:M,closeCustom:le,saveCustom:p,cancelCustom:d,resetCustom(L){const{collectColumn:k}=i,_=u.value,{checkMethod:te}=_,ce=Object.assign({visible:!0,resizable:L===!0,fixed:L===!0,sort:L===!0},L);return s.eachTree(k,V=>{ce.resizable&&(V.resizeWidth=0),ce.fixed&&(V.fixed=V.defaultFixed),ce.sort&&(V.renderSortNumber=V.sortNumber),(!te||te({column:V}))&&(V.visible=V.defaultVisible),V.renderResizeWidth=V.renderWidth}),l.isCustomStatus=!1,e.saveCustomStore("reset"),e.handleCustom()},toggleCustomAllCheckbox(){const{customStore:L}=l,k=!L.isAll;return S(k)},setCustomAllCheckbox:S},I=()=>{const{customStore:L}=l,{collectColumn:k}=i,_=u.value,{checkMethod:te}=_;L.isAll=k.every(ce=>(te?!te({column:ce}):!1)||ce.renderVisible),L.isIndeterminate=!L.isAll&&k.some(ce=>(!te||te({column:ce}))&&(ce.renderVisible||ce.halfVisible))},B=(L,k)=>{(b||e).dispatchEvent("custom",{type:L},k)},oe={checkCustomStatus:I,emitCustomEvent:B,triggerCustomEvent(L){const{customStore:k}=e.reactData;k.visible?(le(),B("close",L)):(k.btnEl=L.target,M(),B("open",L))},customOpenEvent(L){const{customStore:k}=l;k.visible||(k.activeBtn=!0,k.btnEl=L.target,e.openCustom(),e.emitCustomEvent("open",L))},customCloseEvent(L){const{customStore:k}=l;k.visible&&(k.activeBtn=!1,e.closeCustom(),e.emitCustomEvent("close",L))},handleUpdateCustomColumn:$};return Object.assign(Object.assign({},q),oe)},setupGrid(e){return e.extendTableMethods(ud)}});const{getConfig:Sr,renderer:fd,getI18n:Es,getComponent:ta}=ge,oa="modelValue",la={};function ul(e,l,i){return s.eqNull(e)?s.eqNull(l)?i:l:e}function pd(e,l){return e&&l.valueFormat?s.toStringDate(e,l.valueFormat):e}function hd(e,l,i){const{dateConfig:u={}}=l;return s.toDateString(pd(e,l),u.labelFormat||i)}function is(e,l){return hd(e,l,Es(`vxe.input.date.labelFormat.${l.type||"date"}`))}function gd(e){return`vxe-${e.replace("$","")}`}function _o({name:e}){return ta(e)}function kr({name:e}){return Ka(gd(e))}function Dr(e,l,i){const{$panel:u}=e;u.changeOption({},l,i)}function Ar(e){let{name:l,attrs:i}=e;return l==="input"&&(i=Object.assign({type:"text"},i)),i}function na(e){const{name:l,immediate:i,props:u}=e;if(!i){if(l==="VxeInput"||l==="$input"){const{type:C}=u||{};return!(!C||C==="text"||C==="number"||C==="integer"||C==="float")}return!(l==="input"||l==="textarea"||l==="$textarea")}return i}function nl(e,l,i,u){return s.assign({immediate:na(e)},la,u,e.props,{[oa]:i})}function Mr(e,l,i,u){return s.assign({},la,u,e.props,{[oa]:i})}function Lr(e,l){return l.$type==="cell"||na(e)}function Ho(e,l,i,u){const{placeholder:C}=e;return[g("span",{class:["vxe-cell--label",u?u.class:""]},C&&bs(i)?[g("span",{class:"vxe-cell--placeholder"},wo(gl(C),1))]:wo(i,1))]}function ra(e,l,i){const{events:u}=e,C=Ui(e),b=Zi(e),{model:E,change:M,blur:$}=i||{},le=b===C,p={};return u&&s.objectEach(u,(d,S)=>{p[Fl(S)]=function(...q){d(l,...q)}}),E&&(p[Fl(C)]=function(d){E(d),le&&M&&M(d),u&&u[C]&&u[C](l,d)}),!le&&M&&(p[Fl(b)]=function(d){M(d),u&&u[b]&&u[b](l,d)}),$&&(p[Fl(yn)]=function(d){$(d),u&&u[yn]&&u[yn](l,d)}),p}const yn="blur";function Yn(e,l,i){const{events:u}=e,C=Ui(e),b=Zi(e),{model:E,change:M,blur:$}=i||{},le={};return s.objectEach(u,(p,d)=>{le[Fl(d)]=function(...S){s.isFunction(p)||Qe("vxe.error.errFunc",[p]),p(l,...S)}}),E&&(le[Fl(C)]=function(p){E(p),u&&u[C]&&u[C](l,p)}),M&&(le[Fl(b)]=function(...p){M(...p),u&&u[b]&&u[b](l,...p)}),$&&(le[Fl(yn)]=function(...p){$(...p),u&&u[yn]&&u[yn](l,...p)}),le}function ll(e,l){const{$table:i,row:u,column:C}=l,{name:b}=e,{model:E}=C,M=Lr(e,l);return Yn(e,l,{model($){E.update=!0,E.value=$,M&&dl(u,C,$)},change($){if(!M&&b&&["VxeInput","VxeNumberInput","VxeTextarea","$input","$textarea"].includes(b)){const le=$.value;E.update=!0,E.value=le,i.updateStatus(l,le)}else i.updateStatus(l)},blur(){M?i.handleCellRuleUpdateStatus("blur",l):i.handleCellRuleUpdateStatus("blur",l,E.value)}})}function Tr(e,l,i){return Yn(e,l,{model(u){i.data=u},change(){Dr(l,!s.eqNull(i.data),i)},blur(){Dr(l,!s.eqNull(i.data),i)}})}function sa(e,l){const{$table:i,row:u,column:C}=l,{model:b}=C;return ra(e,l,{model(E){const M=E.target;if(M){const $=M.value;Lr(e,l)?dl(u,C,$):(b.update=!0,b.value=$)}},change(E){const M=E.target;if(M){const $=M.value;i.updateStatus(l,$)}},blur(E){const M=E.target;if(M){const $=M.value;i.updateStatus(l,$)}}})}function ia(e,l,i){return ra(e,l,{model(u){const C=u.target;C&&(i.data=C.value)},change(){Dr(l,!s.eqNull(i.data),i)},blur(){Dr(l,!s.eqNull(i.data),i)}})}function as(e,l){const{row:i,column:u}=l,{name:C}=e,b=Lr(e,l)?Eo(i,u):u.model.value;return[g(C,Object.assign(Object.assign(Object.assign({class:`vxe-default-${C}`},Ar(e)),{value:b}),sa(e,l)))]}function md(e,l){return[g(_o(e),Object.assign(Object.assign({},nl(e,l,null)),Yn(e,l)))]}function Lo(e,l){const{row:i,column:u}=l,C=Eo(i,u);return[g(_o(e),Object.assign(Object.assign({},nl(e,l,C)),ll(e,l)))]}function vi(e,l){const{options:i}=e,{row:u,column:C}=l,b=Eo(u,C);return[g(_o(e),Object.assign(Object.assign({options:i},nl(e,l,b)),ll(e,l)))]}function wr(e,l){const{row:i,column:u}=l,C=Eo(i,u);return[g(kr(e),Object.assign(Object.assign({},nl(e,l,C)),ll(e,l)))]}function aa(e,l){return[g(ta("vxe-button"),Object.assign(Object.assign({},nl(e,l,null)),Yn(e,l)))]}function bd(e,l){return e.children.map(i=>aa(i,l)[0])}function ca(e,l,i){const{optionGroups:u,optionGroupProps:C={}}=e,b=C.options||"options",E=C.label||"label";return u.map((M,$)=>g("optgroup",{key:$,label:M[E]},i(M[b],e,l)))}function Fr(e,l,i){const{optionProps:u={}}=l,{row:C,column:b}=i,E=u.label||"label",M=u.value||"value",$=u.disabled||"disabled",le=Lr(l,i)?Eo(C,b):b.model.value;return e.map((p,d)=>g("option",{key:d,value:p[M],disabled:p[$],selected:p[M]==le},p[E]))}function xd(e,l){const{column:i}=l,{name:u}=e,C=Ar(e);return i.filters.map((b,E)=>g(u,Object.assign(Object.assign(Object.assign({key:E,class:`vxe-default-${u}`},C),{value:b.data}),ia(e,l,b))))}function cs(e,l){const{column:i}=l;return i.filters.map((u,C)=>{const b=u.data;return g(_o(e),Object.assign(Object.assign({key:C},Mr(e,e,b)),Tr(e,l,u)))})}function vd(e,l){const{column:i}=l;return i.filters.map((u,C)=>{const b=u.data;return g(kr(e),Object.assign(Object.assign({key:C},Mr(e,e,b)),Tr(e,l,u)))})}function _n({option:e,row:l,column:i}){const{data:u}=e;return s.get(l,i.field)==u}function Wn({option:e,row:l,column:i}){const{data:u}=e,C=s.get(l,i.field);return s.toValueString(C).indexOf(u)>-1}function Ci(e,l){return[g("select",Object.assign(Object.assign({class:"vxe-default-select"},Ar(e)),sa(e,l)),e.optionGroups?ca(e,l,Fr):Fr(e.options,e,l))]}function wi(e,l){const{row:i,column:u}=l,{options:C,optionProps:b,optionGroups:E,optionGroupProps:M}=e,$=Eo(i,u);return[g(_o(e),Object.assign(Object.assign({},nl(e,l,$,{options:C,optionProps:b,optionGroups:E,optionGroupProps:M})),ll(e,l)))]}function Ei(e,l){const{row:i,column:u}=l,{options:C,optionProps:b}=e,E=Eo(i,u);return[g(_o(e),Object.assign(Object.assign({},nl(e,l,E,{options:C,optionProps:b})),ll(e,l)))]}function yi(e,l){const{row:i,column:u}=l,{options:C,optionProps:b,optionGroups:E,optionGroupProps:M}=e,$=Eo(i,u);return[g(kr(e),Object.assign(Object.assign({},nl(e,l,$,{options:C,optionProps:b,optionGroups:E,optionGroupProps:M})),ll(e,l)))]}function vn(e,{row:l,column:i}){const{options:u,optionGroups:C,optionProps:b={},optionGroupProps:E={}}=e,M=s.get(l,i.field);let $;const le=b.label||"label",p=b.value||"value";return M!=null?s.map(s.isArray(M)?M:[M],C?d=>{const S=E.options||"options";for(let q=0;q<C.length&&($=s.find(C[q][S],I=>I[p]==d),!$);q++);return $?$[le]:d}:d=>($=s.find(u,S=>S[p]==d),$?$[le]:d)).join(", "):""}function Er(e){const{row:l,column:i,options:u}=e;return u.original?Eo(l,i):vn(i.editRender||i.cellRender,e)}function Kn(e,{row:l,column:i}){const{options:u,optionProps:C={}}=e,b=s.get(l,i.field),E=C.label||"label",M=C.value||"value",$=C.children||"children";if(b!=null){const le={};return s.eachTree(u,p=>{le[s.get(p,M)]=p},{children:$}),s.map(s.isArray(b)?b:[b],p=>{const d=le[p];return d&&s.get(d,E)}).join(", ")}return""}function ds(e){const{row:l,column:i,options:u}=e;return u.original?Eo(l,i):Kn(i.editRender||i.cellRender,e)}function Ri(e,l){const{props:i={},showNegativeStatus:u}=e,{row:C,column:b}=l,{type:E}=i;let M=s.get(C,b.field),$=!1;if(!bs(M)){const le=Sr().numberInput||{};if(E==="float"){const p=ul(i.autoFill,le.autoFill,!0),d=ul(i.digits,le.digits,1);M=s.toFixed(s.floor(M,d),d),p||(M=s.toNumber(M)),u&&M<0&&($=!0)}else if(E==="amount"){const p=ul(i.autoFill,le.autoFill,!0),d=ul(i.digits,le.digits,2),S=ul(i.showCurrency,le.showCurrency,!1);if(M=s.toNumber(M),u&&M<0&&($=!0),M=s.commafy(M,{digits:d}),!p){const[q,I]=M.split(".");if(I){const B=I.replace(/0+$/,"");M=B?[q,".",B].join(""):q}}S&&(M=`${i.currencySymbol||le.currencySymbol||Es("vxe.numberInput.currencySymbol")||""}${M}`)}else u&&s.toNumber(M)<0&&($=!0)}return Ho(e,l,M,$?{class:"is--negative"}:{})}fd.mixin({input:{tableAutoFocus:"input",renderTableEdit:as,renderTableDefault:as,renderTableFilter:xd,tableFilterDefaultMethod:Wn},textarea:{tableAutoFocus:"textarea",renderTableEdit:as},select:{renderTableEdit:Ci,renderTableDefault:Ci,renderTableCell(e,l){return Ho(e,l,vn(e,l))},renderTableFilter(e,l){const{column:i}=l;return i.filters.map((u,C)=>g("select",Object.assign(Object.assign({key:C,class:"vxe-default-select"},Ar(e)),ia(e,l,u)),e.optionGroups?ca(e,l,Fr):Fr(e.options,e,l)))},tableFilterDefaultMethod:_n,tableExportMethod:Er},VxeInput:{tableAutoFocus:"input",renderTableEdit:Lo,renderTableCell(e,l){const{props:i={}}=e,{row:u,column:C}=l,b=Sr().input||{},E=i.digits||b.digits||2;let M=s.get(u,C.field);if(M)switch(i.type){case"date":case"week":case"month":case"quarter":case"year":M=is(M,i);break;case"float":M=s.toFixed(s.floor(M,E),E);break}return Ho(e,l,M)},renderTableDefault:Lo,renderTableFilter:cs,tableFilterDefaultMethod:Wn},FormatNumberInput:{renderTableDefault:Ri,tableFilterDefaultMethod:Wn,tableExportMethod(e){const{row:l,column:i}=e;return s.get(l,i.field)}},VxeNumberInput:{tableAutoFocus:"input",renderTableEdit:Lo,renderTableCell:Ri,renderTableFooter(e,l){const{props:i={}}=e,{row:u,column:C,_columnIndex:b}=l,{type:E}=i,M=s.isArray(u)?u[b]:s.get(u,C.field);if(s.isNumber(M)){const $=Sr().numberInput||{};if(E==="float"){const le=ul(i.autoFill,$.autoFill,!0),p=ul(i.digits,$.digits,1);let d=s.toFixed(s.floor(M,p),p);return le||(d=s.toNumber(d)),d}else if(E==="amount"){const le=ul(i.autoFill,$.autoFill,!0),p=ul(i.digits,$.digits,2),d=ul(i.showCurrency,$.showCurrency,!1);let S=s.commafy(s.toNumber(M),{digits:p});if(!le){const[q,I]=S.split(".");if(I){const B=I.replace(/0+$/,"");S=B?[q,".",B].join(""):q}}return d&&(S=`${i.currencySymbol||$.currencySymbol||Es("vxe.numberInput.currencySymbol")||""}${S}`),S}}return gl(M,1)},renderTableDefault:Lo,renderTableFilter:cs,tableFilterDefaultMethod:Wn,tableExportMethod(e){const{row:l,column:i}=e;return s.get(l,i.field)}},VxeDatePicker:{tableAutoFocus:"input",renderTableEdit:Lo,renderTableCell(e,l){const{props:i={}}=e,{row:u,column:C}=l;let b=s.get(u,C.field);return b&&i.type!=="time"&&(b=is(b,i)),Ho(e,l,b)},renderTableDefault:Lo,renderTableFilter:cs,tableFilterDefaultMethod:_n},VxeTextarea:{tableAutoFocus:"textarea",renderTableEdit:Lo,renderTableCell(e,l){const{row:i,column:u}=l,C=s.get(i,u.field);return Ho(e,l,C)}},VxeButton:{renderTableDefault:md},VxeButtonGroup:{renderTableDefault(e,l){const{options:i}=e;return[g(_o(e),Object.assign(Object.assign({options:i},nl(e,l,null)),Yn(e,l)))]}},VxeSelect:{tableAutoFocus:"input",renderTableEdit:wi,renderTableDefault:wi,renderTableCell(e,l){return Ho(e,l,vn(e,l))},renderTableFilter(e,l){const{column:i}=l,{options:u,optionProps:C,optionGroups:b,optionGroupProps:E}=e;return i.filters.map((M,$)=>{const le=M.data;return g(_o(e),Object.assign(Object.assign({key:$},Mr(e,l,le,{options:u,optionProps:C,optionGroups:b,optionGroupProps:E})),Tr(e,l,M)))})},tableFilterDefaultMethod:_n,tableExportMethod:Er},formatOption:{renderTableDefault(e,l){return Ho(e,l,vn(e,l))}},FormatSelect:{renderTableDefault(e,l){return Ho(e,l,vn(e,l))},tableFilterDefaultMethod:_n,tableExportMethod:Er},VxeTreeSelect:{tableAutoFocus:"input",renderTableEdit:Ei,renderTableCell(e,l){return Ho(e,l,Kn(e,l))},tableExportMethod:ds},formatTree:{renderTableDefault(e,l){return Ho(e,l,Kn(e,l))}},FormatTreeSelect:{renderTableDefault(e,l){return Ho(e,l,Kn(e,l))},tableExportMethod:ds},VxeTableSelect:{tableAutoFocus:"input",renderTableEdit:Ei,renderTableCell(e,l){return Ho(e,l,Kn(e,l))},tableExportMethod:ds},VxeColorPicker:{tableAutoFocus:"input",renderTableEdit(e,l){const{row:i,column:u}=l,{options:C}=e,b=Eo(i,u);return[g(_o(e),Object.assign(Object.assign({},nl(e,l,b,{colors:C})),ll(e,l)))]},renderTableCell(e,l){const{row:i,column:u}=l,C=s.get(i,u.field);return g("span",{class:"vxe-color-picker--readonly"},[g("div",{class:"vxe-color-picker--readonly-color",style:{backgroundColor:C}})])}},VxeIconPicker:{tableAutoFocus:"input",renderTableEdit(e,l){const{row:i,column:u}=l,{options:C}=e,b=Eo(i,u);return[g(_o(e),Object.assign(Object.assign({},nl(e,l,b,{icons:C})),ll(e,l)))]},renderTableCell(e,l){const{row:i,column:u}=l,C=s.get(i,u.field);return g("i",{class:C})}},VxeRadioGroup:{renderTableDefault:vi},VxeCheckboxGroup:{renderTableDefault:vi},VxeSwitch:{tableAutoFocus:"button",renderTableEdit:Lo,renderTableDefault:Lo},VxeUpload:{renderTableEdit:Lo,renderTableCell:Lo,renderTableDefault:Lo},VxeImage:{renderTableDefault(e,l){const{row:i,column:u}=l,{props:C}=e,b=Eo(i,u);return[g(_o(e),Object.assign(Object.assign(Object.assign({},C),{src:b}),ll(e,l)))]}},VxeImageGroup:{renderTableDefault(e,l){const{row:i,column:u}=l,{props:C}=e,b=Eo(i,u);return[g(_o(e),Object.assign(Object.assign(Object.assign({},C),{urlList:b}),ll(e,l)))]}},VxeTextEllipsis:{renderTableDefault(e,l){const{row:i,column:u}=l,{props:C}=e,b=Eo(i,u);return[g(_o(e),Object.assign(Object.assign(Object.assign({},C),{content:b}),ll(e,l)))]}},VxeRate:{renderTableDefault:Lo},VxeSlider:{renderTableDefault:Lo},$input:{tableAutoFocus:".vxe-input--inner",renderTableEdit:wr,renderTableCell(e,l){var i;const{props:u={}}=e,{row:C,column:b}=l,E=u.digits||((i=Sr().input)===null||i===void 0?void 0:i.digits)||2;let M=s.get(C,b.field);if(M)switch(u.type){case"date":case"week":case"month":case"year":M=is(M,u);break;case"float":M=s.toFixed(s.floor(M,E),E);break}return Ho(e,l,M)},renderTableDefault:wr,renderTableFilter:vd,tableFilterDefaultMethod:Wn},$textarea:{tableAutoFocus:".vxe-textarea--inner"},$button:{renderTableDefault:aa},$buttons:{renderTableDefault:bd},$select:{tableAutoFocus:".vxe-input--inner",renderTableEdit:yi,renderTableDefault:yi,renderTableCell(e,l){return Ho(e,l,vn(e,l))},renderTableFilter(e,l){const{column:i}=l,{options:u,optionProps:C,optionGroups:b,optionGroupProps:E}=e;return i.filters.map((M,$)=>{const le=M.data;return g(kr(e),Object.assign(Object.assign({key:$},Mr(e,l,le,{options:u,optionProps:C,optionGroups:b,optionGroupProps:E})),Tr(e,l,M)))})},tableFilterDefaultMethod:_n,tableExportMethod:Er},$radio:{tableAutoFocus:".vxe-radio--input"},$checkbox:{tableAutoFocus:".vxe-checkbox--input"},$switch:{tableAutoFocus:".vxe-switch--button",renderTableEdit:wr,renderTableDefault:wr}});const Cd=Object.assign({},En,{install(e){e.component(En.name,En)}}),wd={useCellView:Hc};ge.dynamicApp&&ge.dynamicApp.component(En.name,En);ge.component(En);ge.tableHandle=wd;const da={colId:[String,Number],type:String,field:String,title:String,width:[Number,String],minWidth:[Number,String],maxWidth:[Number,String],resizable:{type:Boolean,default:null},fixed:String,align:String,headerAlign:String,footerAlign:String,showOverflow:{type:[Boolean,String],default:null},showHeaderOverflow:{type:[Boolean,String],default:null},showFooterOverflow:{type:[Boolean,String],default:null},className:[String,Function],headerClassName:[String,Function],footerClassName:[String,Function],formatter:[Function,Array,String],footerFormatter:[Function,Array,String],padding:{type:Boolean,default:null},verticalAlign:{type:String,default:null},sortable:Boolean,sortBy:[String,Function],sortType:String,filters:{type:Array,default:null},filterMultiple:{type:Boolean,default:!0},filterMethod:Function,filterResetMethod:Function,filterRecoverMethod:Function,filterRender:Object,treeNode:Boolean,dragSort:Boolean,rowResize:Boolean,visible:{type:Boolean,default:null},headerExportMethod:Function,exportMethod:Function,footerExportMethod:Function,titleHelp:Object,titlePrefix:Object,titleSuffix:Object,cellType:String,cellRender:Object,editRender:Object,contentRender:Object,params:Object},Il=Wo({name:"VxeColumn",props:da,setup(e,{slots:l}){const i=je(),u=Io("$xeTable",null),C=Io("$xeColgroup",null);if(!u)return()=>tt();const b=dt.createColumn(u,e);b.slots=l;const E=()=>g("div",{ref:i}),M={columnConfig:b,renderVN:E};return Wi(u,e,b),Ul(()=>{const $=i.value;$&&qi(u,$,b,C)}),Zl(()=>{Xi(u,b)}),Gl("$xeColumn",M),Gl("$xeGrid",null),E}}),Vd=Object.assign({},Il,{install(e){e.component(Il.name,Il),e.component("VxeTableColumn",Il)}});ge.dynamicApp&&(ge.dynamicApp.component(Il.name,Il),ge.dynamicApp.component("VxeTableColumn",Il));ge.component(Il);const kl=Wo({name:"VxeColgroup",props:da,setup(e,{slots:l}){const i=je(),u=Io("$xeTable",null),C=Io("$xeColgroup",null);if(!u)return()=>tt();const b=dt.createColumn(u,e),E={};l.header&&(E.header=l.header),b.slots=E,b.children=[],Wi(u,e,b),Ul(()=>{const le=i.value;le&&qi(u,le,b,C)}),Zl(()=>{Xi(u,b)});const M=()=>g("div",{ref:i},l.default?l.default():[]);return Gl("$xeColgroup",{columnConfig:b}),Gl("$xeGrid",null),M}}),zd=Object.assign({},kl,{install(e){e.component(kl.name,kl),e.component("VxeTableColgroup",kl)}});ge.dynamicApp&&(ge.dynamicApp.component(kl.name,kl),ge.dynamicApp.component("VxeTableColgroup",kl));ge.component(kl);const{getConfig:tl,getIcon:Ml,getI18n:mn,renderer:Si,commands:Oi,createEvent:Ed,useFns:yd}=ge,Rn=Wo({name:"VxeToolbar",props:{loading:Boolean,refresh:[Boolean,Object],import:[Boolean,Object],export:[Boolean,Object],print:[Boolean,Object],zoom:[Boolean,Object],custom:[Boolean,Object],buttons:{type:Array,default:()=>tl().toolbar.buttons},tools:{type:Array,default:()=>tl().toolbar.tools},perfect:{type:Boolean,default:()=>tl().toolbar.perfect},size:{type:String,default:()=>tl().toolbar.size||tl().size},className:[String,Function]},emits:["button-click","tool-click"],setup(e,l){const{slots:i,emit:u}=l,C=s.uniqueId(),b=ge.getComponent("VxeButton"),{computeSize:E}=yd.useSize(e),M=fl({isRefresh:!1,connectFlag:0,columns:[]}),$={connectTable:null},le=je(),p={refElem:le},d={xID:C,props:e,context:l,reactData:M,internalData:$,getRefMaps:()=>p};let S={};const q=Io("$xeGrid",null),I=ze(()=>Object.assign({},s.clone(tl().toolbar.refresh,!0),e.refresh)),B=ze(()=>Object.assign({},s.clone(tl().toolbar.import,!0),e.import)),oe=ze(()=>Object.assign({},s.clone(tl().toolbar.export,!0),e.export)),L=ze(()=>Object.assign({},s.clone(tl().toolbar.print,!0),e.print)),k=ze(()=>Object.assign({},s.clone(tl().toolbar.zoom,!0),e.zoom)),_=ze(()=>Object.assign({},s.clone(tl().toolbar.custom,!0),e.custom)),te=ze(()=>{const{connectTable:J}=$,we=J;if((M.connectFlag||we)&&we){const{computeCustomOpts:Q}=we.getComputeMaps();return Q.value}return{trigger:""}}),ce=ze(()=>te.value.trigger),V=()=>{const{connectTable:J}=$;if(J)return!0;Qe("vxe.error.barUnableLink")},w=({$event:J})=>{const{connectTable:we}=$,Q=we;Q&&(Q.triggerCustomEvent?Q.triggerCustomEvent(J):Qe("vxe.error.reqModule",["VxeTableCustomModule"]))},y=({$event:J})=>{const{connectTable:we}=$,Q=we;Q?Q.customOpenEvent(J):Qe("vxe.error.reqModule",["VxeTableCustomModule"])},j=({$event:J})=>{const{connectTable:we}=$,Q=we;if(Q){const{customStore:re}=Q.reactData;re.activeBtn=!1,setTimeout(()=>{!re.activeBtn&&!re.activeWrapper&&Q.customCloseEvent(J)},350)}},U=({$event:J})=>{const{isRefresh:we}=M,Q=I.value;if(!we){const re=Q.queryMethod||Q.query;if(re){M.isRefresh=!0;try{Promise.resolve(re({})).catch(ve=>ve).then(()=>{M.isRefresh=!1})}catch{M.isRefresh=!1}}else q&&(M.isRefresh=!0,q.triggerToolbarCommitEvent({code:Q.code||"reload"},J).catch(ve=>ve).then(()=>{M.isRefresh=!1}))}},ne=({$event:J})=>{q&&q.triggerZoomEvent(J)},F=(J,we)=>{const{connectTable:Q}=$,re=Q,{code:ve}=we;if(ve)if(q)q.triggerToolbarBtnEvent(we,J);else{const me=Oi.get(ve),Z={code:ve,button:we,$table:re,$grid:q,$event:J};if(me){const Te=me.tableCommandMethod||me.commandMethod;Te?Te(Z):Qe("vxe.error.notCommands",[ve])}d.dispatchEvent("button-click",Z,J)}},W=(J,we)=>{const{connectTable:Q}=$,re=Q,{code:ve}=we;if(ve)if(q)q.triggerToolbarTolEvent(we,J);else{const me=Oi.get(ve),Z={code:ve,tool:we,$table:re,$grid:q,$event:J};if(me){const Te=me.tableCommandMethod||me.commandMethod;Te?Te(Z):Qe("vxe.error.notCommands",[ve])}d.dispatchEvent("tool-click",Z,J)}},he=()=>{if(V()){const{connectTable:J}=$,we=J;we&&we.openImport()}},Se=()=>{if(V()){const{connectTable:J}=$,we=J;we&&we.openExport()}},Ee=()=>{if(V()){const{connectTable:J}=$,we=J;we&&we.openPrint()}};S={dispatchEvent:(J,we,Q)=>{u(J,Ed(Q,{$toolbar:d},we))},syncUpdate(J){$.connectTable=J.$table,M.columns=J.collectColumn,M.connectFlag++}},Object.assign(d,S);const Oe=(J,we)=>{const{dropdowns:Q}=J,re=[];return Q?Q.map((ve,me)=>ve.visible===!1?tt():b?g(b,{key:me,disabled:ve.disabled,loading:ve.loading,type:ve.type,mode:ve.mode,icon:ve.icon,circle:ve.circle,round:ve.round,status:ve.status,content:ve.name,title:ve.title,routerLink:ve.routerLink,permissionCode:ve.permissionCode,prefixTooltip:ve.prefixTooltip,suffixTooltip:ve.suffixTooltip,onClick:({$event:Z})=>we?F(Z,ve):W(Z,ve)}):tt()):re},He=()=>{const{buttons:J}=e,{connectTable:we}=$,Q=we,re=i.buttonPrefix||i["button-prefix"],ve=i.buttonSuffix||i["button-suffix"],me=[];return re&&me.push(...To(re({buttons:J||[],$grid:q,$table:Q}))),J&&J.forEach((Z,Te)=>{const{dropdowns:Ce,buttonRender:Le}=Z;if(Z.visible!==!1){const Fe=Le?Si.get(Le.name):null;if(Le&&Fe&&Fe.renderToolbarButton){const Ke=Fe.toolbarButtonClassName,Ye={$grid:q,$table:Q,button:Z};me.push(g("span",{key:`br${Z.code||Te}`,class:["vxe-button--item",Ke?s.isFunction(Ke)?Ke(Ye):Ke:""]},To(Fe.renderToolbarButton(Le,Ye))))}else b&&me.push(g(b,{key:`bd${Z.code||Te}`,disabled:Z.disabled,loading:Z.loading,type:Z.type,mode:Z.mode,icon:Z.icon,circle:Z.circle,round:Z.round,status:Z.status,content:Z.name,title:Z.title,routerLink:Z.routerLink,permissionCode:Z.permissionCode,prefixTooltip:Z.prefixTooltip,suffixTooltip:Z.suffixTooltip,destroyOnClose:Z.destroyOnClose,placement:Z.placement,transfer:Z.transfer,onClick:({$event:Ke})=>F(Ke,Z)},Ce&&Ce.length?{dropdowns:()=>Oe(Z,!0)}:{}))}}),ve&&me.push(...To(ve({buttons:J||[],$grid:q,$table:Q}))),me},De=()=>{const{tools:J}=e,{connectTable:we}=$,Q=we,re=i.toolPrefix||i["tool-prefix"],ve=i.toolSuffix||i["tool-suffix"],me=[];return re&&me.push(...To(re({tools:J||[],$grid:q,$table:Q}))),J&&J.forEach((Z,Te)=>{const{dropdowns:Ce,toolRender:Le}=Z;if(Z.visible!==!1){const Fe=Le?Le.name:null,Ke=Le?Si.get(Fe):null;if(Le&&Ke&&Ke.renderToolbarTool){const Ye=Ke.toolbarToolClassName,mt={$grid:q,$table:Q,tool:Z};me.push(g("span",{key:Fe,class:["vxe-tool--item",Ye?s.isFunction(Ye)?Ye(mt):Ye:""]},To(Ke.renderToolbarTool(Le,mt))))}else b&&me.push(g(b,{key:Te,disabled:Z.disabled,loading:Z.loading,type:Z.type,mode:Z.mode,icon:Z.icon,circle:Z.circle,round:Z.round,status:Z.status,content:Z.name,title:Z.title,routerLink:Z.routerLink,permissionCode:Z.permissionCode,prefixTooltip:Z.prefixTooltip,suffixTooltip:Z.suffixTooltip,destroyOnClose:Z.destroyOnClose,placement:Z.placement,transfer:Z.transfer,onClick:({$event:Ye})=>W(Ye,Z)},Ce&&Ce.length?{dropdowns:()=>Oe(Z,!1)}:{}))}}),ve&&me.push(...To(ve({tools:J||[],$grid:q,$table:Q}))),me},A=()=>{const J=B.value;return b?g(b,{key:"import",circle:!0,icon:J.icon||Ml().TOOLBAR_TOOLS_IMPORT,title:mn("vxe.toolbar.import"),onClick:he}):tt()},se=()=>{const J=oe.value;return b?g(b,{key:"export",circle:!0,icon:J.icon||Ml().TOOLBAR_TOOLS_EXPORT,title:mn("vxe.toolbar.export"),onClick:Se}):tt()},N=()=>{const J=L.value;return b?g(b,{key:"print",circle:!0,icon:J.icon||Ml().TOOLBAR_TOOLS_PRINT,title:mn("vxe.toolbar.print"),onClick:Ee}):tt()},G=()=>{const J=I.value;return b?g(b,{key:"refresh",circle:!0,icon:M.isRefresh?J.iconLoading||Ml().TOOLBAR_TOOLS_REFRESH_LOADING:J.icon||Ml().TOOLBAR_TOOLS_REFRESH,title:mn("vxe.toolbar.refresh"),onClick:U}):tt()},ie=()=>{const J=k.value;return q&&b?g(b,{key:"zoom",circle:!0,icon:q.isMaximized()?J.iconOut||Ml().TOOLBAR_TOOLS_MINIMIZE:J.iconIn||Ml().TOOLBAR_TOOLS_FULLSCREEN,title:mn(`vxe.toolbar.zoom${q.isMaximized()?"Out":"In"}`),onClick:ne}):tt()},pe=()=>{const J=_.value,we=ce.value,Q={};return we==="manual"||(we==="hover"?(Q.onMouseenter=y,Q.onMouseleave=j):Q.onClick=w),b?g(b,Object.assign({key:"custom",circle:!0,icon:J.icon||Ml().TOOLBAR_TOOLS_CUSTOM,title:mn("vxe.toolbar.custom"),className:"vxe-toolbar-custom-target"},Q)):tt()},xe=()=>{const{perfect:J,loading:we,refresh:Q,zoom:re,custom:ve,className:me}=e,{connectTable:Z}=$,Te=E.value,Ce=i.tools,Le=i.buttons,Fe=Z;return g("div",{ref:le,class:["vxe-toolbar",me?s.isFunction(me)?me({$toolbar:d}):me:"",{[`size--${Te}`]:Te,"is--perfect":J,"is--loading":we}]},[g("div",{class:"vxe-buttons--wrapper"},Le?Le({$grid:q,$table:Fe}):He()),g("div",{class:"vxe-tools--wrapper"},Ce?Ce({$grid:q,$table:Fe}):De()),g("div",{class:"vxe-tools--operate"},[e.import?A():tt(),e.export?se():tt(),e.print?N():tt(),Q?G():tt(),re&&q?ie():tt(),ve?pe():tt()])])};return d.renderVN=xe,ue(()=>{const{refresh:J}=e,we=I.value,Q=we.queryMethod||we.query;J&&!q&&!Q&&St("vxe.error.notFunc",["queryMethod"]);const re=_.value;re.isFooter&&St("vxe.error.delProp",["toolbar.custom.isFooter","table.custom-config.showFooter"]),re.showFooter&&St("vxe.error.delProp",["toolbar.custom.showFooter","table.custom-config.showFooter"]),re.immediate&&St("vxe.error.delProp",["toolbar.custom.immediate","table.custom-config.immediate"]),re.trigger&&St("vxe.error.delProp",["toolbar.custom.trigger","table.custom-config.trigger"]),(e.refresh||e.import||e.export||e.print||e.zoom)&&(b||Qe("vxe.error.reqComp",["vxe-button"]))}),d},render(){return this.renderVN()}}),Rd=Object.assign({},Rn,{install(e){e.component(Rn.name,Rn)}});ge.dynamicApp&&ge.dynamicApp.component(Rn.name,Rn);ge.component(Rn);const{getConfig:wl,getI18n:bn,commands:Sd,hooks:Od,useFns:Dd,createEvent:Md,globalEvents:us,GLOBAL_EVENT_KEYS:Td,renderEmptyElement:cl}=ge,Fd=Object.keys(Or),Di=["clearAll","syncData","updateData","loadData","reloadData","reloadRow","loadColumn","reloadColumn","getRowNode","getColumnNode","getRowIndex","getVTRowIndex","getVMRowIndex","getColumnIndex","getVTColumnIndex","getVMColumnIndex","setRow","createData","createRow","revertData","clearData","isRemoveByRow","isInsertByRow","isUpdateByRow","getColumns","getColumnById","getColumnByField","getTableColumn","getFullColumns","getData","getCheckboxRecords","getParentRow","getTreeParentRow","getRowSeq","getRowById","getRowid","getTableData","getFullData","setColumnFixed","clearColumnFixed","setColumnWidth","getColumnWidth","setRowHeightConf","getRowHeightConf","setRowHeight","getRowHeight","hideColumn","showColumn","resetColumn","refreshColumn","refreshScroll","recalculate","closeTooltip","isAllCheckboxChecked","isAllCheckboxIndeterminate","getCheckboxIndeterminateRecords","setCheckboxRow","setCheckboxRowKey","isCheckedByCheckboxRow","isCheckedByCheckboxRowKey","isIndeterminateByCheckboxRow","isIndeterminateByCheckboxRowKey","toggleCheckboxRow","setAllCheckboxRow","getRadioReserveRecord","clearRadioReserve","getCheckboxReserveRecords","clearCheckboxReserve","toggleAllCheckboxRow","clearCheckboxRow","setCurrentRow","isCheckedByRadioRow","isCheckedByRadioRowKey","setRadioRow","setRadioRowKey","clearCurrentRow","clearRadioRow","getCurrentRecord","getRadioRecord","getCurrentColumn","setCurrentColumn","clearCurrentColumn","setPendingRow","togglePendingRow","hasPendingByRow","isPendingByRow","getPendingRecords","clearPendingRow","sort","setSort","clearSort","isSort","getSortColumns","closeFilter","isFilter","isActiveFilterByColumn","isRowExpandLoaded","clearRowExpandLoaded","reloadRowExpand","reloadRowExpand","toggleRowExpand","setAllRowExpand","setRowExpand","isExpandByRow","isRowExpandByRow","clearRowExpand","clearRowExpandReserve","getRowExpandRecords","getTreeExpandRecords","isTreeExpandLoaded","clearTreeExpandLoaded","reloadTreeExpand","reloadTreeChilds","toggleTreeExpand","setAllTreeExpand","setTreeExpand","isTreeExpandByRow","clearTreeExpand","clearTreeExpandReserve","getScroll","scrollTo","scrollToRow","scrollToColumn","clearScroll","updateFooter","updateStatus","setMergeCells","removeInsertRow","removeMergeCells","getMergeCells","clearMergeCells","setMergeFooterItems","removeMergeFooterItems","getMergeFooterItems","clearMergeFooterItems","getCustomStoreData","openTooltip","moveColumnTo","moveRowTo","getCellLabel","getCellElement","focus","blur","connect"],Id=[...Cs,"page-change","form-submit","form-submit-invalid","form-reset","form-collapse","form-toggle-collapse","proxy-query","proxy-delete","proxy-save","toolbar-button-click","toolbar-tool-click","zoom"],Sn=Wo({name:"VxeGrid",props:Object.assign(Object.assign({},Or),{layouts:Array,columns:Array,pagerConfig:Object,proxyConfig:Object,toolbarConfig:Object,formConfig:Object,zoomConfig:Object,size:{type:String,default:()=>wl().grid.size||wl().size}}),emits:Id,setup(e,l){var i;const{slots:u,emit:C}=l,b=s.uniqueId(),E=ge.getComponent("VxeForm"),M=ge.getComponent("VxePager"),$=[["Form"],["Toolbar","Top","Table","Bottom","Pager"]],{computeSize:le}=Dd.useSize(e),p=fl({tableLoading:!1,proxyInited:!1,isZMax:!1,tableData:[],filterData:[],formData:{},sortData:[],tZindex:0,tablePage:{total:0,pageSize:((i=wl().pager)===null||i===void 0?void 0:i.pageSize)||10,currentPage:1}}),d=je(),S=je(),q=je(),I=je(),B=je(),oe=je(),L=je(),k=je(),_=je(),te=je(),ce=K=>{const de={};return K.forEach(ae=>{de[ae]=(...ke)=>{const Ae=S.value;if(Ae&&Ae[ae])return Ae[ae](...ke)}}),de},V=ce(Di);Di.forEach(K=>{V[K]=(...de)=>{const ae=S.value;if(ae&&ae[K])return ae&&ae[K](...de)}});const w=ze(()=>s.merge({},s.clone(wl().grid.proxyConfig,!0),e.proxyConfig)),y=ze(()=>{const K=w.value;return s.isBoolean(K.message)?K.message:K.showResponseMsg}),j=ze(()=>w.value.showActiveMsg),U=ze(()=>Object.assign({},wl().grid.pagerConfig,e.pagerConfig)),ne=ze(()=>Object.assign({},wl().grid.formConfig,e.formConfig)),F=ze(()=>Object.assign({},wl().grid.toolbarConfig,e.toolbarConfig)),W=ze(()=>Object.assign({},wl().grid.zoomConfig,e.zoomConfig)),he=ze(()=>{const{height:K,maxHeight:de}=e,{isZMax:ae,tZindex:ke}=p,Ae={};return ae?Ae.zIndex=ke:(K&&(Ae.height=K==="auto"||K==="100%"?"100%":hs(K)),de&&(Ae.maxHeight=de==="auto"||de==="100%"?"100%":hs(de))),Ae}),Se=ze(()=>{const K={},de=e;return Fd.forEach(ae=>{K[ae]=de[ae]}),K}),Ee=ze(()=>{const{seqConfig:K,pagerConfig:de,loading:ae,editConfig:ke,proxyConfig:Ae}=e,{isZMax:Xe,tableLoading:at,tablePage:ct}=p,ft=Se.value,xt=w.value,ut=U.value,rt=Object.assign({},ft);return Xe&&(ft.maxHeight?rt.maxHeight="100%":rt.height="100%"),Ae&&gt(xt)&&(rt.loading=ae||at,de&&xt.seq&&gt(ut)&&(rt.seqConfig=Object.assign({},K,{startIndex:(ct.currentPage-1)*ct.pageSize}))),ke&&(rt.editConfig=Object.assign({},ke)),rt}),be=ze(()=>{const{layouts:K}=e;let de=[];K&&K.length?de=K:de=wl().grid.layouts||$;let ae=[],ke=[],Ae=[];return de.length&&(s.isArray(de[0])?(ae=de[0],ke=de[1]||[],Ae=de[2]||[]):ke=de),{headKeys:ae,bodyKeys:ke,footKeys:Ae}}),Oe=ze(()=>{const K=U.value;return`${K.currentPage}${K.pageSize}`}),He={refElem:d,refTable:S,refForm:q,refToolbar:I,refPager:B},De={computeProxyOpts:w,computePagerOpts:U,computeFormOpts:ne,computeToolbarOpts:F,computeZoomOpts:W},A={xID:b,props:e,context:l,reactData:p,getRefMaps:()=>He,getComputeMaps:()=>De},se=()=>{const K=F.value;e.toolbarConfig&&gt(K)&&ue(()=>{const de=S.value,ae=I.value;de&&ae&&de.connect(ae)})},N=()=>{const{proxyConfig:K}=e,{formData:de}=p,ae=w.value,ke=ne.value;return K&&gt(ae)&&ae.form?de:ke.data},G=()=>{const{tablePage:K}=p,{pagerConfig:de}=e,ae=U.value,{currentPage:ke,pageSize:Ae}=ae;de&&gt(ae)&&(ke&&(K.currentPage=ke),Ae&&(K.pageSize=Ae))},ie=K=>{const de=j.value,ae=S.value,ke=ae.getCheckboxRecords();ke.length?(ae.togglePendingRow(ke),V.clearCheckboxRow()):de&&ge.modal&&ge.modal.message({id:K,content:bn("vxe.grid.selectOneRecord"),status:"warning"})},pe=(K,de)=>{const ae=w.value,Ae=(ae.response||ae.props||{}).message;let Xe;return K&&Ae&&(Xe=s.isFunction(Ae)?Ae({data:K,$grid:A}):s.get(K,Ae)),Xe||bn(de)},xe=(K,de,ae)=>{const ke=j.value,Ae=V.getCheckboxRecords();if(ke)if(Ae.length){if(ge.modal)return ge.modal.confirm({id:`cfm_${K}`,content:bn(de),escClosable:!0}).then(Xe=>{if(Xe==="confirm")return ae()})}else ge.modal&&ge.modal.message({id:`msg_${K}`,content:bn("vxe.grid.selectOneRecord"),status:"warning"});else Ae.length&&ae();return Promise.resolve()},J=K=>{const{proxyConfig:de}=e,{tablePage:ae}=p,{$event:ke,currentPage:Ae,pageSize:Xe}=K,at=w.value;ae.currentPage=Ae,ae.pageSize=Xe,A.dispatchEvent("page-change",K,ke),de&&gt(at)&&A.commitProxy("query").then(ct=>{A.dispatchEvent("proxy-query",ct,ke)})},we=K=>{const de=S.value,{proxyConfig:ae}=e,{computeSortOpts:ke}=de.getComputeMaps(),Ae=w.value;ke.value.remote&&(p.sortData=K.sortList,ae&&gt(Ae)&&(p.tablePage.currentPage=1,Me.commitProxy("query").then(at=>{Me.dispatchEvent("proxy-query",at,K.$event)}))),Me.dispatchEvent("sort-change",K,K.$event)},Q=K=>{const de=S.value,{proxyConfig:ae}=e,{computeFilterOpts:ke}=de.getComputeMaps(),Ae=w.value;ke.value.remote&&(p.filterData=K.filterList,ae&&gt(Ae)&&(p.tablePage.currentPage=1,Me.commitProxy("query").then(at=>{Me.dispatchEvent("proxy-query",at,K.$event)}))),Me.dispatchEvent("filter-change",K,K.$event)},re=K=>{const{proxyConfig:de}=e,ae=w.value;p.tableLoading||(de&&gt(ae)&&Me.commitProxy("reload").then(ke=>{Me.dispatchEvent("proxy-query",Object.assign(Object.assign({},ke),{isReload:!0}),K.$event)}),Me.dispatchEvent("form-submit",K,K.$event))},ve=K=>{const{proxyConfig:de}=e,{$event:ae}=K,ke=w.value,Ae=S.value;de&&gt(ke)&&(Ae.clearScroll(),Me.commitProxy("reload").then(Xe=>{Me.dispatchEvent("proxy-query",Object.assign(Object.assign({},Xe),{isReload:!0}),ae)})),Me.dispatchEvent("form-reset",K,ae)},me=K=>{Me.dispatchEvent("form-submit-invalid",K,K.$event)},Z=K=>{const{$event:de}=K;ue(()=>V.recalculate(!0)),Me.dispatchEvent("form-toggle-collapse",K,de),Me.dispatchEvent("form-collapse",K,de)},Te=K=>{const{isZMax:de}=p;return(K?!de:de)&&(p.isZMax=!de,p.tZindex<ki()&&(p.tZindex=Ii())),ue().then(()=>V.recalculate(!0)).then(()=>(setTimeout(()=>V.recalculate(!0),15),p.isZMax))},Ce=(K,de)=>{const ae=K[de];if(ae)if(s.isString(ae)){if(u[ae])return u[ae];Qe("vxe.error.notSlot",[ae])}else return ae;return null},Le=K=>{const de={};return s.objectMap(K,(ae,ke)=>{ae&&(s.isString(ae)?u[ae]?de[ke]=u[ae]:Qe("vxe.error.notSlot",[ae]):de[ke]=ae)}),de},Fe=()=>{const{formConfig:K,proxyConfig:de}=e,{formData:ae}=p,ke=w.value,Ae=ne.value;if(K&&gt(Ae)||u.form){let Xe=[];if(u.form)Xe=u.form({$grid:A});else if(Ae.items){const at={};if(!Ae.inited){Ae.inited=!0;const ct=ke.beforeItem;ke&&ct&&Ae.items.forEach(ft=>{ct({$grid:A,item:ft})})}Ae.items.forEach(ct=>{s.each(ct.slots,ft=>{s.isFunction(ft)||u[ft]&&(at[ft]=u[ft])})}),E&&Xe.push(g(E,Object.assign(Object.assign({ref:q},Object.assign({},Ae,{data:de&&gt(ke)&&ke.form?ae:Ae.data})),{onSubmit:re,onReset:ve,onSubmitInvalid:me,onCollapse:Z}),at))}return g("div",{ref:oe,key:"form",class:"vxe-grid--form-wrapper"},Xe)}return cl(A)},Ke=()=>{const{toolbarConfig:K}=e,de=F.value;if(K&&gt(de)||u.toolbar){let ae=[];if(u.toolbar)ae=u.toolbar({$grid:A});else{const ke=de.slots;let Ae,Xe;const at={};ke&&(Ae=Ce(ke,"buttons"),Xe=Ce(ke,"tools"),Ae&&(at.buttons=Ae),Xe&&(at.tools=Xe)),ae.push(g(Rd,Object.assign({ref:I},de),at))}return g("div",{ref:L,key:"toolbar",class:"vxe-grid--toolbar-wrapper"},ae)}return cl(A)},Ye=()=>u.top?g("div",{ref:k,key:"top",class:"vxe-grid--top-wrapper"},u.top({$grid:A})):cl(A),mt=()=>{const K=u.left;return K?g("div",{class:"vxe-grid--left-wrapper"},K({$grid:A})):cl(A)},Et=()=>{const K=u.right;return K?g("div",{class:"vxe-grid--right-wrapper"},K({$grid:A})):cl(A)},vt=()=>{const{proxyConfig:K}=e,de=Ee.value,ae=w.value,ke=Object.assign({},Ve),Ae=u.empty,Xe=u.loading,at=u.rowDragIcon||u["row-drag-icon"],ct=u.columnDragIcon||u["column-drag-icon"];K&&gt(ae)&&(ae.sort&&(ke.onSortChange=we),ae.filter&&(ke.onFilterChange=Q));const ft={};return Ae&&(ft.empty=Ae),Xe&&(ft.loading=Xe),at&&(ft.rowDragIcon=at),ct&&(ft.columnDragIcon=ct),g("div",{class:"vxe-grid--table-wrapper"},[g(Cd,Object.assign(Object.assign({ref:S},de),ke),ft)])},nt=()=>u.bottom?g("div",{ref:_,key:"bottom",class:"vxe-grid--bottom-wrapper"},u.bottom({$grid:A})):cl(A),lt=()=>{const{proxyConfig:K,pagerConfig:de}=e,ae=w.value,ke=U.value,Ae=u.pager;return de&&gt(ke)||u.pager?g("div",{ref:te,key:"pager",class:"vxe-grid--pager-wrapper"},Ae?Ae({$grid:A}):[M?g(M,Object.assign(Object.assign(Object.assign({ref:B},ke),K&&gt(ae)?p.tablePage:{}),{onPageChange:J}),Le(ke.slots)):cl(A)]):cl(A)},bt=K=>{const de=[];return K.forEach(ae=>{switch(ae){case"Form":de.push(Fe());break;case"Toolbar":de.push(Ke());break;case"Top":de.push(Ye());break;case"Table":de.push(g("div",{key:"table",class:"vxe-grid--table-container"},[mt(),vt(),Et()]));break;case"Bottom":de.push(nt());break;case"Pager":de.push(lt());break;default:Qe("vxe.error.notProp",[`layouts -> ${ae}`]);break}}),de},Ue=()=>{const K=be.value,{headKeys:de,bodyKeys:ae,footKeys:ke}=K,Ae=u.asideLeft||u["aside-left"],Xe=u.asideRight||u["aside-right"];return[g("div",{class:"vxe-grid--layout-header-wrapper"},bt(de)),g("div",{class:"vxe-grid--layout-body-wrapper"},[Ae?g("div",{class:"vxe-grid--layout-aside-left-wrapper"},Ae({})):cl(A),g("div",{class:"vxe-grid--layout-body-content-wrapper"},bt(ae)),Xe?g("div",{class:"vxe-grid--layout-aside-right-wrapper"},Xe({})):cl(A)]),g("div",{class:"vxe-grid--layout-footer-wrapper"},bt(ke))]},Ve={};Cs.forEach(K=>{const de=s.camelCase(`on-${K}`);Ve[de]=(...ae)=>C(K,...ae)});const _e=()=>{const{proxyConfig:K,formConfig:de}=e,{proxyInited:ae}=p,ke=w.value,Ae=ne.value;if(K&&gt(ke)){if(de&&gt(Ae)&&ke.form&&Ae.items){const Xe={};Ae.items.forEach(at=>{const{field:ct,itemRender:ft}=at;if(ct){let xt=null;if(ft){const{defaultValue:ut}=ft;s.isFunction(ut)?xt=ut({item:at}):s.isUndefined(ut)||(xt=ut)}Xe[ct]=xt}}),p.formData=Xe}ae||(p.proxyInited=!0,ke.autoLoad!==!1&&ue().then(()=>Me.commitProxy("_init")).then(Xe=>{Me.dispatchEvent("proxy-query",Object.assign(Object.assign({},Xe),{isInited:!0}),new Event("init"))}))}},Je=K=>{const de=W.value;us.hasKey(K,Td.ESCAPE)&&p.isZMax&&de.escRestore!==!1&&qe.triggerZoomEvent(K)},Me={dispatchEvent:(K,de,ae)=>{C(K,Md(ae,{$grid:A},de))},getEl(){return d.value},commitProxy(K,...de){const{toolbarConfig:ae,pagerConfig:ke,editRules:Ae,validConfig:Xe}=e,{tablePage:at}=p,ct=j.value,ft=y.value,xt=w.value,ut=U.value,rt=F.value,{beforeQuery:zt,afterQuery:qt,beforeDelete:no,afterDelete:Qt,beforeSave:It,afterSave:Dt,ajax:Xt={}}=xt,Bt=xt.response||xt.props||{},yt=S.value,po=N();let Gt=null,Ht=null;if(s.isString(K)){const{buttons:Ot}=rt,Jt=ae&&gt(rt)&&Ot?s.findTree(Ot,Ro=>Ro.code===K,{children:"dropdowns"}):null;Gt=Jt?Jt.item:null,Ht=K}else Gt=K,Ht=Gt.code;const bo=Gt?Gt.params:null;switch(Ht){case"insert":return yt.insert({});case"insert_edit":return yt.insert({}).then(({row:Ot})=>yt.setEditRow(Ot));case"insert_actived":return yt.insert({}).then(({row:Ot})=>yt.setEditRow(Ot));case"mark_cancel":ie(Ht);break;case"remove":return xe(Ht,"vxe.grid.removeSelectRecord",()=>yt.removeCheckboxRow());case"import":yt.importData(bo);break;case"open_import":yt.openImport(bo);break;case"export":yt.exportData(bo);break;case"open_export":yt.openExport(bo);break;case"reset_custom":return yt.resetCustom(!0);case"_init":case"reload":case"query":{const Ot=Xt.query,Jt=Xt.querySuccess,Ro=Xt.queryError;if(Ot){const eo=Ht==="_init",ko=Ht==="reload";if(!eo&&p.tableLoading)return ue();let Ao=[],So=[],xo={};if(ke&&((eo||ko)&&(at.currentPage=1),gt(ut)&&(xo=Object.assign({},at))),eo){let it=null;if(yt){const{computeSortOpts:co}=yt.getComputeMaps();it=co.value.defaultSort}it&&(s.isArray(it)||(it=[it]),Ao=it.map(co=>({field:co.field,property:co.field,order:co.order}))),yt&&(So=yt.getCheckedFilters())}else yt&&(ko?yt.clearAll():(Ao=yt.getSortColumns(),So=yt.getCheckedFilters()));const Pt={code:Ht,button:Gt,isInited:eo,isReload:ko,$grid:A,page:xo,sort:Ao.length?Ao[0]:{},sorts:Ao,filters:So,form:po,options:Ot};return p.sortData=Ao,p.filterData=So,p.tableLoading=!0,Promise.resolve((zt||Ot)(Pt,...de)).then(it=>{let co=[];if(p.tableLoading=!1,it)if(ke&&gt(ut)){const vo=Bt.total,Al=(s.isFunction(vo)?vo({data:it,$grid:A}):s.get(it,vo||"page.total"))||0;at.total=s.toNumber(Al);const Bo=Bt.result;co=(s.isFunction(Bo)?Bo({data:it,$grid:A}):s.get(it,Bo||"result"))||[];const Ql=Math.max(Math.ceil(Al/at.pageSize),1);at.currentPage>Ql&&(at.currentPage=Ql)}else{const vo=Bt.list;co=(vo?s.isFunction(vo)?vo({data:it,$grid:A}):s.get(it,vo):it)||[]}return yt?yt.loadData(co):ue(()=>{yt&&yt.loadData(co)}),qt&&qt(Pt,...de),Jt&&Jt(Object.assign(Object.assign({},Pt),{response:it})),{status:!0}}).catch(it=>(p.tableLoading=!1,Ro&&Ro(Object.assign(Object.assign({},Pt),{response:it})),{status:!1}))}else Qe("vxe.error.notFunc",["proxy-config.ajax.query"]);break}case"delete":{const Ot=Xt.delete,Jt=Xt.deleteSuccess,Ro=Xt.deleteError;if(Ot){const eo=V.getCheckboxRecords(),ko=eo.filter(xo=>!yt.isInsertByRow(xo)),So={$grid:A,code:Ht,button:Gt,body:{removeRecords:ko},form:po,options:Ot};if(eo.length)return xe(Ht,"vxe.grid.deleteSelectRecord",()=>ko.length?(p.tableLoading=!0,Promise.resolve((no||Ot)(So,...de)).then(xo=>(p.tableLoading=!1,yt.setPendingRow(ko,!1),ft&&ge.modal&&ge.modal.message({content:pe(xo,"vxe.grid.delSuccess"),status:"success"}),Qt?Qt(So,...de):Me.commitProxy("query"),Jt&&Jt(Object.assign(Object.assign({},So),{response:xo})),{status:!0})).catch(xo=>(p.tableLoading=!1,ft&&ge.modal&&ge.modal.message({id:Ht,content:pe(xo,"vxe.grid.operError"),status:"error"}),Ro&&Ro(Object.assign(Object.assign({},So),{response:xo})),{status:!1}))):yt.remove(eo));ct&&ge.modal&&ge.modal.message({id:Ht,content:bn("vxe.grid.selectOneRecord"),status:"warning"})}else Qe("vxe.error.notFunc",["proxy-config.ajax.delete"]);break}case"save":{const Ot=Xt.save,Jt=Xt.saveSuccess,Ro=Xt.saveError;if(Ot){const eo=yt.getRecordset(),{insertRecords:ko,removeRecords:Ao,updateRecords:So,pendingRecords:xo}=eo,Pt={$grid:A,code:Ht,button:Gt,body:eo,form:po,options:Ot};ko.length&&(eo.pendingRecords=xo.filter(co=>yt.findRowIndexOf(ko,co)===-1)),xo.length&&(eo.insertRecords=ko.filter(co=>yt.findRowIndexOf(xo,co)===-1));let it=Promise.resolve();return Ae&&(it=yt[Xe&&Xe.msgMode==="full"?"fullValidate":"validate"](eo.insertRecords.concat(So))),it.then(co=>{if(!co){if(eo.insertRecords.length||Ao.length||So.length||eo.pendingRecords.length)return p.tableLoading=!0,Promise.resolve((It||Ot)(Pt,...de)).then(vo=>(p.tableLoading=!1,yt.clearPendingRow(),ft&&ge.modal&&ge.modal.message({content:pe(vo,"vxe.grid.saveSuccess"),status:"success"}),Dt?Dt(Pt,...de):Me.commitProxy("query"),Jt&&Jt(Object.assign(Object.assign({},Pt),{response:vo})),{status:!0})).catch(vo=>(p.tableLoading=!1,ft&&ge.modal&&ge.modal.message({id:Ht,content:pe(vo,"vxe.grid.operError"),status:"error"}),Ro&&Ro(Object.assign(Object.assign({},Pt),{response:vo})),{status:!1}));ct&&ge.modal&&ge.modal.message({id:Ht,content:bn("vxe.grid.dataUnchanged"),status:"info"})}})}else Qe("vxe.error.notFunc",["proxy-config.ajax.save"]);break}default:{const Ot=Sd.get(Ht);if(Ot){const Jt=Ot.tableCommandMethod||Ot.commandMethod;Jt?Jt({code:Ht,button:Gt,$grid:A,$table:yt},...de):Qe("vxe.error.notCommands",[Ht])}}}return ue()},zoom(){return p.isZMax?Me.revert():Me.maximize()},isMaximized(){return p.isZMax},maximize(){return Te(!0)},revert(){return Te()},getFormData:N,getFormItems(K){const de=ne.value,{formConfig:ae}=e,{items:ke}=de,Ae=[];return s.eachTree(ae&&gt(de)&&ke?ke:[],Xe=>{Ae.push(Xe)},{children:"children"}),s.isUndefined(K)?Ae:Ae[K]},getProxyInfo(){const K=S.value;if(e.proxyConfig){const{sortData:de}=p;return{data:K?K.getFullData():[],filter:p.filterData,form:N(),sort:de.length?de[0]:{},sorts:de,pager:p.tablePage,pendingRecords:K?K.getPendingRecords():[]}}return null}},qe={extendTableMethods:ce,callSlot(K,de){return K&&(s.isString(K)&&(K=u[K]||null),s.isFunction(K))?To(K(de)):[]},getExcludeHeight(){const{isZMax:K}=p,de=d.value;if(de){const ae=oe.value,ke=L.value,Ae=k.value,Xe=_.value,at=te.value,ct=de.parentElement;return(K?0:ct?gs(ct):0)+gs(de)+zn(ae)+zn(ke)+zn(Ae)+zn(Xe)+zn(at)}return 0},getParentHeight(){const K=d.value;if(K){const de=K.parentElement;return(p.isZMax?Ir().visibleHeight:de?s.toNumber(getComputedStyle(de).height):0)-qe.getExcludeHeight()}return 0},triggerToolbarCommitEvent(K,de){const{code:ae}=K;return Me.commitProxy(K,de).then(ke=>{ae&&ke&&ke.status&&["query","reload","delete","save"].includes(ae)&&Me.dispatchEvent(ae==="delete"||ae==="save"?`proxy-${ae}`:"proxy-query",Object.assign(Object.assign({},ke),{isReload:ae==="reload"}),de)})},triggerToolbarBtnEvent(K,de){qe.triggerToolbarCommitEvent(K,de),Me.dispatchEvent("toolbar-button-click",{code:K.code,button:K},de)},triggerToolbarTolEvent(K,de){qe.triggerToolbarCommitEvent(K,de),Me.dispatchEvent("toolbar-tool-click",{code:K.code,tool:K},de)},triggerZoomEvent(K){Me.zoom(),Me.dispatchEvent("zoom",{type:p.isZMax?"max":"revert"},K)}};Object.assign(A,V,Me,qe);const pt=je(0);Rt(()=>e.columns?e.columns.length:-1,()=>{pt.value++}),Rt(()=>e.columns,()=>{pt.value++}),Rt(pt,()=>{ue(()=>A.loadColumn(e.columns||[]))}),Rt(()=>e.toolbarConfig,()=>{se()}),Rt(Oe,()=>{G()}),Rt(()=>e.proxyConfig,()=>{_e()}),Od.forEach(K=>{const{setupGrid:de}=K;if(de){const ae=de(A);ae&&s.isObject(ae)&&Object.assign(A,ae)}}),G(),Ul(()=>{ue(()=>{const{columns:K}=e;e.formConfig&&(E||Qe("vxe.error.reqComp",["vxe-form"])),e.pagerConfig&&(M||Qe("vxe.error.reqComp",["vxe-pager"])),K&&K.length&&A.loadColumn(K),se(),_e()}),us.on(A,"keydown",Je)}),Zl(()=>{us.off(A,"keydown")});const et=()=>{const K=le.value,de=he.value;return g("div",{ref:d,class:["vxe-grid",{[`size--${K}`]:K,"is--animat":!!e.animat,"is--round":e.round,"is--maximize":p.isZMax,"is--loading":e.loading||p.tableLoading}],style:de},Ue())};return A.renderVN=et,Gl("$xeGrid",A),A},render(){return this.renderVN()}}),jd=Object.assign({},Sn,{install(e){e.component(Sn.name,Sn)}});ge.dynamicApp&&ge.dynamicApp.component(Sn.name,Sn);ge.component(Sn);var qn={},Mi;function kd(){return Mi||(Mi=1,Object.defineProperty(qn,"__esModule",{value:!0}),qn.default=void 0,qn.default={vxe:{base:{pleaseInput:"请输入",pleaseSelect:"请选择",comma:"，",fullStop:"。"},loading:{text:"加载中..."},error:{downErr:"下载失败",errLargeData:"当绑定的数据量过大时，应该请使用 {0}，否则可能会出现卡顿",groupFixed:"如果使用分组表头，冻结列必须按组设置",groupMouseRange:'分组表头与 "{0}" 不能同时使用，这可能会出现错误',groupTag:'分组列头应该使用 "{0}" 而不是 "{1}"，这可能会出现错误',scrollErrProp:'启用虚拟滚动后不支持该参数 "{0}"',errConflicts:'参数 "{0}" 与 "{1}" 有冲突',notSupportProp:'当启用参数 "{0}" 时不支持 "{1}"，应该为 "{2}"，否则将会出现错误',unableInsert:"无法插入到指定位置，请检查参数是否正确",useErr:'安装 "{0}" 模块时发生错误，可能顺序不正确，依赖的模块需要在 Table 之前安装',barUnableLink:"工具栏无法关联表格",expandContent:'展开行的插槽应该是 "content"，请检查是否正确',reqComp:'缺少 "{0}" 组件，请检查是否正确安装。 https://vxeui.com/#/start/useGlobal',reqModule:'缺少 "{0}" 模块',reqProp:'缺少必要的 "{0}" 参数，这可能会导致出现错误',emptyProp:'参数 "{0}" 不允许为空',errProp:'不支持的参数 "{0}"，可能为 "{1}"',colRepet:'column.{0}="{1}" 重复了，这可能会导致某些功能无法使用',notFunc:'方法 "{0}" 不存在',errFunc:'参数 "{0}" 不是一个方法',notValidators:'全局校验 "{0}" 不存在',notFormats:'全局格式化 "{0}" 不存在',notCommands:'全局指令 "{0}" 不存在',notSlot:'插槽 "{0}" 不存在',noTree:'树结构不支持 "{0}"',notProp:'不支持的参数 "{0}"',checkProp:'当数据量过大时可能会导致复选框卡顿，建议设置参数 "{0}" 提升渲染速度',coverProp:'"{0}" 的参数 "{1}" 重复定义，这可能会出现错误',uniField:'字段名 "{0}" 重复定义，这可能会出现错误',repeatKey:'主键重复 {0}="{1}"，这可能会出现错误',delFunc:'方法 "{0}" 已废弃，请使用 "{1}"',delProp:'参数 "{0}" 已废弃，请使用 "{1}"',delEvent:'事件 "{0}" 已废弃，请使用 "{1}"',removeProp:'参数 "{0}" 已废弃，不建议使用，这可能会导致出现错误',errFormat:'全局的格式化内容应该使用 "VXETable.formats" 定义，挂载 "formatter={0}" 的方式已不建议使用',notType:'不支持的文件类型 "{0}"',notExp:"该浏览器不支持导入/导出功能",impFields:"导入失败，请检查字段名和数据格式是否正确",treeNotImp:"树表格不支持导入",treeCrossDrag:"只能拖拽第一层级",treeDragChild:"父级不能拖拽到自己的子级中",reqPlugin:'扩展插件未安装 "{1}" https://vxeui.com/other{0}/#/{1}/install',errMaxRow:"超过支持的最大数据量 {0} 行，这可能会导致出现错误"},table:{emptyText:"暂无数据",allTitle:"全选/取消",seqTitle:"序号",actionTitle:"操作",confirmFilter:"筛选",resetFilter:"重置",allFilter:"全部",sortAsc:"升序：最低到最高",sortDesc:"降序：最高到最低",filter:"对所选的列启用筛选",impSuccess:"成功导入 {0} 条记录",expLoading:"正在导出中",expSuccess:"导出成功",expError:"导出失败",expFilename:"导出_{0}",expOriginFilename:"导出_源_{0}",customTitle:"列设置",customAll:"全部",customConfirm:"确认",customClose:"关闭",customCancel:"取消",customRestore:"恢复默认",maxFixedCol:"最大冻结列的数量不能超过 {0} 个",dragTip:"移动：{0}",resizeColTip:"宽：{0} 像素",resizeRowTip:"高：{0} 像素"},grid:{selectOneRecord:"请至少选择一条记录！",deleteSelectRecord:"您确定要删除所选记录吗？",removeSelectRecord:"您确定要移除所选记录吗？",dataUnchanged:"数据未改动！",delSuccess:"成功删除所选记录！",saveSuccess:"保存成功！",operError:"发生错误，操作失败！"},select:{search:"搜索",loadingText:"加载中",emptyText:"暂无数据"},pager:{goto:"前往",gotoTitle:"页数",pagesize:"{0}条/页",total:"共 {0} 条记录",pageClassifier:"页",homePage:"首页",homePageTitle:"首页",prevPage:"上一页",prevPageTitle:"上一页",nextPage:"下一页",nextPageTitle:"下一页",prevJump:"向上跳页",prevJumpTitle:"向上跳页",nextJump:"向下跳页",nextJumpTitle:"向下跳页",endPage:"末页",endPageTitle:"末页"},alert:{title:"系统提示"},button:{confirm:"确认",cancel:"取消",clear:"清除"},filter:{search:"搜索"},custom:{cstmTitle:"列设置",cstmRestore:"恢复默认",cstmCancel:"取消",cstmConfirm:"确定",cstmConfirmRestore:"请确认是否恢复成默认列配置？",cstmDragTarget:"移动：{0}",setting:{colSort:"排序",sortHelpTip:"点击并拖动图标可以调整列的排序",colTitle:"列标题",colResizable:"列宽（像素）",colVisible:"是否显示",colFixed:"冻结列",colFixedMax:"冻结列（最多 {0} 列）",fixedLeft:"左侧",fixedUnset:"不设置",fixedRight:"右侧"}},import:{modes:{covering:"覆盖方式（直接覆盖表格数据）",insert:"底部追加（在表格的底部追加新数据）",insertTop:"顶部追加（在表格的顶部追加新数据）",insertBottom:"底部追加（在表格的底部追加新数据）"},impTitle:"导入数据",impFile:"文件名",impSelect:"选择文件",impType:"文件类型",impOpts:"参数设置",impMode:"导入模式",impConfirm:"导入",impCancel:"取消"},export:{types:{csv:"CSV (逗号分隔)(*.csv)",html:"网页(*.html)",xml:"XML 数据(*.xml)",txt:"文本文件(制表符分隔)(*.txt)",xls:"Excel 97-2003 工作簿(*.xls)",xlsx:"Excel 工作簿(*.xlsx)",pdf:"PDF (*.pdf)"},modes:{empty:"空数据",current:"当前数据（当前页的数据）",selected:"选中数据（当前页选中的数据）",all:"全量数据（包括所有分页的数据）"},printTitle:"打印数据",expTitle:"导出数据",expName:"文件名",expNamePlaceholder:"请输入文件名",expSheetName:"标题",expSheetNamePlaceholder:"请输入标题",expType:"保存类型",expMode:"选择数据",expCurrentColumn:"全部字段",expColumn:"选择字段",expOpts:"参数设置",expOptHeader:"表头",expHeaderTitle:"是否需要表头",expOptFooter:"表尾",expFooterTitle:"是否需要表尾",expOptColgroup:"分组表头",expColgroupTitle:"如果存在，则支持带有分组结构的表头",expOptMerge:"合并",expMergeTitle:"如果存在，则支持带有合并结构的单元格",expOptAllExpand:"展开层级",expAllExpandTitle:"如果存在，则支持将带有层级结构的数据全部展开",expOptUseStyle:"样式",expUseStyleTitle:"如果存在，则支持带样式的单元格",expOptOriginal:"源数据",expOriginalTitle:"如果为源数据，则支持导入到表格中",expPrint:"打印",expConfirm:"导出",expCancel:"取消"},modal:{errTitle:"错误提示",zoomMin:"最小化",zoomIn:"最大化",zoomOut:"还原",close:"关闭",miniMaxSize:"最小化窗口的数量不能超过 {0} 个",footPropErr:"show-footer 仅用于启用表尾，需配合 show-confirm-button | show-cancel-button | 插槽使用"},drawer:{close:"关闭"},form:{folding:"收起",unfolding:"展开"},toolbar:{import:"导入",export:"导出",print:"打印",refresh:"刷新",zoomIn:"全屏",zoomOut:"还原",custom:"列设置",customAll:"全部",customConfirm:"确认",customRestore:"重置",fixedLeft:"冻结在左侧",fixedRight:"冻结在右侧",cancelFixed:"取消冻结列"},datePicker:{yearTitle:"{0} 年"},input:{date:{m1:"01 月",m2:"02 月",m3:"03 月",m4:"04 月",m5:"05 月",m6:"06 月",m7:"07 月",m8:"08 月",m9:"09 月",m10:"10 月",m11:"11 月",m12:"12 月",quarterLabel:"{0} 年",monthLabel:"{0} 年",dayLabel:"{0} 年 {1}",labelFormat:{date:"yyyy-MM-dd",time:"HH:mm:ss",datetime:"yyyy-MM-dd HH:mm:ss",week:"yyyy 年第 WW 周",month:"yyyy-MM",quarter:"yyyy 年第 q 季度",year:"yyyy"},weeks:{w:"周",w0:"周日",w1:"周一",w2:"周二",w3:"周三",w4:"周四",w5:"周五",w6:"周六"},months:{m0:"一月",m1:"二月",m2:"三月",m3:"四月",m4:"五月",m5:"六月",m6:"七月",m7:"八月",m8:"九月",m9:"十月",m10:"十一月",m11:"十二月"},quarters:{q1:"第一季度",q2:"第二季度",q3:"第三季度",q4:"第四季度"}}},numberInput:{currencySymbol:"¥"},imagePreview:{popupTitle:"预览",operBtn:{zoomOut:"缩小",zoomIn:"放大",pctFull:"等比例缩放",pct11:"显示原始尺寸",rotateLeft:"向左旋转",rotateRight:"向右旋转",print:"点击打印图片",download:"点击下载图片"}},upload:{fileBtnText:"点击或拖拽上传",imgBtnText:"点击或拖拽上传",dragPlaceholder:"请把文件拖放到这个区域即可上传",imgSizeHint:"单张{0}",imgCountHint:"最多{0}张",fileTypeHint:"支持 {0} 文件类型",fileSizeHint:"单个文件大小不超过{0}",fileCountHint:"最多可上传{0}个文件",uploadTypeErr:"文件类型不匹配！",overCountErr:"最多只能选择{0}个文件！",overCountExtraErr:"已超出最大数量{0}个，超出的{1}个文件将被忽略！",overSizeErr:"文件大小最大不能超过{0}！",reUpload:"重新上传",uploadProgress:"上传中 {0}%",uploadErr:"上传失败",uploadSuccess:"上传成功",moreBtnText:"更多（{0}）",viewItemTitle:"点击查看",morePopup:{readTitle:"查看列表",imageTitle:"上传图片",fileTitle:"上传文件"}},empty:{defText:"暂无数据"},colorPicker:{clear:"清除",confirm:"确认",copySuccess:"已复制到剪贴板：{0}"},formDesign:{formName:"表单名称",defFormTitle:"未命名的表单",widgetPropTab:"控件属性",widgetFormTab:"表单属性",error:{wdFormUni:"该类型的控件在表单中只允许添加一个",wdSubUni:"该类型的控件在子表中只允许添加一个"},styleSetting:{btn:"样式设置",title:"表单的样式设置",layoutTitle:"控件布局",verticalLayout:"上下布局",horizontalLayout:"横向布局",styleTitle:"标题样式",boldTitle:"标题加粗",fontBold:"加粗",fontNormal:"常规",colonTitle:"显示冒号",colonVisible:"显示",colonHidden:"隐藏",alignTitle:"对齐方式",widthTitle:"标题宽度",alignLeft:"居左",alignRight:"居右",unitPx:"像素",unitPct:"百分比"},widget:{group:{base:"基础控件",layout:"布局控件",system:"系统控件",module:"模块控件",chart:"图表控件",advanced:"高级控件"},copyTitle:"副本_{0}",component:{input:"输入框",textarea:"文本域",select:"下拉选择",row:"一行多列",title:"标题",text:"文本",subtable:"子表",VxeSwitch:"是/否",VxeInput:"输入框",VxeNumberInput:"数字",VxeDatePicker:"日期",VxeTextarea:"文本域",VxeSelect:"下拉选择",VxeTreeSelect:"树形选择",VxeRadioGroup:"单选框",VxeCheckboxGroup:"复选框",VxeUploadFile:"文件",VxeUploadImage:"图片",VxeRate:"评分",VxeSlider:"滑块"}},widgetProp:{name:"控件名称",placeholder:"提示语",required:"必填校验",multiple:"允许多选",displaySetting:{name:"显示设置",pc:"电脑端",mobile:"手机端",visible:"显示",hidden:"隐藏"},dataSource:{name:"数据源",defValue:"选项{0}",addOption:"添加选项",batchEditOption:"批量编辑",batchEditTip:"每行对应一个选项，支持从表格、Excel、WPS 中直接复制粘贴。",batchEditSubTip:"每行对应一个选项，如果是分组，子项可以是空格或制表键开头，支持从表格、Excel、WPS 中直接复制粘贴。",buildOption:"生成选项"},rowProp:{colSize:"列数",col2:"两列",col3:"三列",col4:"四列",col6:"六列",layout:"布局"},textProp:{name:"内容",alignTitle:"对齐方式",alignLeft:"居左",alignCenter:"居中",alignRight:"居右",colorTitle:"字体颜色",sizeTitle:"字体大小",boldTitle:"字体加粗",fontNormal:"常规",fontBold:"加粗"},subtableProp:{seqTitle:"序号",showSeq:"显示序号",showCheckbox:"允许多选",errSubDrag:"子表不支持该控件，请使用其他控件",colPlace:"将控件拖拽进来"},uploadProp:{limitFileCount:"文件数量限制",limitFileSize:"文件大小限制",multiFile:"允许上传多个文件",limitImgCount:"图片数量限制",limitImgSize:"图片大小限制",multiImg:"允许上传多张图片"}}},listDesign:{fieldSettingTab:"字段设置",listSettingTab:"参数设置",searchTitle:"查询条件",listTitle:"列表字段",searchField:"查询字段",listField:"列表字段",activeBtn:{ActionButtonUpdate:"编辑",ActionButtonDelete:"删除"},search:{addBtn:"编辑",emptyText:"未配置查询条件",editPopupTitle:"编辑查询字段"},searchPopup:{colTitle:"标题",saveBtn:"保存"}},text:{copySuccess:"已复制到剪贴板",copyError:"当前环境不支持该操作"},countdown:{formats:{yyyy:"年",MM:"月",dd:"天",HH:"时",mm:"分",ss:"秒"}},plugins:{extendCellArea:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",selectErr:"无法操作指定区域的单元格",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作",cpInvalidErr:"该操作无法进行，您选择的区域中存在被禁止的列（{0}）"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},body:{row:"行：{0}",col:"列：{0}"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},filterComplexInput:{menus:{fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧"},cases:{equal:"等于",gt:"大于",lt:"小于",begin:"开头是",endin:"结尾是",include:"包含",isSensitive:"区分大小写"}},filterCombination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结左侧",fixedRight:"冻结右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},empty:"(空白)",notData:"无匹配项"}},pro:{area:{mergeErr:"无法对合并单元格进行该操作",multiErr:"无法对多重选择区域进行该操作",extendErr:"如果延伸的区域包含被合并的单元格，所有合并的单元格需大小相同",pasteMultiErr:"无法粘贴，需要相同大小的复制的区域和粘贴的区域才能执行此操作"},fnr:{title:"查找和替换",findLabel:"查找",replaceLabel:"替换",findTitle:"查找内容：",replaceTitle:"替换为：",tabs:{find:"查找",replace:"替换"},filter:{re:"正则表达式",whole:"全词匹配",sensitive:"区分大小写"},btns:{findNext:"查找下一个",findAll:"查找全部",replace:"替换",replaceAll:"替换全部",cancel:"取消"},header:{seq:"#",cell:"单元格",value:"值"},empty:"(空值)",reError:"无效的正则表达式",recordCount:"已找到 {0} 个单元格",notCell:"找不到匹配的单元格",replaceSuccess:"成功替换 {0} 个单元格"}},renderer:{search:"搜索",cases:{equal:"等于",unequal:"不等于",gt:"大于",ge:"大于或等于",lt:"小于",le:"小于或等于",begin:"开头是",notbegin:"开头不是",endin:"结尾是",notendin:"结尾不是",include:"包含",exclude:"不包含",between:"介于",custom:"自定义筛选",insensitive:"不区分大小写",isSensitive:"区分大小写"},combination:{menus:{sort:"排序",clearSort:"清除排序",sortAsc:"升序",sortDesc:"降序",fixedColumn:"冻结列",fixedGroup:"冻结分组",cancelFixed:"取消冻结",fixedLeft:"冻结到左侧",fixedRight:"冻结到右侧",clearFilter:"清除筛选",textOption:"文本筛选",numberOption:"数值筛选"},popup:{title:"自定义筛选的方式",currColumnTitle:"当前列：",and:"与",or:"或",describeHtml:"可用 ? 代表单个字符<br/>用 * 代表任意多个字符"},empty:"(空白)",notData:"无匹配项"}}}}),qn}var Ad=kd();const Nd=Ya(Ad);export{Cd as V,Vd as a,zd as b,jd as c,Rd as d,Nd as z};
