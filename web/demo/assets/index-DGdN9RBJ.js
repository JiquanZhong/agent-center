import{M as Z,a as w,f as Ue,I as ge,g as Ie,h as Le,i as Me,S as ye,j as be,_ as we,k as Ae,m as $e,n as Ee,F as ke,o as Fe,p as Te,q as xe,D as Re,r as je,U as ze,B as Be,s as Qe,t as Ve,u as Ge,v as qe,w as He}from"./ant-design-vue--Wr84Izy.js";import{_ as Pe}from"./SvgIcon-D33RiJgU.js";import{c as Ce,C as Xe,a as Ye,b as Je}from"./index-BsLPKckO.js";import{g as We,d as Ze,a as et,u as tt,b as at,c as nt,e as pe,s as me,f as ce}from"./knowledge-4fmUvZpN.js";import{_ as ee}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{r as p,o as Ne,a0 as g,a5 as X,c as e,a1 as n,a2 as u,G as r,u as t,H as q,a7 as F,$ as N,e as O,ab as lt,w as _e,a as fe,k as ot,D as st,a9 as it,Z as ve}from"./@vue-B5btswkz.js";import{Q as ut,T as dt,V as rt}from"./@ant-design-B-ejxF28.js";import{_ as pt}from"./upload-4vm4seBQ.js";import{D as mt}from"./DetailSliceModal-ozYzig5_.js";import{d as re}from"./dayjs-bdfbxlhH.js";import"./@babel-Dd5QU_Ri.js";import"./lodash-es-CSO40SSR.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./vue-types-B67A5qzE.js";import"./@ctrl-3cdSgQbg.js";import"./dom-align-OCOKWGcj.js";import"./async-validator-P8scd9xB.js";import"./scroll-into-view-if-needed-BYx7v0DY.js";import"./compute-scroll-into-view-1gs_hJI2.js";import"./axios-upsvKRUO.js";import"./vue-router-D8gsG8iB.js";import"./pinia-DuIsOk5z.js";import"./vxe-pc-ui-B3rMWPmo.js";import"./xe-utils-BVyeMf_3.js";import"./@vxe-ui-ivSiCnOc.js";import"./dom-zindex-DlWB42XF.js";import"./vxe-table-CY8UZVkh.js";const ct={class:"tree-container"},_t={class:"form-main beautify-scrollbar"},ft={style:{"margin-top":"20px"}},vt={style:{"margin-top":"20px"}},gt={key:0,class:"cutting-method-describe"},yt={key:1,class:"cutting-method"},bt={class:"scheme-detail"},wt=["innerHTML"],kt=["title","onClick"],Tt={class:"file-number"},xt={__name:"Tree",emits:["setSelectedTreeKey"],setup(R,{expose:A,emit:j}){const k=p({general:{gs:"DOCX、EXCEL、PPT、IMAGE、PDF、TXT、MD、JSON、EML、HTML",gnsm:"系统使用视觉检测模型将连续文本分割成多个片段。这些片段被合并成 Token 数不超过预设值的块。",cj:"使用场景：适用于通用文档的分块处理。"},qa:{gs:"EXCEL、CSV/TXT",gnsm:"Excel 文件需包含两列（无标题），一列为问题，另一列为答案。<br/>CSV 或 TXT 文件需以 TAB 分隔问题和答案。<br/>每个问答对被视为一个独立的块。",cj:"适用于问答格式的文件。"},manual:{gs:"PDF",gnsm:"假设手册具有分层部分结构。<br/>使用最低部分标题作为切片的枢轴，确保同一部分中的图和表不会被分割。",cj:"适用于手册或分层结构的 PDF 文件。"},paper:{gs:"PDF",gnsm:"按论文的章节结构（如摘要、1.1、1.2 等）进行切片。<br/>有助于 LLM 更好地概括相关章节内容。",cj:"适用于学术论文的分块处理。"}}),_=p(0),c=p([]),f=p(!1),y=p(""),C=p(""),I=p(!1),T=p({}),v=p([]),m=p(!1),o=p({type:"general",delimiter:"",chunkTokenNum:1,autoKeywords:1,autoQuestions:1,autoSelect:"ai"}),x=j,Q=p(Ce().isAdministrator());Ne(async()=>{await z();const s=ae(c.value);v.value=[s],x("setSelectedTreeKey",v.value[0])});const te=(s,a)=>{v.value[0]!==s[0]&&(v.value=s,x("setSelectedTreeKey",v.value[0]))},ae=s=>{let a=s[0];for(;a.children.length>0;)a=a.children[0];return a.id},z=async()=>{const s=await We();c.value=[s]},ne=s=>{T.value=s;debugger;if(s.menuKey)switch(s.menuKey){case"newNode":le();break;case"rename":S(s);break;case"delete":Y();break}},le=s=>{I.value=!0,f.value=!0,_.value=0,y.value="",m.value=!1,o.value={type:"general",delimiter:"",chunkTokenNum:1,autoKeywords:1,autoQuestions:1,autoSelect:"ai"}},Y=s=>{Z.confirm({title:"确认删除该节点?",content:"删除后，节点不可恢复",okText:"确定",cancelText:"取消",onOk(){return Ze(T.value.id).then(()=>{w.success("删除成功"),z()})},onCancel(){}})},S=s=>{y.value=s.name,_.value=s.sortOrder,C.value=s.description,m.value=!0;debugger;o.value={...s},f.value=!0},$=async()=>{if(!y.value){w.warning("请输入节点名称");return}if(I.value){let s={};if(o.value.autoSelect==="ai"){const{autoKeywords:B,autoQuestions:b,autoSelect:V}=o.value;s={autoKeywords:B,autoQuestions:b,autoSelect:V}}else s={...o.value};const a={...s,pid:T.value.id,name:y.value,sortOrder:_.value||0,description:C.value,type:o.value.autoSelect==="ai"?T.value.type:o.value.type};await et(a).catch(B=>{w.warning("节点名称存在重复，请重新输入")})&&(y.value="",z(),w.success("新增成功"),T.value={},f.value=!1,_.value=0)}else{const s={name:y.value,sortOrder:_.value,description:C.value};o.value={...T.value},await tt(T.value.id,s).catch(h=>{w.warning("节点名称存在重复，请重新输入")})&&(z(),w.success("修改成功"),T.value={},f.value=!1,_.value=0)}I.value=!1};return A({refreshTreeData:z}),(s,a)=>{const h=Ue,B=ge,b=Ie,V=Le,oe=Me,G=ye,se=be,E=we,d=Ae,l=$e,K=Ee,L=ke,M=Pe,J=Fe,ie=Z,D=Te,ue=xe,H=Re,de=je;return g(),X("div",ct,[e(ie,{visible:t(f),"onUpdate:visible":a[12]||(a[12]=i=>q(f)?f.value=i:null),title:t(I)?"新增节点":"修改节点","cancel-text":"取消","ok-text":"确认",onOk:$,onCancel:s.handleCancel,style:{padding:"0px",width:"40%",top:"6vh"},destroyOnClose:!0},{default:n(()=>[u("div",_t,[u("div",null,[a[13]||(a[13]=u("span",{class:"item-label"},[u("span",{style:{color:"red"}},"*"),r(" 顺序:")],-1)),u("div",null,[e(h,{id:"inputNumber",value:t(_),"onUpdate:value":a[0]||(a[0]=i=>q(_)?_.value=i:null),min:0},null,8,["value"])])]),u("div",ft,[a[14]||(a[14]=u("span",{class:"item-label"},[u("span",{style:{color:"red"}},"*"),r("节点名称：")],-1)),e(B,{value:t(y),"onUpdate:value":a[1]||(a[1]=i=>q(y)?y.value=i:null),placeholder:"请输入节点名称"},null,8,["value"])]),u("div",vt,[a[15]||(a[15]=u("span",{class:"item-label"},"节点描述:",-1)),e(b,{value:t(C),"onUpdate:value":a[2]||(a[2]=i=>q(C)?C.value=i:null),placeholder:"请输入节点描述",rows:2},null,8,["value"])]),e(L,{ref:"formRef",model:t(o),layout:"vertical",name:"form_in_modal",style:{"margin-top":"10px"}},{default:n(()=>[e(E,{name:"autoSelect",label:"切图方式:"},{default:n(()=>[e(oe,{value:t(o).autoSelect,"onUpdate:value":a[3]||(a[3]=i=>t(o).autoSelect=i),"button-style":"solid",disabled:t(m)},{default:n(()=>[e(V,{value:"ai"},{default:n(()=>a[16]||(a[16]=[r("智能推荐")])),_:1}),e(V,{value:"custom"},{default:n(()=>a[17]||(a[17]=[r("自定义")])),_:1})]),_:1},8,["value","disabled"]),t(o).autoSelect==="ai"?(g(),X("div",gt," 系统根据上传文档类型和过往切片记录，自动选择合适的切片方案。 ")):(g(),X("div",yt,[a[25]||(a[25]=u("div",{class:"cutting-method-describe"},[r(" 可自定义切片方案，完全由对您不同类型的上传文档进行切片方案选择。"),u("span",{style:{color:"red"}},"需要对每种切片方案有一定了解！")],-1)),e(E,{name:"type",label:"切图方案："},{default:n(()=>[e(se,{ref:"select",value:t(o).type,"onUpdate:value":a[4]||(a[4]=i=>t(o).type=i),onFocus:s.focus,onChange:s.handleChange,disabled:t(m)},{default:n(()=>[e(G,{value:"general"},{default:n(()=>a[18]||(a[18]=[r("General")])),_:1}),e(G,{value:"qa"},{default:n(()=>a[19]||(a[19]=[r("Q&A")])),_:1}),e(G,{value:"manual"},{default:n(()=>a[20]||(a[20]=[r("Manual")])),_:1}),e(G,{value:"paper"},{default:n(()=>a[21]||(a[21]=[r("Paper")])),_:1})]),_:1},8,["value","onFocus","onChange","disabled"]),u("div",bt,[u("div",null,[a[22]||(a[22]=u("div",{class:"scheme-detail-label"},"适用文件格式：",-1)),u("p",null,F(t(k)[t(o).type].gs),1)]),u("div",null,[a[23]||(a[23]=u("div",{class:"scheme-detail-label"},"功能说明：",-1)),u("p",{innerHTML:t(k)[t(o).type].gnsm},null,8,wt)]),u("div",null,[a[24]||(a[24]=u("div",{class:"scheme-detail-label"},"使用场景：",-1)),u("p",null,F(t(k)[t(o).type].cj),1)])])]),_:1}),t(o).type==="general"?(g(),N(E,{key:0,name:"chunkTokenNum",label:"块Token数："},{default:n(()=>[e(K,null,{default:n(()=>[e(l,{span:18},{default:n(()=>[e(d,{id:"test",value:t(o).chunkTokenNum,"onUpdate:value":a[5]||(a[5]=i=>t(o).chunkTokenNum=i),min:1,max:2048,disabled:t(m)},null,8,["value","disabled"])]),_:1}),e(l,{span:6},{default:n(()=>[e(h,{value:t(o).chunkTokenNum,"onUpdate:value":a[6]||(a[6]=i=>t(o).chunkTokenNum=i),min:1,max:2048,style:{"margin-left":"16px"},disabled:t(m)},null,8,["value","disabled"])]),_:1})]),_:1})]),_:1})):O("",!0),t(o).type==="general"?(g(),N(E,{key:1,name:"delimiter",label:"分段标识符："},{default:n(()=>[e(B,{value:t(o).delimiter,"onUpdate:value":a[7]||(a[7]=i=>t(o).delimiter=i),disabled:t(m)},null,8,["value","disabled"])]),_:1})):O("",!0)]))]),_:1})]),_:1},8,["model"])]),e(L,{ref:"formRef",model:t(o),layout:"inline",name:"form_in_modal",style:{"margin-top":"10px"},labelAlign:"right",labelCol:{style:{width:"80px"}}},{default:n(()=>[e(E,{name:"自动关键词：",label:"自动关键词：",style:{width:"100%","margin-top":"20px"}},{default:n(()=>[e(K,null,{default:n(()=>[e(l,{span:15},{default:n(()=>[e(d,{id:"test",value:t(o).autoKeywords,"onUpdate:value":a[8]||(a[8]=i=>t(o).autoKeywords=i),min:1,max:30,disabled:t(m)},null,8,["value","disabled"])]),_:1}),e(l,{span:6},{default:n(()=>[e(h,{value:t(o).autoKeywords,"onUpdate:value":a[9]||(a[9]=i=>t(o).autoKeywords=i),min:1,max:30,style:{"margin-left":"16px"},disabled:t(m)},null,8,["value","disabled"])]),_:1}),e(l,{span:3},{default:n(()=>[e(J,{placement:"top",arrow:s.mergedArrow},{title:n(()=>a[26]||(a[26]=[u("span",null,"自动关键词不超过30个",-1)])),default:n(()=>[e(M,{name:"tip",style:{width:"16px",height:"16px"},class:"tip"})]),_:1},8,["arrow"])]),_:1})]),_:1})]),_:1}),e(E,{name:"自动问题：",label:"自动问题：",style:{width:"100%","margin-top":"20px"}},{default:n(()=>[e(K,null,{default:n(()=>[e(l,{span:15},{default:n(()=>[e(d,{id:"test",value:t(o).autoQuestions,"onUpdate:value":a[10]||(a[10]=i=>t(o).autoQuestions=i),min:1,max:10,disabled:t(m)},null,8,["value","disabled"])]),_:1}),e(l,{span:6},{default:n(()=>[e(h,{value:t(o).autoQuestions,"onUpdate:value":a[11]||(a[11]=i=>t(o).autoQuestions=i),min:1,max:10,style:{"margin-left":"16px"},disabled:t(m)},null,8,["value","disabled"])]),_:1}),e(l,{span:3},{default:n(()=>[e(J,{placement:"top",arrow:s.mergedArrow},{title:n(()=>a[27]||(a[27]=[u("span",null,"自动问题不超过10个",-1)])),default:n(()=>[e(M,{name:"tip",style:{width:"16px",height:"16px"},class:"tip"})]),_:1},8,["arrow"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["visible","title","onCancel"]),t(c).length?(g(),N(de,{key:0,"tree-data":t(c),blockNode:!0,virtual:!1,fieldNames:{children:"children",title:"name",key:"id"},defaultExpandAll:!0,selectedKeys:t(v)},{title:n(i=>[e(H,{trigger:["contextmenu"]},lt({default:n(()=>[u("span",{class:"node-content",title:i.description||i.name,onClick:W=>te([i.data.id])},[s.children&&s.children.length!==0?(g(),N(M,{key:0,name:"wjj",style:{width:"15px",height:"15px",display:"inline-block",position:"relative",bottom:"2px"}})):O("",!0),r(" "+F(i.name)+" ",1),u("span",Tt,"（"+F(i.data.documentNum)+"）",1)],8,kt)]),_:2},[t(Q)?{name:"overlay",fn:n(()=>[e(ue,{onClick:({key:W})=>ne({...i.data,menuKey:W})},{default:n(()=>[e(D,{key:"newNode"},{icon:n(()=>[e(t(ut))]),default:n(()=>[a[28]||(a[28]=r(" 新建节点 "))]),_:1}),e(D,{key:"rename"},{icon:n(()=>[e(t(dt))]),default:n(()=>[a[29]||(a[29]=r(" 修改 "))]),_:1}),e(D,{key:"delete",danger:""},{icon:n(()=>[e(t(rt))]),default:n(()=>[a[30]||(a[30]=r(" 删除 "))]),_:1})]),_:2},1032,["onClick"])]),key:"0"}:void 0]),1024)]),_:1},8,["tree-data","selectedKeys"])):O("",!0)])}}},Ct=ee(xt,[["__scopeId","data-v-de04baa9"]]),Nt={class:"upload-actions"},ht={class:"tip"},Ot={__name:"UpLoadFileModal",props:{modalOpen:{type:Boolean,default:!1},selectedTreeKey:{type:String,default:""}},emits:["update:modalOpen","upload-success"],setup(R,{emit:A}){Ye().get(Xe.TOKEN_NAME);const k=R,_=A,c=p([]),f=p(!1),y=v=>{const m=["doc","docx","pdf","ppt","txt","xlsx",".xls"],o=v.type.startsWith("image/"),x=v.name.split(".").pop().toLowerCase();return!m.includes(x)&&!o?(w.error("仅支持上传文档（doc/docx/pdf/ppt/txt/xlsx/xls）或图片文件"),!1):(c.value=[...c.value,v],!1)},C=async()=>{var m,o;if(c.value.length===0)return;f.value=!0;const v=new FormData;c.value.forEach(x=>{v.append("files",x.originFileObj)});try{await at(k.selectedTreeKey,v),w.success("上传成功"),c.value=[],I()}catch(x){w.error("上传失败: "+(((o=(m=x.response)==null?void 0:m.data)==null?void 0:o.message)||x.message))}finally{uploading.value=!1}},I=()=>{f.value=!1,_("update:modalOpen",!1)},T=()=>{_("update:modalOpen",!1)};return(v,m)=>{const o=ze,x=Z;return g(),N(x,{style:{width:"50%"},visible:R.modalOpen,title:"上传文档","cancel-text":"取消","confirm-loading":f.value,destroyOnClose:!0,"ok-text":"开始上传",onOk:C,onCancel:T},{default:n(()=>[e(o,{fileList:c.value,"onUpdate:fileList":m[0]||(m[0]=Q=>c.value=Q),name:"files",multiple:!0,accept:".doc,.docx,.pdf,.ppt,.txt,.xlsx,.xls,image/*","before-upload":y,onChange:v.handleChange,onDrop:v.handleDrop,showUploadList:{showRemoveIcon:!f.value}},{default:n(()=>m[1]||(m[1]=[u("div",{class:"ant-upload-drag-icon"},[u("img",{src:pt}),u("p",{style:{color:"#4687fe","font-weight":"600"}},"上传本地文件")],-1)])),_:1},8,["fileList","onChange","onDrop","showUploadList"]),u("div",Nt,[u("span",ht,"已选择 "+F(c.value.length)+" 个文件",1)])]),_:1},8,["visible","confirm-loading"])}}},St=ee(Ot,[["__scopeId","data-v-43f6e9cf"]]),Kt={class:"knowledge-table-container"},Dt={class:"main-content"},Ut={class:"search-section"},It={class:"table-section"},Lt={__name:"KnowledgeTable",props:{selectedTreeKey:{type:String,required:!0}},emits:["refreshTreeData"],setup(R,{emit:A}){const j=Je(),k=p(Ce().isAdministrator()),_=p([]);p(!1);const c=p(!1),f=p(!1),y=p(""),C=p("开始解析"),I=p(""),T=A;let v=null;const m={UNSTART:"待解析",RUNNING:"解析中",CANCEL:"已取消",DONE:"已解析",FAIL:"解析失败"},o=k.value?{UNSTART:"开始解析",RUNNING:"停止解析",CANCEL:"重新解析",DONE:"查看",FAIL:"重新解析"}:{DONE:"查看"},x={UNSTART:"",RUNNING:"",CANCEL:"",DONE:"#389e0d",FAIL:"#ff4d4f"},Q=R,te=()=>{c.value=!0},ae=d=>{C.value=d.key};_e(()=>Q.selectedTreeKey,d=>{Object.assign(S,{name:"",status:""}),h.value=!1,$.current=1,b()}),_e(()=>c.value,d=>{d||(b(),T("refreshTreeData"))});const z=d=>{Z.confirm({title:"确认删除该文件?",content:"删除后，文件不可恢复",okText:"确定",cancelText:"取消",onOk(){return pe([d.id]).then(l=>{w.success("删除成功"),b(),T("refreshTreeData")})},onCancel(){}})},ne=[{title:"文档名称",dataIndex:"name",ellipsis:!0},{title:"上传人",dataIndex:"username",width:80,ellipsis:!0},{title:"上传时间",dataIndex:"create_time",width:100,sorter:(d,l)=>re(d.createTime)-re(l.createTime),customRender:({text:d})=>re(Number(d)).format("YYYY-MM-DD HH:mm:ss")},{title:"文档状态",dataIndex:"run",width:80,align:"center"},{title:"文档类型",dataIndex:"type",width:80,align:"center"},{title:"操作",dataIndex:"operation",width:150,align:"center",fixed:"right"}],le=d=>{Object.assign($,d),b()},Y=p([]),S=fe({name:"",status:""}),$=fe({current:1,pageSize:10,total:50,showSizeChanger:!0,pageSizeOptions:["10","20","50","100"],showTotal:d=>`共 ${d} 条`}),s=p(!1),a=p(!1),h=p(!1);Ne(()=>{v=setInterval(()=>{b(!0)},5e3)}),ot(()=>{clearInterval(v)});const B=d=>{_.value=d},b=async d=>{try{d||(s.value=!0);const l={...S,page:$.current,pageSize:$.pageSize},K=await nt(Q.selectedTreeKey,l);$.total=K.data.total,Y.value=K.data.docs}catch{w.error("数据加载失败")}finally{s.value=!1}},V=()=>{h.value=!0,b()},oe=()=>{Object.assign(S,{name:"",status:""}),h.value=!1,b()},G=d=>{f.value=!0,y.value=d.name,I.value=d.id},se=async()=>{const d=_.value;switch(C.value){case"开始解析":await ce(d),w.success("已批量开始解析");break;case"结束解析":await me(d),w.success("已批量结束解析");break;default:pe(d).then(l=>{w.success("批量删除成功")})}_.value=[],b()},E=async d=>{const l=["UNSTART","CANCEL","FAIL"],K=["RUNNING"],L=d.run;l.includes(L)?(await ce([d.id]),b()):K.includes(L)?(await me([d.id]),b()):G(d)};return(d,l)=>{const K=ge,L=we,M=ye,J=be,ie=ve("SearchOutlined"),D=Be,ue=ve("UndoOutlined"),H=Qe,de=ke,i=Te,W=xe,he=Ve,Oe=Ge,Se=qe,Ke=He;return g(),X("div",Kt,[e(St,{modalOpen:t(c),"onUpdate:modalOpen":l[0]||(l[0]=U=>q(c)?c.value=U:null),selectedTreeKey:R.selectedTreeKey},null,8,["modalOpen","selectedTreeKey"]),t(f)?(g(),N(mt,{key:0,modalOpen:t(f),"onUpdate:modalOpen":l[1]||(l[1]=U=>q(f)?f.value=U:null),title:t(y),documentId:t(I)},null,8,["modalOpen","title","documentId"])):O("",!0),u("div",Dt,[u("div",Ut,[e(de,{model:t(S),layout:"inline",class:"advanced-search-form",onSubmit:st(V,["prevent"])},{default:n(()=>[e(L,{label:"文档名称",class:"form-item-custom"},{default:n(()=>[e(K,{value:t(S).name,"onUpdate:value":l[2]||(l[2]=U=>t(S).name=U),placeholder:"请输入关键字进行搜索",style:{width:"200px"},"allow-clear":""},null,8,["value"])]),_:1}),e(L,{label:"文档状态",class:"form-item-custom"},{default:n(()=>[e(J,{placeholder:"请选择文档状态",value:t(S).status,"onUpdate:value":l[3]||(l[3]=U=>t(S).status=U),style:{width:"200px"},"allow-clear":""},{default:n(()=>[e(M,{value:"0"},{default:n(()=>l[4]||(l[4]=[r("未解析")])),_:1}),e(M,{value:"1"},{default:n(()=>l[5]||(l[5]=[r("解析中")])),_:1}),e(M,{value:"2"},{default:n(()=>l[6]||(l[6]=[r("已取消")])),_:1}),e(M,{value:"3"},{default:n(()=>l[7]||(l[7]=[r("已解析")])),_:1}),e(M,{value:"4"},{default:n(()=>l[8]||(l[8]=[r("解析失败")])),_:1})]),_:1},8,["value"])]),_:1}),e(L,{class:"form-item-custom"},{default:n(()=>[e(H,{size:16},{default:n(()=>[e(D,{"html-type":"submit",loading:t(a),type:"primary"},{icon:n(()=>[e(ie)]),default:n(()=>[l[9]||(l[9]=r(" 搜索 "))]),_:1},8,["loading"]),e(D,{onClick:oe,class:"main-btn"},{icon:n(()=>[e(ue)]),default:n(()=>[l[10]||(l[10]=r(" 重置 "))]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),u("div",It,[e(H,{size:16,style:{"margin-bottom":"20px"}},{default:n(()=>[t(k)?(g(),N(D,{key:0,type:"primary",onClick:te},{default:n(()=>l[11]||(l[11]=[r(" 上传文档 ")])),_:1})):O("",!0),t(k)?(g(),N(he,{key:1,onClick:se,type:"primary"},{overlay:n(()=>[e(W,{onClick:ae},{default:n(()=>[e(i,{key:"开始解析"},{default:n(()=>l[12]||(l[12]=[r(" 开始解析 ")])),_:1}),e(i,{key:"结束解析"},{default:n(()=>l[13]||(l[13]=[r(" 结束解析 ")])),_:1}),e(i,{key:"删除"},{default:n(()=>l[14]||(l[14]=[r("删除")])),_:1})]),_:1})]),default:n(()=>[r(F(t(C))+" ",1)]),_:1})):O("",!0)]),_:1}),e(Ke,{"row-selection":{selectedRowKeys:t(_),onChange:B},columns:ne,loading:t(s),"data-source":t(Y),pagination:t($),scroll:{x:500,y:t(j).gjMode?"calc(100vh - 82px - 320px)":"calc(100vh - 320px)"},bordered:"",size:"middle","row-key":"id",sticky:"",onChange:le},{bodyCell:n(({column:U,record:P})=>[U.dataIndex==="run"?(g(),N(D,{key:0,type:"link",size:"small",style:it({color:x[P.run]})},{default:n(()=>[r(F(m[P.run]),1)]),_:2},1032,["style"])):O("",!0),U.dataIndex==="operation"?(g(),N(H,{key:1,size:4},{default:n(()=>[e(D,{type:"link",size:"small",onClick:De=>E(P)},{default:n(()=>[r(F(t(o)[P.run]),1)]),_:2},1032,["onClick"]),t(k)?(g(),N(Oe,{key:0,type:"vertical"})):O("",!0),t(k)?(g(),N(D,{key:1,type:"link",size:"small",style:{color:"#ea3333"},onClick:De=>z(P)},{default:n(()=>l[15]||(l[15]=[r(" 删除 ")])),_:2},1032,["onClick"])):O("",!0)]),_:2},1024)):O("",!0)]),emptyText:n(()=>[e(Se,{description:t(h)?"暂无相关数据":"暂无数据"},null,8,["description"])]),_:1},8,["row-selection","loading","data-source","pagination","scroll"])])])])}}},Mt=ee(Lt,[["__scopeId","data-v-7411872f"]]),At={class:"knowledge"},$t={class:"tree"},Et={id:"knowledge-table"},Ft={__name:"index",setup(R){const A=p(null),j=p(""),k=c=>{j.value=c},_=()=>{A.value.refreshTreeData()};return(c,f)=>(g(),X("div",At,[u("div",$t,[e(Ct,{onSetSelectedTreeKey:k,ref_key:"tree",ref:A},null,512)]),u("div",Et,[e(Mt,{selectedTreeKey:t(j),onRefreshTreeData:_},null,8,["selectedTreeKey"])])]))}},ma=ee(Ft,[["__scopeId","data-v-37f4e3a7"]]);export{ma as default};
