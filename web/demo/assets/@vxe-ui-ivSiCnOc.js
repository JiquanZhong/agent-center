import{X as r}from"./xe-utils-BVyeMf_3.js";import{D as B}from"./dom-zindex-DlWB42XF.js";import{a as G,b as F,i as Z,p as K,e as Y}from"./@vue-B5btswkz.js";const q="4.0.38",d={coreVersion:q,uiVersion:"",tableVersion:""},m={size:"",version:1,zIndex:999,resizeInterval:500},_={theme:""};function A(t){const e=!t||t==="default"?"light":t;if(_.theme=e,typeof document<"u"){const n=document.documentElement;n&&n.setAttribute("data-vxe-ui-theme",e)}return d}function J(){return _.theme}function Q(t){return t&&(t.zIndex&&B.setCurrent(t.zIndex),t.theme&&A(t.theme),r.merge(m,t)),d}function ee(t,e){return arguments.length?r.get(m,t,e):m}const te={},y={};function ne(t){return t&&Object.assign(y,t),d}function se(t){return arguments.length?r.get(y,t):y}const f={F2:"F2",ESCAPE:"Escape",ENTER:"Enter",TAB:"Tab",DELETE:"Delete",BACKSPACE:"Backspace",SPACEBAR:" ",CONTEXT_MENU:"ContextMenu",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",Control:"Control",R:"R",P:"P",Z:"Z",X:"X",C:"C",V:"V",M:"M"},j=r.browse(),T={" ":"Spacebar",Apps:f.CONTEXT_MENU,Del:f.DELETE,Up:f.ARROW_UP,Down:f.ARROW_DOWN,Left:f.ARROW_LEFT,Right:f.ARROW_RIGHT},N=j.firefox?"DOMMouseScroll":"mousewheel",P=[];function a(t){const e=t.type===N;P.forEach(({type:n,cb:s})=>{t.cancelBubble||(n===t.type||e&&n==="mousewheel")&&s(t)})}class re{constructor(e,n,s){Object.defineProperty(this,"$event",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"type",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"key",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:""}),this.$event=e,e&&(e.type&&(this.type=e.type),e.key&&(this.key=e.key),e.code&&(this.code=e.code)),Object.assign(this,n),r.objectEach(s,(o,u)=>{if(r.isFunction(o)){let i=null,l=!1;Object.defineProperty(this,u,{get(){return l||(l=!0,i=o()),i}})}else this[u]=o})}stopPropagation(){const e=this.$event;e&&e.stopPropagation()}preventDefault(){const e=this.$event;e&&e.preventDefault()}}const oe=(t,e,n)=>new re(t,e,n),ie={on(t,e,n){P.push({comp:t,type:e,cb:n})},off(t,e){r.remove(P,n=>n.comp===t&&n.type===e)},hasKey(t,e){const{key:n}=t;return e=e.toLowerCase(),n?e===n.toLowerCase()||!!(T[n]&&T[n].toLowerCase()===e):!1}};j.isDoc&&(j.msie||(window.addEventListener("copy",a,!1),window.addEventListener("cut",a,!1),window.addEventListener("paste",a,!1)),document.addEventListener("keydown",a,!1),document.addEventListener("contextmenu",a,!1),window.addEventListener("mousedown",a,!1),window.addEventListener("blur",a,!1),window.addEventListener("resize",a,!1),window.addEventListener(N,r.throttle(a,100,{leading:!0,trailing:!1}),{passive:!0,capture:!1}));let k;const h=[],ce=500;function ae(){h.length&&(h.forEach(t=>{t.tarList.forEach(e=>{const{target:n,width:s,heighe:o}=e,u=n.clientWidth,i=n.clientHeight;(u&&s!==u||i&&o!==i)&&(e.width=u,e.heighe=i,setTimeout(t.callback))})}),$())}function $(){clearTimeout(k),k=setTimeout(ae,m.resizeInterval||ce)}class ue{constructor(e){Object.defineProperty(this,"tarList",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e}observe(e){if(e){const{tarList:n}=this;n.some(s=>s.target===e)||n.push({target:e,width:e.clientWidth,heighe:e.clientHeight}),h.length||$(),h.some(s=>s===this)||h.push(this)}}unobserve(e){r.remove(h,n=>n.tarList.some(s=>s.target===e))}disconnect(){r.remove(h,e=>e===this)}}const le={create(t){return window.ResizeObserver?new window.ResizeObserver(t):new ue(t)}},v=G({language:"",langMaps:{}});let z=!1;function U(t,e){const{langMaps:n,language:s}=v,{i18n:o}=m;return o?`${o(t,e)||""}`:(z||(n[s]||console.error(`[vxe core] 语言包未安装。Language not installed. https://${d.uiVersion?"vxeui.com":"vxetable.cn"}/#/start/i18n`),z=!0),r.toFormatString(r.get(n[s],t,t),e))}function fe(t){return v.language=t||"zh-CN",d}function he(t,e){return v.langMaps[t]=Object.assign({},e),d}function de(t){const{langMaps:e}=v;return!!e[t]}function ge(){const{language:t}=v;return t}function S(t,e){return function(n,s){const o=`[vxe ${e||""}] ${U(n,s)}`;return console[t](o),o}}const D="4.0.38",me={create:S,warn:S("warn",`v${D}`),err:S("error",`v${D}`)},p={},g={mixin(t){return r.each(t,(e,n)=>g.add(n,e)),g},get(t){return p[t]||null},add(t,e){if(t&&e){const n=p[t];n?Object.assign(n,e):p[t]=e}return g},forEach(t){return r.objectEach(p,t),g},delete(t){return delete p[t],g}};class X{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return r.each(e,(n,s)=>{this.add(s,n)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,n){const s=this.store[e];return this.store[e]=s?r.merge(s,n):n,this}delete(e){delete this.store[e]}forEach(e){r.objectEach(this.store,e)}}const be=new X;class pe{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return r.each(e,(n,s)=>{this.add(s,n)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,n){const s=this.store[e];return r.isFunction(n)&&(n={menuMethod:n}),this.store[e]=s?r.merge(s,n):n,this}delete(e){delete this.store[e]}forEach(e){r.objectEach(this.store,e)}}const Ee=new pe;class we{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return r.each(e,(n,s)=>{this.add(s,n)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,n){const s=this.store[e];return r.isFunction(n)&&(n={cellFormatMethod:n}),this.store[e]=s?r.merge(s,n):n,this}delete(e){delete this.store[e]}forEach(e){r.objectEach(this.store,e)}}const ve=new we;class xe{constructor(){Object.defineProperty(this,"store",{enumerable:!0,configurable:!0,writable:!0,value:{}})}mixin(e){return r.each(e,(n,s)=>{this.add(s,n)}),this}has(e){return!!this.get(e)}get(e){return this.store[e]}add(e,n){const s=this.store[e];return r.isFunction(n)&&(n={commandMethod:n}),this.store[e]=s?r.merge(s,n):n,this}delete(e){delete this.store[e]}forEach(e){r.objectEach(this.store,e)}}const Oe=new xe,E={},O={mixin(t){return r.each(t,(e,n)=>{O.add(n,e)}),O},get(t){return E[t]||[]},add(t,e){r.isFunction(e)&&(e={tableInterceptorMethod:e});const n=e.tableInterceptorMethod;if(n){let s=E[t];s||(s=E[t]=[]),s.push(n)}return O},delete(t,e){const n=E[t];if(n){r.isFunction(e)&&(e={tableInterceptorMethod:e});const s=e?e.tableInterceptorMethod:null;s?r.remove(n,o=>o===s):delete E[t]}}};let c;const w={text:"",html:""};function Ce(t){if(!c){c=document.createElement("textarea"),c.id="$VxeCopy";const e=c.style;e.width="48px",e.height="24px",e.position="fixed",e.zIndex="0",e.left="-500px",e.top="-500px",document.body.appendChild(c)}c.value=t}const Le={getStore(){return w},setStore(t){Object.assign(w,t||{})},copy(t){let e=!1;try{const n=r.toValueString(t);Ce(n),c.select(),c.setSelectionRange(0,c.value.length),e=document.execCommand("copy"),c.blur(),w.text=n,w.html=""}catch{}return e},getText(){return w.text||""}};function C(t,e){let n=!0,s=!1;const o=e||m.permissionMethod;if(t&&o){n=!1,s=!0;let i=!1,l=!1;const L=String(t).split("|");for(let I=0;I<L.length;I++){const H=L[I];let x=!0,R=!1;const b=o({code:H});if(r.isBoolean(b)?x=b:b&&(x=!!b.visible,R=!!b.disabled),!R&&!l&&(l=!0,s=R),x&&!i&&(i=!0,n=x),i&&l)break}}return{code:t,visible:n,disabled:s}}const Ie={getCheckInfo(t){return C(t)},checkVisible(t){return C(t).visible},checkDisable(t){return C(t).disabled}},Re=new X;function Se(t){const e=Z("xeSizeInfo",null),n=F(()=>t.size||(e?e.value:null));return K("xeSizeInfo",n),{computeSize:n}}function ye(t){return{computePermissionInfo:F(()=>C(t.permissionCode,t.permissionMethod))}}const je={useSize:Se,usePermission:ye},V=[];function Pe(t,e){return t&&t.install&&V.indexOf(t)===-1&&(t.install(W,e),V.push(t)),W}const M={};function Me(t){return M[t]||null}function Ae(t){t&&t.name&&(M[t.name]=t,M[r.kebabCase(t.name)]=t)}function Te(){return Y()}const W=Object.assign(d,{renderEmptyElement:Te,setTheme:A,getTheme:J,setConfig:Q,getConfig:ee,setIcon:ne,getIcon:se,setLanguage:fe,hasLanguage:de,getLanguage:ge,setI18n:he,getI18n:U,globalEvents:ie,GLOBAL_EVENT_KEYS:f,createEvent:oe,globalResize:le,renderer:g,validators:be,menus:Ee,formats:ve,commands:Oe,interceptor:O,clipboard:Le,log:me,permission:Ie,globalStore:te,hooks:Re,component:Ae,getComponent:Me,useFns:je,use:Pe});A();export{f as G,W as V,ne as a,se as b,oe as c,ye as d,ie as e,U as f,ee as g,g as h,Me as i,le as j,he as k,me as l,fe as m,A as n,Ie as p,Te as r,Q as s,Se as u,be as v};
